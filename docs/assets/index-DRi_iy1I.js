(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Gb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var kd={exports:{}},El={};var Y_;function Qb(){if(Y_)return El;Y_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return El.Fragment=t,El.jsx=i,El.jsxs=i,El}var K_;function Yb(){return K_||(K_=1,kd.exports=Qb()),kd.exports}var V=Yb(),Ud={exports:{}},Et={};var X_;function Kb(){if(X_)return Et;X_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),x=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,G={};function rt(O,$,nt){this.props=O,this.context=$,this.refs=G,this.updater=nt||W}rt.prototype.isReactComponent={},rt.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},rt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ut(){}ut.prototype=rt.prototype;function ht(O,$,nt){this.props=O,this.context=$,this.refs=G,this.updater=nt||W}var Lt=ht.prototype=new ut;Lt.constructor=ht,Z(Lt,rt.prototype),Lt.isPureReactComponent=!0;var Wt=Array.isArray;function Mt(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function S(O,$,nt){var at=nt.ref;return{$$typeof:r,type:O,key:$,ref:at!==void 0?at:null,props:nt}}function M(O,$){return S(O.type,$,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function k(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return $[nt]})}var R=/\/+/g;function Kt(O,$){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):$.toString(36)}function te(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Mt,Mt):(O.status="pending",O.then(function($){O.status==="pending"&&(O.status="fulfilled",O.value=$)},function($){O.status==="pending"&&(O.status="rejected",O.reason=$)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,$,nt,at,_t){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var kt=!1;if(O===null)kt=!0;else switch(St){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(O.$$typeof){case r:case t:kt=!0;break;case b:return kt=O._init,H(kt(O._payload),$,nt,at,_t)}}if(kt)return _t=_t(O),kt=at===""?"."+Kt(O,0):at,Wt(_t)?(nt="",kt!=null&&(nt=kt.replace(R,"$&/")+"/"),H(_t,$,nt,"",function(ls){return ls})):_t!=null&&(N(_t)&&(_t=M(_t,nt+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(R,"$&/")+"/")+kt)),$.push(_t)),1;kt=0;var Ne=at===""?".":at+":";if(Wt(O))for(var ae=0;ae<O.length;ae++)at=O[ae],St=Ne+Kt(at,ae),kt+=H(at,$,nt,St,_t);else if(ae=F(O),typeof ae=="function")for(O=ae.call(O),ae=0;!(at=O.next()).done;)at=at.value,St=Ne+Kt(at,ae++),kt+=H(at,$,nt,St,_t);else if(St==="object"){if(typeof O.then=="function")return H(te(O),$,nt,at,_t);throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return kt}function et(O,$,nt){if(O==null)return O;var at=[],_t=0;return H(O,at,"","",function(St){return $.call(nt,St,_t++)}),at}function ct(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var Pt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ft={map:et,forEach:function(O,$,nt){et(O,function(){$.apply(this,arguments)},nt)},count:function(O){var $=0;return et(O,function(){$++}),$},toArray:function(O){return et(O,function($){return $})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Et.Activity=A,Et.Children=Ft,Et.Component=rt,Et.Fragment=i,Et.Profiler=l,Et.PureComponent=ht,Et.StrictMode=s,Et.Suspense=y,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Et.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Et.cache=function(O){return function(){return O.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(O,$,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=Z({},O.props),_t=O.key;if($!=null)for(St in $.key!==void 0&&(_t=""+$.key),$)!w.call($,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&$.ref===void 0||(at[St]=$[St]);var St=arguments.length-2;if(St===1)at.children=nt;else if(1<St){for(var kt=Array(St),Ne=0;Ne<St;Ne++)kt[Ne]=arguments[Ne+2];at.children=kt}return S(O.type,_t,at)},Et.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Et.createElement=function(O,$,nt){var at,_t={},St=null;if($!=null)for(at in $.key!==void 0&&(St=""+$.key),$)w.call($,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(_t[at]=$[at]);var kt=arguments.length-2;if(kt===1)_t.children=nt;else if(1<kt){for(var Ne=Array(kt),ae=0;ae<kt;ae++)Ne[ae]=arguments[ae+2];_t.children=Ne}if(O&&O.defaultProps)for(at in kt=O.defaultProps,kt)_t[at]===void 0&&(_t[at]=kt[at]);return S(O,St,_t)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(O){return{$$typeof:p,render:O}},Et.isValidElement=N,Et.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ct}},Et.memo=function(O,$){return{$$typeof:_,type:O,compare:$===void 0?null:$}},Et.startTransition=function(O){var $=C.T,nt={};C.T=nt;try{var at=O(),_t=C.S;_t!==null&&_t(nt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Mt,Pt)}catch(St){Pt(St)}finally{$!==null&&nt.types!==null&&($.types=nt.types),C.T=$}},Et.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Et.use=function(O){return C.H.use(O)},Et.useActionState=function(O,$,nt){return C.H.useActionState(O,$,nt)},Et.useCallback=function(O,$){return C.H.useCallback(O,$)},Et.useContext=function(O){return C.H.useContext(O)},Et.useDebugValue=function(){},Et.useDeferredValue=function(O,$){return C.H.useDeferredValue(O,$)},Et.useEffect=function(O,$){return C.H.useEffect(O,$)},Et.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Et.useId=function(){return C.H.useId()},Et.useImperativeHandle=function(O,$,nt){return C.H.useImperativeHandle(O,$,nt)},Et.useInsertionEffect=function(O,$){return C.H.useInsertionEffect(O,$)},Et.useLayoutEffect=function(O,$){return C.H.useLayoutEffect(O,$)},Et.useMemo=function(O,$){return C.H.useMemo(O,$)},Et.useOptimistic=function(O,$){return C.H.useOptimistic(O,$)},Et.useReducer=function(O,$,nt){return C.H.useReducer(O,$,nt)},Et.useRef=function(O){return C.H.useRef(O)},Et.useState=function(O){return C.H.useState(O)},Et.useSyncExternalStore=function(O,$,nt){return C.H.useSyncExternalStore(O,$,nt)},Et.useTransition=function(){return C.H.useTransition()},Et.version="19.2.0",Et}var $_;function Rm(){return $_||($_=1,Ud.exports=Kb()),Ud.exports}var mt=Rm();const Xb=Gb(mt);var Ld={exports:{}},Tl={},Pd={exports:{}},zd={};var J_;function $b(){return J_||(J_=1,(function(r){function t(H,et){var ct=H.length;H.push(et);t:for(;0<ct;){var Pt=ct-1>>>1,Ft=H[Pt];if(0<l(Ft,et))H[Pt]=et,H[ct]=Ft,ct=Pt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var et=H[0],ct=H.pop();if(ct!==et){H[0]=ct;t:for(var Pt=0,Ft=H.length,O=Ft>>>1;Pt<O;){var $=2*(Pt+1)-1,nt=H[$],at=$+1,_t=H[at];if(0>l(nt,ct))at<Ft&&0>l(_t,nt)?(H[Pt]=_t,H[at]=ct,Pt=at):(H[Pt]=nt,H[$]=ct,Pt=$);else if(at<Ft&&0>l(_t,ct))H[Pt]=_t,H[at]=ct,Pt=at;else break t}}return et}function l(H,et){var ct=H.sortIndex-et.sortIndex;return ct!==0?ct:H.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],b=1,A=null,x=3,F=!1,W=!1,Z=!1,G=!1,rt=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function Lt(H){for(var et=i(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=H)s(_),et.sortIndex=et.expirationTime,t(y,et);else break;et=i(_)}}function Wt(H){if(Z=!1,Lt(H),!W)if(i(y)!==null)W=!0,Mt||(Mt=!0,k());else{var et=i(_);et!==null&&te(Wt,et.startTime-H)}}var Mt=!1,C=-1,w=5,S=-1;function M(){return G?!0:!(r.unstable_now()-S<w)}function N(){if(G=!1,Mt){var H=r.unstable_now();S=H;var et=!0;try{t:{W=!1,Z&&(Z=!1,ut(C),C=-1),F=!0;var ct=x;try{e:{for(Lt(H),A=i(y);A!==null&&!(A.expirationTime>H&&M());){var Pt=A.callback;if(typeof Pt=="function"){A.callback=null,x=A.priorityLevel;var Ft=Pt(A.expirationTime<=H);if(H=r.unstable_now(),typeof Ft=="function"){A.callback=Ft,Lt(H),et=!0;break e}A===i(y)&&s(y),Lt(H)}else s(y);A=i(y)}if(A!==null)et=!0;else{var O=i(_);O!==null&&te(Wt,O.startTime-H),et=!1}}break t}finally{A=null,x=ct,F=!1}et=void 0}}finally{et?k():Mt=!1}}}var k;if(typeof ht=="function")k=function(){ht(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Kt=R.port2;R.port1.onmessage=N,k=function(){Kt.postMessage(null)}}else k=function(){rt(N,0)};function te(H,et){C=rt(function(){H(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(H){switch(x){case 1:case 2:case 3:var et=3;break;default:et=x}var ct=x;x=et;try{return H()}finally{x=ct}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ct=x;x=H;try{return et()}finally{x=ct}},r.unstable_scheduleCallback=function(H,et,ct){var Pt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Pt+ct:Pt):ct=Pt,H){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ct+Ft,H={id:b++,callback:et,priorityLevel:H,startTime:ct,expirationTime:Ft,sortIndex:-1},ct>Pt?(H.sortIndex=ct,t(_,H),i(y)===null&&H===i(_)&&(Z?(ut(C),C=-1):Z=!0,te(Wt,ct-Pt))):(H.sortIndex=Ft,t(y,H),W||F||(W=!0,Mt||(Mt=!0,k()))),H},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(H){var et=x;return function(){var ct=x;x=et;try{return H.apply(this,arguments)}finally{x=ct}}}})(zd)),zd}var Z_;function Jb(){return Z_||(Z_=1,Pd.exports=$b()),Pd.exports}var jd={exports:{}},Ye={};var W_;function Zb(){if(W_)return Ye;W_=1;var r=Rm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,b)},Ye.flushSync=function(y){var _=d.T,b=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=_,s.p=b,s.d.f()}},Ye.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(y,_))},Ye.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Ye.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?s.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:x,fetchPriority:F}):b==="script"&&s.d.X(y,{crossOrigin:A,integrity:x,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);s.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(y)},Ye.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin);s.d.L(y,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=p(_.as,_.crossOrigin);s.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(y)},Ye.requestFormReset=function(y){s.d.r(y)},Ye.unstable_batchedUpdates=function(y,_){return y(_)},Ye.useFormState=function(y,_,b){return d.H.useFormState(y,_,b)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.0",Ye}var t0;function Wb(){if(t0)return jd.exports;t0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),jd.exports=Zb(),jd.exports}var e0;function tA(){if(e0)return Tl;e0=1;var r=Jb(),t=Rm(),i=Wb();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(s(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,x=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),rt=Symbol.for("react.profiler"),ut=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),Lt=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Kt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case rt:return"Profiler";case G:return"StrictMode";case Wt:return"Suspense";case Mt:return"SuspenseList";case S:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case ht:return e.displayName||"Context";case ut:return(e._context.displayName||"Context")+".Consumer";case Lt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:Kt(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return Kt(e(n))}catch{}}return null}var te=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Pt=[],Ft=-1;function O(e){return{current:e}}function $(e){0>Ft||(e.current=Pt[Ft],Pt[Ft]=null,Ft--)}function nt(e,n){Ft++,Pt[Ft]=e.current,e.current=n}var at=O(null),_t=O(null),St=O(null),kt=O(null);function Ne(e,n){switch(nt(St,n),nt(_t,e),nt(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?g_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=g_(n),e=y_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(at),nt(at,e)}function ae(){$(at),$(_t),$(St)}function ls(e){e.memoizedState!==null&&nt(kt,e);var n=at.current,a=y_(n,e.type);n!==a&&(nt(_t,e),nt(at,a))}function Ws(e){_t.current===e&&($(at),$(_t)),kt.current===e&&($(kt),gl._currentValue=ct)}var ta,ea;function ni(e){if(ta===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ta=n&&n[1]||"",ea=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ta+e+ea}var go=!1;function us(e,n){if(!e||go)return"";go=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var j=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){j=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){j=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),z=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var Q=`
`+I[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{go=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ni(a):""}function yo(e,n){switch(e.tag){case 26:case 27:case 5:return ni(e.type);case 16:return ni("Lazy");case 13:return e.child!==n&&n!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return us(e.type,!1);case 11:return us(e.type.render,!1);case 1:return us(e.type,!0);case 31:return ni("Activity");default:return""}}function _o(e){try{var n="",a=null;do n+=yo(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,lr=r.unstable_cancelCallback,Uh=r.unstable_shouldYield,Wl=r.unstable_requestPaint,Ze=r.unstable_now,cs=r.unstable_getCurrentPriorityLevel,vo=r.unstable_ImmediatePriority,Eo=r.unstable_UserBlockingPriority,ur=r.unstable_NormalPriority,Lh=r.unstable_LowPriority,tu=r.unstable_IdlePriority,eu=r.log,nu=r.unstable_setDisableYieldValue,zn=null,Pe=null;function An(e){if(typeof eu=="function"&&nu(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(zn,e)}catch{}}var fe=Math.clz32?Math.clz32:ru,iu=Math.log,na=Math.LN2;function ru(e){return e>>>=0,e===0?32:31-(iu(e)/na|0)|0}var ii=256,hs=262144,ve=4194304;function ri(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function si(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ri(o):(g&=E,g!==0?h=ri(g):a||(a=E&~e,a!==0&&(h=ri(a))))):(E=o&~f,E!==0?h=ri(E):g!==0?h=ri(g):a||(a=o&~e,a!==0&&(h=ri(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function jn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ph(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ai(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function fs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zh(e,n,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(a=g&~a;0<a;){var Q=31-fe(a),X=1<<Q;E[Q]=0,I[Q]=-1;var j=z[Q];if(j!==null)for(z[Q]=null,Q=0;Q<j.length;Q++){var q=j[Q];q!==null&&(q.lane&=-536870913)}a&=~X}o!==0&&ds(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ds(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-fe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function To(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-fe(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function bo(e,n){var a=n&-n;return a=(a&42)!==0?1:ms(a),(a&(e.suspendedLanes|n))!==0?0:a}function ms(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function au(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:j_(e.type))}function Bn(e,n){var a=et.p;try{return et.p=e,n()}finally{et.p=a}}var qn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+qn,Ve="__reactProps$"+qn,oi="__reactContainer$"+qn,ia="__reactEvents$"+qn,jh="__reactListeners$"+qn,ou="__reactHandles$"+qn,lu="__reactResources$"+qn,li="__reactMarker$"+qn;function ra(e){delete e[Ee],delete e[Ve],delete e[ia],delete e[jh],delete e[ou]}function ui(e){var n=e[Ee];if(n)return n;for(var a=e.parentNode;a;){if(n=a[oi]||a[Ee]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=S_(e);e!==null;){if(a=e[Ee])return a;e=S_(e)}return n}e=a,a=e.parentNode}return null}function Sn(e){if(e=e[Ee]||e[oi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function mn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function ci(e){var n=e[lu];return n||(n=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[li]=!0}var Ao=new Set,So={};function hi(e,n){fi(e,n),fi(e+"Capture",n)}function fi(e,n){for(So[e]=n,e=0;e<n.length;e++)Ao.add(n[e])}var wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ro={},Io={};function uu(e){return _e.call(Io,e)?!0:_e.call(Ro,e)?!1:wo.test(e)?Io[e]=!0:(Ro[e]=!0,!1)}function sa(e,n,a){if(uu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function pn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function be(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Co(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=cr(e)?"checked":"value";e._valueTracker=Co(e,n,""+e[n])}}function ps(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=cr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gs=/[\n"\\]/g;function rn(e){return e.replace(gs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function aa(e,n,a,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?xo(e,g,ke(n)):a!=null?xo(e,g,ke(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function cu(e,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}a=a!=null?""+ke(a):"",n=n!=null?""+ke(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function xo(e,n,a){n==="number"&&di(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function hr(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+ke(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function hu(e,n,a){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+ke(a):""}function fr(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(te(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=ke(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Gt(e)}function sn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||fu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Do(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&No(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&No(e,f,n[f])}function oa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(e){return dr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var Oo=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mr=null,mi=null;function ys(e){var n=Sn(e);if(n&&(e=n.stateNode)){var a=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(aa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(s(90));aa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&ps(o)}break t;case"textarea":hu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&hr(e,!!a.multiple,n,!1)}}}var ua=!1;function pr(e,n,a){if(ua)return e(n,a);ua=!0;try{var o=e(n);return o}finally{if(ua=!1,(mr!==null||mi!==null)&&(ac(),mr&&(n=mr,e=mi,mi=mr=null,ys(n),e)))for(n=0;n<e.length;n++)ys(e[n])}}function Fn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Ve]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_s=!1;if(Rn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){_s=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{_s=!1}var pi=null,Mo=null,vs=null;function Vo(){if(vs)return vs;var e,n=Mo,a=n.length,o,h="value"in pi?pi.value:pi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return vs=h.slice(e,1<o?1-o:void 0)}function Es(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Mi(){return!0}function Gn(){return!1}function ze(e){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Mi:Gn,this.isPropagationStopped=Gn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=ze(Vi),gr=A({},Vi,{view:0,detail:0}),ko=ze(gr),yr,ca,yi,ha=A({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(yr=e.screenX-yi.screenX,ca=e.screenY-yi.screenY):ca=yr=0,yi=e),yr)},movementY:function(e){return"movementY"in e?e.movementY:ca}}),Uo=ze(ha),Ts=A({},ha,{dataTransfer:0}),mu=ze(Ts),pu=A({},gr,{relatedTarget:0}),bs=ze(pu),Lo=A({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=ze(Lo),fa=A({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yu=ze(fa),_u=A({},Vi,{data:0}),_i=ze(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tu[e])?!!n[e]:!1}function _r(){return bu}var We=A({},gr,{key:function(e){if(e.key){var n=vu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(e){return e.type==="keypress"?Es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Au=ze(We),Su=A({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=ze(Su),u=A({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),m=ze(u),v=A({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),L=A({},ha,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ze(L),tt=A({},Vi,{newState:0,oldState:0}),bt=ze(tt),de=[9,13,27,32],Bt=Rn&&"CompositionEvent"in window,oe=null;Rn&&"documentMode"in document&&(oe=document.documentMode);var In=Rn&&"TextEvent"in window&&!oe,vi=Rn&&(!Bt||oe&&8<oe&&11>=oe),Qn=" ",Yn=!1;function As(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function da(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ma=!1;function pT(e,n){switch(e){case"compositionend":return da(n);case"keypress":return n.which!==32?null:(Yn=!0,Qn);case"textInput":return e=n.data,e===Qn&&Yn?null:e;default:return null}}function gT(e,n){if(ma)return e==="compositionend"||!Bt&&As(e,n)?(e=Vo(),vs=Mo=pi=null,ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var yT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ip(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!yT[e.type]:n==="textarea"}function Cp(e,n,a,o){mr?mi?mi.push(o):mi=[o]:mr=o,n=dc(n,"onChange"),0<n.length&&(a=new gi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Po=null,zo=null;function _T(e){c_(e,0)}function wu(e){var n=mn(e);if(ps(n))return e}function xp(e,n){if(e==="change")return n}var Np=!1;if(Rn){var Bh;if(Rn){var qh="oninput"in document;if(!qh){var Dp=document.createElement("div");Dp.setAttribute("oninput","return;"),qh=typeof Dp.oninput=="function"}Bh=qh}else Bh=!1;Np=Bh&&(!document.documentMode||9<document.documentMode)}function Op(){Po&&(Po.detachEvent("onpropertychange",Mp),zo=Po=null)}function Mp(e){if(e.propertyName==="value"&&wu(zo)){var n=[];Cp(n,zo,e,wn(e)),pr(_T,n)}}function vT(e,n,a){e==="focusin"?(Op(),Po=n,zo=a,Po.attachEvent("onpropertychange",Mp)):e==="focusout"&&Op()}function ET(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wu(zo)}function TT(e,n){if(e==="click")return wu(n)}function bT(e,n){if(e==="input"||e==="change")return wu(n)}function AT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:AT;function jo(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_e.call(n,h)||!gn(e[h],n[h]))return!1}return!0}function Vp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kp(e,n){var a=Vp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Vp(a)}}function Up(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Up(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Lp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=di(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=di(e.document)}return n}function Hh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ST=Rn&&"documentMode"in document&&11>=document.documentMode,pa=null,Fh=null,Bo=null,Gh=!1;function Pp(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gh||pa==null||pa!==di(o)||(o=pa,"selectionStart"in o&&Hh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Bo&&jo(Bo,o)||(Bo=o,o=dc(Fh,"onSelect"),0<o.length&&(n=new gi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=pa)))}function Ss(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ga={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},Qh={},zp={};Rn&&(zp=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function ws(e){if(Qh[e])return Qh[e];if(!ga[e])return e;var n=ga[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in zp)return Qh[e]=n[a];return e}var jp=ws("animationend"),Bp=ws("animationiteration"),qp=ws("animationstart"),wT=ws("transitionrun"),RT=ws("transitionstart"),IT=ws("transitioncancel"),Hp=ws("transitionend"),Fp=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function Kn(e,n){Fp.set(e,n),hi(n,[e])}var Ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],ya=0,Kh=0;function Iu(){for(var e=ya,n=Kh=ya=0;n<e;){var a=Cn[n];Cn[n++]=null;var o=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Gp(a,h,f)}}function Cu(e,n,a,o){Cn[ya++]=e,Cn[ya++]=n,Cn[ya++]=a,Cn[ya++]=o,Kh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Xh(e,n,a,o){return Cu(e,n,a,o),xu(e)}function Rs(e,n){return Cu(e,null,null,n),xu(e)}function Gp(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-fe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function xu(e){if(50<ul)throw ul=0,sd=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var _a={};function CT(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,n,a,o){return new CT(e,n,a,o)}function $h(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ui(e,n){var a=e.alternate;return a===null?(a=yn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Qp(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Nu(e,n,a,o,h,f){var g=0;if(o=e,typeof e=="function")$h(e)&&(g=1);else if(typeof e=="string")g=Mb(e,a,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case S:return e=yn(31,a,n,h),e.elementType=S,e.lanes=f,e;case Z:return Is(a.children,h,f,n);case G:g=8,h|=24;break;case rt:return e=yn(12,a,n,h|2),e.elementType=rt,e.lanes=f,e;case Wt:return e=yn(13,a,n,h),e.elementType=Wt,e.lanes=f,e;case Mt:return e=yn(19,a,n,h),e.elementType=Mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ht:g=10;break t;case ut:g=9;break t;case Lt:g=11;break t;case C:g=14;break t;case w:g=16,o=null;break t}g=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=yn(g,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Is(e,n,a,o){return e=yn(7,e,o,n),e.lanes=a,e}function Jh(e,n,a){return e=yn(6,e,null,n),e.lanes=a,e}function Yp(e){var n=yn(18,null,null,0);return n.stateNode=e,n}function Zh(e,n,a){return n=yn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Kp=new WeakMap;function xn(e,n){if(typeof e=="object"&&e!==null){var a=Kp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:_o(n)},Kp.set(e,n),n)}return{value:e,source:n,stack:_o(n)}}var va=[],Ea=0,Du=null,qo=0,Nn=[],Dn=0,vr=null,Ei=1,Ti="";function Li(e,n){va[Ea++]=qo,va[Ea++]=Du,Du=e,qo=n}function Xp(e,n,a){Nn[Dn++]=Ei,Nn[Dn++]=Ti,Nn[Dn++]=vr,vr=e;var o=Ei;e=Ti;var h=32-fe(o)-1;o&=~(1<<h),a+=1;var f=32-fe(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ei=1<<32-fe(n)+h|a<<h|o,Ti=f+e}else Ei=1<<f|a<<h|o,Ti=e}function Wh(e){e.return!==null&&(Li(e,1),Xp(e,1,0))}function tf(e){for(;e===Du;)Du=va[--Ea],va[Ea]=null,qo=va[--Ea],va[Ea]=null;for(;e===vr;)vr=Nn[--Dn],Nn[Dn]=null,Ti=Nn[--Dn],Nn[Dn]=null,Ei=Nn[--Dn],Nn[Dn]=null}function $p(e,n){Nn[Dn++]=Ei,Nn[Dn++]=Ti,Nn[Dn++]=vr,Ei=n.id,Ti=n.overflow,vr=e}var je=null,ie=null,Vt=!1,Er=null,On=!1,ef=Error(s(519));function Tr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ho(xn(n,e)),ef}function Jp(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[Ve]=o,a){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<hl.length;a++)It(hl[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),cu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),fr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||m_(n.textContent,a)?(o.popover!=null&&(It("beforetoggle",n),It("toggle",n)),o.onScroll!=null&&It("scroll",n),o.onScrollEnd!=null&&It("scrollend",n),o.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||Tr(e,!0)}function Zp(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:je=je.return}}function Ta(e){if(e!==je)return!1;if(!Vt)return Zp(e),Vt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ed(e.type,e.memoizedProps)),a=!a),a&&ie&&Tr(e),Zp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ie=A_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ie=A_(e)}else n===27?(n=ie,kr(e.type)?(e=wd,wd=null,ie=e):ie=n):ie=je?Vn(e.stateNode.nextSibling):null;return!0}function Cs(){ie=je=null,Vt=!1}function nf(){var e=Er;return e!==null&&(un===null?un=e:un.push.apply(un,e),Er=null),e}function Ho(e){Er===null?Er=[e]:Er.push(e)}var rf=O(null),xs=null,Pi=null;function br(e,n,a){nt(rf,n._currentValue),n._currentValue=a}function zi(e){e._currentValue=rf.current,$(rf)}function sf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function af(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),sf(f.return,a,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),sf(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ba(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=h.type;gn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===kt.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(gl):e=[gl])}h=h.return}e!==null&&af(n,e,a,o),n.flags|=262144}function Ou(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ns(e){xs=e,Pi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Wp(xs,e)}function Mu(e,n){return xs===null&&Ns(e),Wp(e,n)}function Wp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Pi===null){if(e===null)throw Error(s(308));Pi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Pi=Pi.next=n;return a}var xT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},NT=r.unstable_scheduleCallback,DT=r.unstable_NormalPriority,Ae={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new xT,data:new Map,refCount:0}}function Fo(e){e.refCount--,e.refCount===0&&NT(DT,function(){e.controller.abort()})}var Go=null,lf=0,Aa=0,Sa=null;function OT(e,n){if(Go===null){var a=Go=[];lf=0,Aa=hd(),Sa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return lf++,n.then(tg,tg),n}function tg(){if(--lf===0&&Go!==null){Sa!==null&&(Sa.status="fulfilled");var e=Go;Go=null,Aa=0,Sa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function MT(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var eg=H.S;H.S=function(e,n){Py=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&OT(e,n),eg!==null&&eg(e,n)};var Ds=O(null);function uf(){var e=Ds.current;return e!==null?e:ee.pooledCache}function Vu(e,n){n===null?nt(Ds,Ds.current):nt(Ds,n.pool)}function ng(){var e=uf();return e===null?null:{parent:Ae._currentValue,pool:e}}var wa=Error(s(460)),cf=Error(s(474)),ku=Error(s(542)),Uu={then:function(){}};function ig(e){return e=e.status,e==="fulfilled"||e==="rejected"}function rg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Hn,Hn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ag(e),e;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ag(e),e}throw Ms=n,wa}}function Os(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ms=a,wa):a}}var Ms=null;function sg(){if(Ms===null)throw Error(s(459));var e=Ms;return Ms=null,e}function ag(e){if(e===wa||e===ku)throw Error(s(483))}var Ra=null,Qo=0;function Lu(e){var n=Qo;return Qo+=1,Ra===null&&(Ra=[]),rg(Ra,e,n)}function Yo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Pu(e,n){throw n.$$typeof===x?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function og(e){function n(U,D){if(e){var P=U.deletions;P===null?(U.deletions=[D],U.flags|=16):P.push(D)}}function a(U,D){if(!e)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function o(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=Ui(U,D),U.index=0,U.sibling=null,U}function f(U,D,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<D?(U.flags|=67108866,D):P):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,P,Y){return D===null||D.tag!==6?(D=Jh(P,U.mode,Y),D.return=U,D):(D=h(D,P),D.return=U,D)}function I(U,D,P,Y){var ft=P.type;return ft===Z?Q(U,D,P.props.children,Y,P.key):D!==null&&(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&Os(ft)===D.type)?(D=h(D,P.props),Yo(D,P),D.return=U,D):(D=Nu(P.type,P.key,P.props,null,U.mode,Y),Yo(D,P),D.return=U,D)}function z(U,D,P,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Zh(P,U.mode,Y),D.return=U,D):(D=h(D,P.children||[]),D.return=U,D)}function Q(U,D,P,Y,ft){return D===null||D.tag!==7?(D=Is(P,U.mode,Y,ft),D.return=U,D):(D=h(D,P),D.return=U,D)}function X(U,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Jh(""+D,U.mode,P),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return P=Nu(D.type,D.key,D.props,null,U.mode,P),Yo(P,D),P.return=U,P;case W:return D=Zh(D,U.mode,P),D.return=U,D;case w:return D=Os(D),X(U,D,P)}if(te(D)||k(D))return D=Is(D,U.mode,P,null),D.return=U,D;if(typeof D.then=="function")return X(U,Lu(D),P);if(D.$$typeof===ht)return X(U,Mu(U,D),P);Pu(U,D)}return null}function j(U,D,P,Y){var ft=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(U,D,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===ft?I(U,D,P,Y):null;case W:return P.key===ft?z(U,D,P,Y):null;case w:return P=Os(P),j(U,D,P,Y)}if(te(P)||k(P))return ft!==null?null:Q(U,D,P,Y,null);if(typeof P.then=="function")return j(U,D,Lu(P),Y);if(P.$$typeof===ht)return j(U,D,Mu(U,P),Y);Pu(U,P)}return null}function q(U,D,P,Y,ft){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return U=U.get(P)||null,E(D,U,""+Y,ft);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case F:return U=U.get(Y.key===null?P:Y.key)||null,I(D,U,Y,ft);case W:return U=U.get(Y.key===null?P:Y.key)||null,z(D,U,Y,ft);case w:return Y=Os(Y),q(U,D,P,Y,ft)}if(te(Y)||k(Y))return U=U.get(P)||null,Q(D,U,Y,ft,null);if(typeof Y.then=="function")return q(U,D,P,Lu(Y),ft);if(Y.$$typeof===ht)return q(U,D,P,Mu(D,Y),ft);Pu(D,Y)}return null}function ot(U,D,P,Y){for(var ft=null,zt=null,lt=D,wt=D=0,xt=null;lt!==null&&wt<P.length;wt++){lt.index>wt?(xt=lt,lt=null):xt=lt.sibling;var jt=j(U,lt,P[wt],Y);if(jt===null){lt===null&&(lt=xt);break}e&&lt&&jt.alternate===null&&n(U,lt),D=f(jt,D,wt),zt===null?ft=jt:zt.sibling=jt,zt=jt,lt=xt}if(wt===P.length)return a(U,lt),Vt&&Li(U,wt),ft;if(lt===null){for(;wt<P.length;wt++)lt=X(U,P[wt],Y),lt!==null&&(D=f(lt,D,wt),zt===null?ft=lt:zt.sibling=lt,zt=lt);return Vt&&Li(U,wt),ft}for(lt=o(lt);wt<P.length;wt++)xt=q(lt,U,wt,P[wt],Y),xt!==null&&(e&&xt.alternate!==null&&lt.delete(xt.key===null?wt:xt.key),D=f(xt,D,wt),zt===null?ft=xt:zt.sibling=xt,zt=xt);return e&&lt.forEach(function(jr){return n(U,jr)}),Vt&&Li(U,wt),ft}function pt(U,D,P,Y){if(P==null)throw Error(s(151));for(var ft=null,zt=null,lt=D,wt=D=0,xt=null,jt=P.next();lt!==null&&!jt.done;wt++,jt=P.next()){lt.index>wt?(xt=lt,lt=null):xt=lt.sibling;var jr=j(U,lt,jt.value,Y);if(jr===null){lt===null&&(lt=xt);break}e&&lt&&jr.alternate===null&&n(U,lt),D=f(jr,D,wt),zt===null?ft=jr:zt.sibling=jr,zt=jr,lt=xt}if(jt.done)return a(U,lt),Vt&&Li(U,wt),ft;if(lt===null){for(;!jt.done;wt++,jt=P.next())jt=X(U,jt.value,Y),jt!==null&&(D=f(jt,D,wt),zt===null?ft=jt:zt.sibling=jt,zt=jt);return Vt&&Li(U,wt),ft}for(lt=o(lt);!jt.done;wt++,jt=P.next())jt=q(lt,U,wt,jt.value,Y),jt!==null&&(e&&jt.alternate!==null&&lt.delete(jt.key===null?wt:jt.key),D=f(jt,D,wt),zt===null?ft=jt:zt.sibling=jt,zt=jt);return e&&lt.forEach(function(Fb){return n(U,Fb)}),Vt&&Li(U,wt),ft}function Zt(U,D,P,Y){if(typeof P=="object"&&P!==null&&P.type===Z&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var ft=P.key;D!==null;){if(D.key===ft){if(ft=P.type,ft===Z){if(D.tag===7){a(U,D.sibling),Y=h(D,P.props.children),Y.return=U,U=Y;break t}}else if(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&Os(ft)===D.type){a(U,D.sibling),Y=h(D,P.props),Yo(Y,P),Y.return=U,U=Y;break t}a(U,D);break}else n(U,D);D=D.sibling}P.type===Z?(Y=Is(P.props.children,U.mode,Y,P.key),Y.return=U,U=Y):(Y=Nu(P.type,P.key,P.props,null,U.mode,Y),Yo(Y,P),Y.return=U,U=Y)}return g(U);case W:t:{for(ft=P.key;D!==null;){if(D.key===ft)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(U,D.sibling),Y=h(D,P.children||[]),Y.return=U,U=Y;break t}else{a(U,D);break}else n(U,D);D=D.sibling}Y=Zh(P,U.mode,Y),Y.return=U,U=Y}return g(U);case w:return P=Os(P),Zt(U,D,P,Y)}if(te(P))return ot(U,D,P,Y);if(k(P)){if(ft=k(P),typeof ft!="function")throw Error(s(150));return P=ft.call(P),pt(U,D,P,Y)}if(typeof P.then=="function")return Zt(U,D,Lu(P),Y);if(P.$$typeof===ht)return Zt(U,D,Mu(U,P),Y);Pu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(U,D.sibling),Y=h(D,P),Y.return=U,U=Y):(a(U,D),Y=Jh(P,U.mode,Y),Y.return=U,U=Y),g(U)):a(U,D)}return function(U,D,P,Y){try{Qo=0;var ft=Zt(U,D,P,Y);return Ra=null,ft}catch(lt){if(lt===wa||lt===ku)throw lt;var zt=yn(29,lt,null,U.mode);return zt.lanes=Y,zt.return=U,zt}finally{}}}var Vs=og(!0),lg=og(!1),Ar=!1;function hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Sr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wr(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=xu(e),Gp(e,null,a),n}return Cu(e,o,n,a),xu(e)}function Ko(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,To(e,a)}}function df(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var mf=!1;function Xo(){if(mf){var e=Sa;if(e!==null)throw e}}function $o(e,n,a,o){mf=!1;var h=e.updateQueue;Ar=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,g===null?f=z:g.next=z,g=I;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;g=0,Q=z=I=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Ct&j)===j:(o&j)===j){j!==0&&j===Aa&&(mf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,pt=E;j=n;var Zt=a;switch(pt.tag){case 1:if(ot=pt.payload,typeof ot=="function"){X=ot.call(Zt,X,j);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=pt.payload,j=typeof ot=="function"?ot.call(Zt,X,j):ot,j==null)break t;X=A({},X,j);break t;case 2:Ar=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=q,I=X):Q=Q.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Q===null&&(I=X),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Nr|=g,e.lanes=g,e.memoizedState=X}}function ug(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function cg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ug(a[e],n)}var Ia=O(null),zu=O(0);function hg(e,n){e=Ki,nt(zu,e),nt(Ia,n),Ki=e|n.baseLanes}function pf(){nt(zu,Ki),nt(Ia,Ia.current)}function gf(){Ki=zu.current,$(Ia),$(zu)}var _n=O(null),Mn=null;function Rr(e){var n=e.alternate;nt(me,me.current&1),nt(_n,e),Mn===null&&(n===null||Ia.current!==null||n.memoizedState!==null)&&(Mn=e)}function yf(e){nt(me,me.current),nt(_n,e),Mn===null&&(Mn=e)}function fg(e){e.tag===22?(nt(me,me.current),nt(_n,e),Mn===null&&(Mn=e)):Ir()}function Ir(){nt(me,me.current),nt(_n,_n.current)}function vn(e){$(_n),Mn===e&&(Mn=null),$(me)}var me=O(0);function ju(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ad(a)||Sd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ji=0,At=null,$t=null,Se=null,Bu=!1,Ca=!1,ks=!1,qu=0,Jo=0,xa=null,VT=0;function ce(){throw Error(s(321))}function _f(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!gn(e[a],n[a]))return!1;return!0}function vf(e,n,a,o,h,f){return ji=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Xg:Vf,ks=!1,f=a(o,h),ks=!1,Ca&&(f=mg(n,a,o,h)),dg(e),f}function dg(e){H.H=tl;var n=$t!==null&&$t.next!==null;if(ji=0,Se=$t=At=null,Bu=!1,Jo=0,xa=null,n)throw Error(s(300));e===null||we||(e=e.dependencies,e!==null&&Ou(e)&&(we=!0))}function mg(e,n,a,o){At=e;var h=0;do{if(Ca&&(xa=null),Jo=0,Ca=!1,25<=h)throw Error(s(301));if(h+=1,Se=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=$g,f=n(a,o)}while(Ca);return f}function kT(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Zo(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(At.flags|=1024),n}function Ef(){var e=qu!==0;return qu=0,e}function Tf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function bf(e){if(Bu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Bu=!1}ji=0,Se=$t=At=null,Ca=!1,Jo=qu=0,xa=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?At.memoizedState=Se=e:Se=Se.next=e,Se}function pe(){if($t===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=Se===null?At.memoizedState:Se.next;if(n!==null)Se=n,$t=e;else{if(e===null)throw At.alternate===null?Error(s(467)):Error(s(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Se===null?At.memoizedState=Se=e:Se=Se.next=e}return Se}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(e){var n=Jo;return Jo+=1,xa===null&&(xa=[]),e=rg(xa,e,n),n=At,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Xg:Vf),e}function Fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zo(e);if(e.$$typeof===ht)return Be(e)}throw Error(s(438,String(e)))}function Af(e){var n=null,a=At.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Hu(),At.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=M;return n.index++,a}function Bi(e,n){return typeof n=="function"?n(e):n}function Gu(e){var n=pe();return Sf(n,$t,e)}function Sf(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,I=null,z=n,Q=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Ct&X)===X:(ji&X)===X){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Aa&&(Q=!0);else if((ji&j)===j){z=z.next,j===Aa&&(Q=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=X,g=f):I=I.next=X,At.lanes|=j,Nr|=j;X=z.action,ks&&a(f,X),f=z.hasEagerState?z.eagerState:a(f,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,g=f):I=I.next=j,At.lanes|=X,Nr|=X;z=z.next}while(z!==null&&z!==n);if(I===null?g=f:I.next=E,!gn(f,e.memoizedState)&&(we=!0,Q&&(a=Sa,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function wf(e){var n=pe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);gn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function pg(e,n,a){var o=At,h=pe(),f=Vt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!gn(($t||h).memoizedState,a);if(g&&(h.memoizedState=a,we=!0),h=h.queue,Cf(_g.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,Na(9,{destroy:void 0},yg.bind(null,o,h,a,n),null),ee===null)throw Error(s(349));f||(ji&127)!==0||gg(o,n,a)}return a}function gg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=At.updateQueue,n===null?(n=Hu(),At.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function yg(e,n,a,o){n.value=a,n.getSnapshot=o,vg(n)&&Eg(e)}function _g(e,n,a){return a(function(){vg(n)&&Eg(e)})}function vg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!gn(e,a)}catch{return!0}}function Eg(e){var n=Rs(e,2);n!==null&&cn(n,e,2)}function Rf(e){var n=tn();if(typeof e=="function"){var a=e;if(e=a(),ks){An(!0);try{a()}finally{An(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},n}function Tg(e,n,a,o){return e.baseState=a,Sf(e,$t,typeof o=="function"?o:Bi)}function UT(e,n,a,o,h){if(Ku(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,bg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function bg(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=a(h,o),I=H.S;I!==null&&I(g,E),Ag(e,n,E)}catch(z){If(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=a(h,o),Ag(e,n,f)}catch(z){If(e,n,z)}}function Ag(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Sg(e,n,o)},function(o){return If(e,n,o)}):Sg(e,n,a)}function Sg(e,n,a){n.status="fulfilled",n.value=a,wg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,bg(e,a)))}function If(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,wg(n),n=n.next;while(n!==o)}e.action=null}function wg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Rg(e,n){return n}function Ig(e,n){if(Vt){var a=ee.formState;if(a!==null){t:{var o=At;if(Vt){if(ie){e:{for(var h=ie,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=Vn(h.nextSibling),o=h.data==="F!";break t}}Tr(o)}o=!1}o&&(n=a[0])}}return a=tn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rg,lastRenderedState:n},a.queue=o,a=Qg.bind(null,At,o),o.dispatch=a,o=Rf(!1),f=Mf.bind(null,At,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=UT.bind(null,At,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Cg(e){var n=pe();return xg(n,$t,e)}function xg(e,n,a){if(n=Sf(e,n,Rg)[0],e=Gu(Bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Zo(n)}catch(g){throw g===wa?ku:g}else o=n;n=pe();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(At.flags|=2048,Na(9,{destroy:void 0},LT.bind(null,h,a),null)),[o,f,e]}function LT(e,n){e.action=n}function Ng(e){var n=pe(),a=$t;if(a!==null)return xg(n,a,e);pe(),n=n.memoizedState,a=pe();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Na(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=Hu(),At.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Dg(){return pe().memoizedState}function Qu(e,n,a,o){var h=tn();At.flags|=e,h.memoizedState=Na(1|n,{destroy:void 0},a,o===void 0?null:o)}function Yu(e,n,a,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;$t!==null&&o!==null&&_f(o,$t.memoizedState.deps)?h.memoizedState=Na(n,f,a,o):(At.flags|=e,h.memoizedState=Na(1|n,f,a,o))}function Og(e,n){Qu(8390656,8,e,n)}function Cf(e,n){Yu(2048,8,e,n)}function PT(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=Hu(),At.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Mg(e){var n=pe().memoizedState;return PT({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Vg(e,n){return Yu(4,2,e,n)}function kg(e,n){return Yu(4,4,e,n)}function Ug(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Lg(e,n,a){a=a!=null?a.concat([e]):null,Yu(4,4,Ug.bind(null,n,e),a)}function xf(){}function Pg(e,n){var a=pe();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&_f(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function zg(e,n){var a=pe();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&_f(n,o[1]))return o[0];if(o=e(),ks){An(!0);try{e()}finally{An(!1)}}return a.memoizedState=[o,n],o}function Nf(e,n,a){return a===void 0||(ji&1073741824)!==0&&(Ct&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=jy(),At.lanes|=e,Nr|=e,a)}function jg(e,n,a,o){return gn(a,n)?a:Ia.current!==null?(e=Nf(e,a,o),gn(e,n)||(we=!0),e):(ji&42)===0||(ji&1073741824)!==0&&(Ct&261930)===0?(we=!0,e.memoizedState=a):(e=jy(),At.lanes|=e,Nr|=e,n)}function Bg(e,n,a,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,Mf(e,!1,n,a);try{var I=h(),z=H.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=MT(I,o);Wo(e,n,Q,bn(e))}else Wo(e,n,o,bn(e))}catch(X){Wo(e,n,{then:function(){},status:"rejected",reason:X},bn())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function zT(){}function Df(e,n,a,o){if(e.tag!==5)throw Error(s(476));var h=qg(e).queue;Bg(e,h,n,ct,a===null?zT:function(){return Hg(e),a(o)})}function qg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:ct},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Hg(e){var n=qg(e);n.next===null&&(n=e.alternate.memoizedState),Wo(e,n.next.queue,{},bn())}function Of(){return Be(gl)}function Fg(){return pe().memoizedState}function Gg(){return pe().memoizedState}function jT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=bn();e=Sr(a);var o=wr(n,e,a);o!==null&&(cn(o,n,a),Ko(o,n,a)),n={cache:of()},e.payload=n;return}n=n.return}}function BT(e,n,a){var o=bn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ku(e)?Yg(n,a):(a=Xh(e,n,a,o),a!==null&&(cn(a,e,o),Kg(a,n,o)))}function Qg(e,n,a){var o=bn();Wo(e,n,a,o)}function Wo(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Yg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,gn(E,g))return Cu(e,n,h,0),ee===null&&Iu(),!1}catch{}finally{}if(a=Xh(e,n,h,o),a!==null)return cn(a,e,o),Kg(a,n,o),!0}return!1}function Mf(e,n,a,o){if(o={lane:2,revertLane:hd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(n)throw Error(s(479))}else n=Xh(e,a,o,2),n!==null&&cn(n,e,2)}function Ku(e){var n=e.alternate;return e===At||n!==null&&n===At}function Yg(e,n){Ca=Bu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Kg(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,To(e,a)}}var tl={readContext:Be,use:Fu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};tl.useEffectEvent=ce;var Xg={readContext:Be,use:Fu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:Og,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Qu(4194308,4,Ug.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Qu(4194308,4,e,n)},useInsertionEffect:function(e,n){Qu(4,2,e,n)},useMemo:function(e,n){var a=tn();n=n===void 0?null:n;var o=e();if(ks){An(!0);try{e()}finally{An(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=tn();if(a!==void 0){var h=a(n);if(ks){An(!0);try{a(n)}finally{An(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=BT.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=Rf(e);var n=e.queue,a=Qg.bind(null,At,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:xf,useDeferredValue:function(e,n){var a=tn();return Nf(a,e,n)},useTransition:function(){var e=Rf(!1);return e=Bg.bind(null,At,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=At,h=tn();if(Vt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),ee===null)throw Error(s(349));(Ct&127)!==0||gg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Og(_g.bind(null,o,f,e),[e]),o.flags|=2048,Na(9,{destroy:void 0},yg.bind(null,o,f,a,n),null),a},useId:function(){var e=tn(),n=ee.identifierPrefix;if(Vt){var a=Ti,o=Ei;a=(o&~(1<<32-fe(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=qu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=VT++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Of,useFormState:Ig,useActionState:Ig,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Mf.bind(null,At,!0,a),a.dispatch=n,[e,n]},useMemoCache:Af,useCacheRefresh:function(){return tn().memoizedState=jT.bind(null,At)},useEffectEvent:function(e){var n=tn(),a={impl:e};return n.memoizedState=a,function(){if((qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Vf={readContext:Be,use:Fu,useCallback:Pg,useContext:Be,useEffect:Cf,useImperativeHandle:Lg,useInsertionEffect:Vg,useLayoutEffect:kg,useMemo:zg,useReducer:Gu,useRef:Dg,useState:function(){return Gu(Bi)},useDebugValue:xf,useDeferredValue:function(e,n){var a=pe();return jg(a,$t.memoizedState,e,n)},useTransition:function(){var e=Gu(Bi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Zo(e),n]},useSyncExternalStore:pg,useId:Fg,useHostTransitionStatus:Of,useFormState:Cg,useActionState:Cg,useOptimistic:function(e,n){var a=pe();return Tg(a,$t,e,n)},useMemoCache:Af,useCacheRefresh:Gg};Vf.useEffectEvent=Mg;var $g={readContext:Be,use:Fu,useCallback:Pg,useContext:Be,useEffect:Cf,useImperativeHandle:Lg,useInsertionEffect:Vg,useLayoutEffect:kg,useMemo:zg,useReducer:wf,useRef:Dg,useState:function(){return wf(Bi)},useDebugValue:xf,useDeferredValue:function(e,n){var a=pe();return $t===null?Nf(a,e,n):jg(a,$t.memoizedState,e,n)},useTransition:function(){var e=wf(Bi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Zo(e),n]},useSyncExternalStore:pg,useId:Fg,useHostTransitionStatus:Of,useFormState:Ng,useActionState:Ng,useOptimistic:function(e,n){var a=pe();return $t!==null?Tg(a,$t,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Af,useCacheRefresh:Gg};$g.useEffectEvent=Mg;function kf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Uf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=bn(),h=Sr(o);h.payload=n,a!=null&&(h.callback=a),n=wr(e,h,o),n!==null&&(cn(n,e,o),Ko(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=bn(),h=Sr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=wr(e,h,o),n!==null&&(cn(n,e,o),Ko(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=bn(),o=Sr(a);o.tag=2,n!=null&&(o.callback=n),n=wr(e,o,a),n!==null&&(cn(n,e,a),Ko(n,e,a))}};function Jg(e,n,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!jo(a,o)||!jo(h,f):!0}function Zg(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Uf.enqueueReplaceState(n,n.state,null)}function Us(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Wg(e){Ru(e)}function ty(e){console.error(e)}function ey(e){Ru(e)}function Xu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ny(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Lf(e,n,a){return a=Sr(a),a.tag=3,a.payload={element:null},a.callback=function(){Xu(e,n)},a}function iy(e){return e=Sr(e),e.tag=3,e}function ry(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){ny(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){ny(n,a,o),typeof h!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function qT(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&ba(n,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return Mn===null?oc():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Uu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),ld(e,o,h)),!1;case 22:return a.flags|=65536,o===Uu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),ld(e,o,h)),!1}throw Error(s(435,a.tag))}return ld(e,o,h),oc(),!1}if(Vt)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==ef&&(e=Error(s(422),{cause:o}),Ho(xn(e,a)))):(o!==ef&&(n=Error(s(423),{cause:o}),Ho(xn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=xn(o,a),h=Lf(e.stateNode,o,h),df(e,h),he!==4&&(he=2)),!1;var f=Error(s(520),{cause:o});if(f=xn(f,a),ll===null?ll=[f]:ll.push(f),he!==4&&(he=2),n===null)return!0;o=xn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Lf(a.stateNode,o,e),df(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Dr===null||!Dr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=iy(h),ry(h,e,a,o),df(a,h),!1}a=a.return}while(a!==null);return!1}var Pf=Error(s(461)),we=!1;function qe(e,n,a,o){n.child=e===null?lg(n,null,a,o):Vs(n,e.child,a,o)}function sy(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Ns(n),o=vf(e,n,a,g,f,h),E=Ef(),e!==null&&!we?(Tf(e,n,h),qi(e,n,h)):(Vt&&E&&Wh(n),n.flags|=1,qe(e,n,o,h),n.child)}function ay(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!$h(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,oy(e,n,f,o,h)):(e=Nu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Qf(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:jo,a(g,o)&&e.ref===n.ref)return qi(e,n,h)}return n.flags|=1,e=Ui(f,o),e.ref=n.ref,e.return=n,n.child=e}function oy(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(jo(f,o)&&e.ref===n.ref)if(we=!1,n.pendingProps=o=f,Qf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,qi(e,n,h)}return zf(e,n,a,o,h)}function ly(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return uy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?hg(n,f):pf(),fg(n);else return o=n.lanes=536870912,uy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Vu(n,f.cachePool),hg(n,f),Ir(),n.memoizedState=null):(e!==null&&Vu(n,null),pf(),Ir());return qe(e,n,h,a),n.child}function el(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function uy(e,n,a,o,h){var f=uf();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Vu(n,null),pf(),fg(n),e!==null&&ba(e,n,o,!0),n.childLanes=h,null}function $u(e,n){return n=Zu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function cy(e,n,a){return Vs(n,e.child,null,a),e=$u(n,n.pendingProps),e.flags|=2,vn(n),n.memoizedState=null,e}function HT(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=$u(n,o),n.lanes=536870912,el(null,e);if(yf(n),(e=ie)?(e=b_(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=Yp(e),a.return=n,n.child=a,je=n,ie=null)):e=null,e===null)throw Tr(n);return n.lanes=536870912,null}return $u(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(yf(n),h)if(n.flags&256)n.flags&=-257,n=cy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(we||ba(e,n,a,!1),h=(a&e.childLanes)!==0,we||h){if(o=ee,o!==null&&(g=bo(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Rs(e,g),cn(o,e,g),Pf;oc(),n=cy(e,n,a)}else e=f.treeContext,ie=Vn(g.nextSibling),je=n,Vt=!0,Er=null,On=!1,e!==null&&$p(n,e),n=$u(n,o),n.flags|=4096;return n}return e=Ui(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ju(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function zf(e,n,a,o,h){return Ns(n),a=vf(e,n,a,o,void 0,h),o=Ef(),e!==null&&!we?(Tf(e,n,h),qi(e,n,h)):(Vt&&o&&Wh(n),n.flags|=1,qe(e,n,a,h),n.child)}function hy(e,n,a,o,h,f){return Ns(n),n.updateQueue=null,a=mg(n,o,a,h),dg(e),o=Ef(),e!==null&&!we?(Tf(e,n,f),qi(e,n,f)):(Vt&&o&&Wh(n),n.flags|=1,qe(e,n,a,f),n.child)}function fy(e,n,a,o,h){if(Ns(n),n.stateNode===null){var f=_a,g=a.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},hf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?Be(g):_a,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(kf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Uf.enqueueReplaceState(f,f.state,null),$o(n,o,f,h),Xo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Us(a,E);f.props=I;var z=f.context,Q=a.contextType;g=_a,typeof Q=="object"&&Q!==null&&(g=Be(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Zg(n,f,o,g),Ar=!1;var j=n.memoizedState;f.state=j,$o(n,o,f,h),Xo(),z=n.memoizedState,E||j!==z||Ar?(typeof X=="function"&&(kf(n,a,X,o),z=n.memoizedState),(I=Ar||Jg(n,a,I,o,j,z,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,ff(e,n),g=n.memoizedProps,Q=Us(a,g),f.props=Q,X=n.pendingProps,j=f.context,z=a.contextType,I=_a,typeof z=="object"&&z!==null&&(I=Be(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||j!==I)&&Zg(n,f,o,I),Ar=!1,j=n.memoizedState,f.state=j,$o(n,o,f,h),Xo();var q=n.memoizedState;g!==X||j!==q||Ar||e!==null&&e.dependencies!==null&&Ou(e.dependencies)?(typeof E=="function"&&(kf(n,a,E,o),q=n.memoizedState),(Q=Ar||Jg(n,a,Q,o,j,q,I)||e!==null&&e.dependencies!==null&&Ou(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=I,o=Q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ju(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Vs(n,e.child,null,h),n.child=Vs(n,null,a,h)):qe(e,n,a,h),n.memoizedState=f.state,e=n.child):e=qi(e,n,h),e}function dy(e,n,a,o){return Cs(),n.flags|=256,qe(e,n,a,o),n.child}var jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(e){return{baseLanes:e,cachePool:ng()}}function qf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Tn),e}function my(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?Rr(n):Ir(),(e=ie)?(e=b_(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=Yp(e),a.return=n,n.child=a,je=n,ie=null)):e=null,e===null)throw Tr(n);return Sd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ir(),h=n.mode,E=Zu({mode:"hidden",children:E},h),o=Is(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Bf(a),o.childLanes=qf(e,g,a),n.memoizedState=jf,el(null,o)):(Rr(n),Hf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Rr(n),n.flags&=-257,n=Ff(e,n,a)):n.memoizedState!==null?(Ir(),n.child=e.child,n.flags|=128,n=null):(Ir(),E=o.fallback,h=n.mode,o=Zu({mode:"visible",children:o.children},h),E=Is(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Vs(n,e.child,null,a),o=n.child,o.memoizedState=Bf(a),o.childLanes=qf(e,g,a),n.memoizedState=jf,n=el(null,o));else if(Rr(n),Sd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(s(419)),o.stack="",o.digest=g,Ho({value:o,source:null,stack:null}),n=Ff(e,n,a)}else if(we||ba(e,n,a,!1),g=(a&e.childLanes)!==0,we||g){if(g=ee,g!==null&&(o=bo(g,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Rs(e,o),cn(g,e,o),Pf;Ad(E)||oc(),n=Ff(e,n,a)}else Ad(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ie=Vn(E.nextSibling),je=n,Vt=!0,Er=null,On=!1,e!==null&&$p(n,e),n=Hf(n,o.children),n.flags|=4096);return n}return h?(Ir(),E=o.fallback,h=n.mode,I=e.child,z=I.sibling,o=Ui(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Ui(z,E):(E=Is(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,el(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Bf(a):(h=E.cachePool,h!==null?(I=Ae._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=ng(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=qf(e,g,a),n.memoizedState=jf,el(e.child,o)):(Rr(n),a=e.child,e=a.sibling,a=Ui(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=a,n.memoizedState=null,a)}function Hf(e,n){return n=Zu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Zu(e,n){return e=yn(22,e,null,n),e.lanes=0,e}function Ff(e,n,a){return Vs(n,e.child,null,a),e=Hf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function py(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),sf(e.return,n,a)}function Gf(e,n,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function gy(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=me.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(me,g),qe(e,n,o,a),o=Vt?qo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&py(e,a,n);else if(e.tag===19)py(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&ju(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Gf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ju(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Gf(n,!0,a,null,f,o);break;case"together":Gf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function qi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Nr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(ba(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Ui(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Ui(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Qf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ou(e)))}function FT(e,n,a){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),br(n,Ae,e.memoizedState.cache),Cs();break;case 27:case 5:ls(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:br(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Rr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?my(e,n,a):(Rr(n),e=qi(e,n,a),e!==null?e.sibling:null);Rr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(ba(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return gy(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(me,me.current),o)break;return null;case 22:return n.lanes=0,ly(e,n,a,n.pendingProps);case 24:br(n,Ae,e.memoizedState.cache)}return qi(e,n,a)}function yy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!Qf(e,a)&&(n.flags&128)===0)return we=!1,FT(e,n,a);we=(e.flags&131072)!==0}else we=!1,Vt&&(n.flags&1048576)!==0&&Xp(n,qo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Os(n.elementType),n.type=e,typeof e=="function")$h(e)?(o=Us(e,o),n.tag=1,n=fy(null,n,e,o,a)):(n.tag=0,n=zf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Lt){n.tag=11,n=sy(null,n,e,o,a);break t}else if(h===C){n.tag=14,n=ay(null,n,e,o,a);break t}}throw n=Kt(e)||e,Error(s(306,n,""))}}return n;case 0:return zf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Us(o,n.pendingProps),fy(e,n,o,h,a);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,ff(e,n),$o(n,o,null,a);var g=n.memoizedState;if(o=g.cache,br(n,Ae,o),o!==f.cache&&af(n,[Ae],a,!0),Xo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=dy(e,n,o,a);break t}else if(o!==h){h=xn(Error(s(424)),n),Ho(h),n=dy(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ie=Vn(e.firstChild),je=n,Vt=!0,Er=null,On=!0,a=lg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Cs(),o===h){n=qi(e,n,a);break t}qe(e,n,o,a)}n=n.child}return n;case 26:return Ju(e,n),e===null?(a=C_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Vt||(a=n.type,e=n.pendingProps,o=mc(St.current).createElement(a),o[Ee]=n,o[Ve]=e,He(o,a,e),Te(o),n.stateNode=o):n.memoizedState=C_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ls(n),e===null&&Vt&&(o=n.stateNode=w_(n.type,n.pendingProps,St.current),je=n,On=!0,h=ie,kr(n.type)?(wd=h,ie=Vn(o.firstChild)):ie=h),qe(e,n,n.pendingProps.children,a),Ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=o=ie)&&(o=Eb(o,n.type,n.pendingProps,On),o!==null?(n.stateNode=o,je=n,ie=Vn(o.firstChild),On=!1,h=!0):h=!1),h||Tr(n)),ls(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Ed(h,f)?o=null:g!==null&&Ed(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=vf(e,n,kT,null,null,a),gl._currentValue=h),Ju(e,n),qe(e,n,o,a),n.child;case 6:return e===null&&Vt&&((e=a=ie)&&(a=Tb(a,n.pendingProps,On),a!==null?(n.stateNode=a,je=n,ie=null,e=!0):e=!1),e||Tr(n)),null;case 13:return my(e,n,a);case 4:return Ne(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Vs(n,null,o,a):qe(e,n,o,a),n.child;case 11:return sy(e,n,n.type,n.pendingProps,a);case 7:return qe(e,n,n.pendingProps,a),n.child;case 8:return qe(e,n,n.pendingProps.children,a),n.child;case 12:return qe(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,br(n,n.type,o.value),qe(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ns(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,a),n.child;case 14:return ay(e,n,n.type,n.pendingProps,a);case 15:return oy(e,n,n.type,n.pendingProps,a);case 19:return gy(e,n,a);case 31:return HT(e,n,a);case 22:return ly(e,n,a,n.pendingProps);case 24:return Ns(n),o=Be(Ae),e===null?(h=uf(),h===null&&(h=ee,f=of(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},hf(n),br(n,Ae,h)):((e.lanes&a)!==0&&(ff(e,n),$o(n,null,null,a),Xo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),br(n,Ae,o)):(o=f.cache,br(n,Ae,o),o!==h.cache&&af(n,[Ae],a,!0))),qe(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Hi(e){e.flags|=4}function Yf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Fy())e.flags|=8192;else throw Ms=Uu,cf}else e.flags&=-16777217}function _y(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!M_(n))if(Fy())e.flags|=8192;else throw Ms=Uu,cf}function Wu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?su():536870912,e.lanes|=n,Va|=n)}function nl(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function re(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function GT(e,n,a){var o=n.pendingProps;switch(tf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),zi(Ae),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ta(n)?Hi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nf())),re(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Hi(n),f!==null?(re(n),_y(n,f)):(re(n),Yf(n,h,null,o,a))):f?f!==e.memoizedState?(Hi(n),re(n),_y(n,f)):(re(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Hi(n),re(n),Yf(n,h,e,o,a)),null;case 27:if(Ws(n),a=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return re(n),null}e=at.current,Ta(n)?Jp(n):(e=w_(h,o,a),n.stateNode=e,Hi(n))}return re(n),null;case 5:if(Ws(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return re(n),null}if(f=at.current,Ta(n))Jp(n);else{var g=mc(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ee]=n,f[Ve]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Hi(n)}}return re(n),Yf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=St.current,Ta(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||m_(e.nodeValue,a)),e||Tr(n,!0)}else e=mc(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return re(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ta(n),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ee]=n}else Cs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),e=!1}else a=nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return re(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ta(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=n}else Cs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),h=!1}else h=nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Wu(n,n.updateQueue),re(n),null);case 4:return ae(),e===null&&pd(n.stateNode.containerInfo),re(n),null;case 10:return zi(n.type),re(n),null;case 19:if($(me),o=n.memoizedState,o===null)return re(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)nl(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ju(e),f!==null){for(n.flags|=128,nl(o,!1),e=f.updateQueue,n.updateQueue=e,Wu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Qp(a,e),a=a.sibling;return nt(me,me.current&1|2),Vt&&Li(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Ze()>rc&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304)}else{if(!h)if(e=ju(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Wu(n,e),nl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return re(n),null}else 2*Ze()-o.renderingStartTime>rc&&a!==536870912&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ze(),e.sibling=null,a=me.current,nt(me,h?a&1|2:a&1),Vt&&Li(n,o.treeForkCount),e):(re(n),null);case 22:case 23:return vn(n),gf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),a=n.updateQueue,a!==null&&Wu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&$(Ds),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),zi(Ae),re(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function QT(e,n){switch(tf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return zi(Ae),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ws(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(s(340));Cs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(vn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Cs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return $(me),null;case 4:return ae(),null;case 10:return zi(n.type),null;case 22:case 23:return vn(n),gf(),e!==null&&$(Ds),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return zi(Ae),null;case 25:return null;default:return null}}function vy(e,n){switch(tf(n),n.tag){case 3:zi(Ae),ae();break;case 26:case 27:case 5:Ws(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:$(me);break;case 10:zi(n.type);break;case 22:case 23:vn(n),gf(),e!==null&&$(Ds);break;case 24:zi(Ae)}}function il(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){Yt(n,n.return,E)}}function Cr(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=a,z=E;try{z()}catch(Q){Yt(h,I,Q)}}}o=o.next}while(o!==f)}}catch(Q){Yt(n,n.return,Q)}}function Ey(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{cg(n,a)}catch(o){Yt(e,e.return,o)}}}function Ty(e,n,a){a.props=Us(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Yt(e,n,o)}}function rl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Yt(e,n,h)}}function bi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,n,h)}else a.current=null}function by(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function Kf(e,n,a){try{var o=e.stateNode;mb(o,e.type,a,n),o[Ve]=n}catch(h){Yt(e,e.return,h)}}function Ay(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&kr(e.type)||e.tag===4}function Xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ay(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&kr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $f(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Hn));else if(o!==4&&(o===27&&kr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for($f(e,n,a),e=e.sibling;e!==null;)$f(e,n,a),e=e.sibling}function tc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&kr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(tc(e,n,a),e=e.sibling;e!==null;)tc(e,n,a),e=e.sibling}function Sy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,a),n[Ee]=e,n[Ve]=a}catch(f){Yt(e,e.return,f)}}var Fi=!1,Re=!1,Jf=!1,wy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function YT(e,n){if(e=e.containerInfo,_d=Tc,e=Lp(e),Hh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,I=-1,z=0,Q=0,X=e,j=null;e:for(;;){for(var q;X!==a||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(I=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(q=X.firstChild)!==null;)j=X,X=q;for(;;){if(X===e)break e;if(j===a&&++z===h&&(E=g),j===f&&++Q===o&&(I=g),(q=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=q}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(vd={focusedElem:e,selectionRange:a},Tc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ot=Us(a.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Yt(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)bd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function Ry(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(e,a),o&4&&il(5,a);break;case 1:if(Qi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(g){Yt(a,a.return,g)}else{var h=Us(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(a,a.return,g)}}o&64&&Ey(a),o&512&&rl(a,a.return);break;case 3:if(Qi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{cg(e,n)}catch(g){Yt(a,a.return,g)}}break;case 27:n===null&&o&4&&Sy(a);case 26:case 5:Qi(e,a),n===null&&o&4&&by(a),o&512&&rl(a,a.return);break;case 12:Qi(e,a);break;case 31:Qi(e,a),o&4&&xy(e,a);break;case 13:Qi(e,a),o&4&&Ny(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=nb.bind(null,a),bb(e,a))));break;case 22:if(o=a.memoizedState!==null||Fi,!o){n=n!==null&&n.memoizedState!==null||Re,h=Fi;var f=Re;Fi=o,(Re=n)&&!f?Yi(e,a,(a.subtreeFlags&8772)!==0):Qi(e,a),Fi=h,Re=f}break;case 30:break;default:Qi(e,a)}}function Iy(e){var n=e.alternate;n!==null&&(e.alternate=null,Iy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ra(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,an=!1;function Gi(e,n,a){for(a=a.child;a!==null;)Cy(e,n,a),a=a.sibling}function Cy(e,n,a){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:Re||bi(a,n),Gi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||bi(a,n);var o=le,h=an;kr(a.type)&&(le=a.stateNode,an=!1),Gi(e,n,a),dl(a.stateNode),le=o,an=h;break;case 5:Re||bi(a,n);case 6:if(o=le,h=an,le=null,Gi(e,n,a),le=o,an=h,le!==null)if(an)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){Yt(a,n,f)}else try{le.removeChild(a.stateNode)}catch(f){Yt(a,n,f)}break;case 18:le!==null&&(an?(e=le,E_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),qa(e)):E_(le,a.stateNode));break;case 4:o=le,h=an,le=a.stateNode.containerInfo,an=!0,Gi(e,n,a),le=o,an=h;break;case 0:case 11:case 14:case 15:Cr(2,a,n),Re||Cr(4,a,n),Gi(e,n,a);break;case 1:Re||(bi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ty(a,n,o)),Gi(e,n,a);break;case 21:Gi(e,n,a);break;case 22:Re=(o=Re)||a.memoizedState!==null,Gi(e,n,a),Re=o;break;default:Gi(e,n,a)}}function xy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qa(e)}catch(a){Yt(n,n.return,a)}}}function Ny(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qa(e)}catch(a){Yt(n,n.return,a)}}function KT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new wy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new wy),n;default:throw Error(s(435,e.tag))}}function ec(e,n){var a=KT(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=ib.bind(null,e,o);o.then(h,h)}})}function on(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(kr(E.type)){le=E.stateNode,an=!1;break t}break;case 5:le=E.stateNode,an=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(le===null)throw Error(s(160));Cy(f,g,h),le=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Dy(n,e),n=n.sibling}var Xn=null;function Dy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(Cr(3,e,e.return),il(3,e),Cr(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(Re||a===null||bi(a,a.return)),o&64&&Fi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Xn;if(on(n,e),ln(e),o&512&&(Re||a===null||bi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,a),f[Ee]=e,Te(f),o=f;break t;case"link":var g=D_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,a),h.head.appendChild(f);break;case"meta":if(g=D_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Ee]=e,Te(f),o=f}e.stateNode=o}else O_(h,e.type,e.stateNode);else e.stateNode=N_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?O_(h,e.type,e.stateNode):N_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Kf(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(Re||a===null||bi(a,a.return)),a!==null&&o&4&&Kf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(Re||a===null||bi(a,a.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(ot){Yt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Kf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Jf=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ot){Yt(e,e.return,ot)}}break;case 3:if(yc=null,h=Xn,Xn=pc(n.containerInfo),on(n,e),Xn=h,ln(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{qa(n.containerInfo)}catch(ot){Yt(e,e.return,ot)}Jf&&(Jf=!1,Oy(e));break;case 4:o=Xn,Xn=pc(e.stateNode.containerInfo),on(n,e),ln(e),Xn=o;break;case 12:on(n,e),ln(e);break;case 31:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ic=Ze()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=Fi,Q=Re;if(Fi=z||h,Re=Q||I,on(n,e),Re=Q,Fi=z,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||Fi||Re||Ls(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var X=I.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){Yt(I,I.return,ot)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ot){Yt(I,I.return,ot)}}}else if(n.tag===18){if(a===null){I=n;try{var q=I.stateNode;h?T_(q,!0):T_(I.stateNode,!1)}catch(ot){Yt(I,I.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,ec(e,a))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Ay(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Xf(e);tc(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(sn(g,""),a.flags&=-33);var E=Xf(e);tc(e,E,g);break;case 3:case 4:var I=a.stateNode.containerInfo,z=Xf(e);$f(e,z,I);break;default:throw Error(s(161))}}catch(Q){Yt(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Oy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Oy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ry(e,n.alternate,n),n=n.sibling}function Ls(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Cr(4,n,n.return),Ls(n);break;case 1:bi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ty(n,n.return,a),Ls(n);break;case 27:dl(n.stateNode);case 26:case 5:bi(n,n.return),Ls(n);break;case 22:n.memoizedState===null&&Ls(n);break;case 30:Ls(n);break;default:Ls(n)}e=e.sibling}}function Yi(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Yi(h,f,a),il(4,f);break;case 1:if(Yi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)ug(I[h],E)}catch(z){Yt(o,o.return,z)}}a&&g&64&&Ey(f),rl(f,f.return);break;case 27:Sy(f);case 26:case 5:Yi(h,f,a),a&&o===null&&g&4&&by(f),rl(f,f.return);break;case 12:Yi(h,f,a);break;case 31:Yi(h,f,a),a&&g&4&&xy(h,f);break;case 13:Yi(h,f,a),a&&g&4&&Ny(h,f);break;case 22:f.memoizedState===null&&Yi(h,f,a),rl(f,f.return);break;case 30:break;default:Yi(h,f,a)}n=n.sibling}}function Zf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Fo(a))}function Wf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Fo(e))}function $n(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)My(e,n,a,o),n=n.sibling}function My(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(e,n,a,o),h&2048&&il(9,n);break;case 1:$n(e,n,a,o);break;case 3:$n(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Fo(e)));break;case 12:if(h&2048){$n(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Yt(n,n.return,I)}}else $n(e,n,a,o);break;case 31:$n(e,n,a,o);break;case 13:$n(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?$n(e,n,a,o):sl(e,n):f._visibility&2?$n(e,n,a,o):(f._visibility|=2,Da(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(g,n);break;case 24:$n(e,n,a,o),h&2048&&Wf(n.alternate,n);break;default:$n(e,n,a,o)}}function Da(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=a,I=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Da(f,g,E,I,h),il(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Da(f,g,E,I,h):sl(f,g):(Q._visibility|=2,Da(f,g,E,I,h)),h&&z&2048&&Zf(g.alternate,g);break;case 24:Da(f,g,E,I,h),h&&z&2048&&Wf(g.alternate,g);break;default:Da(f,g,E,I,h)}n=n.sibling}}function sl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:sl(a,o),h&2048&&Zf(o.alternate,o);break;case 24:sl(a,o),h&2048&&Wf(o.alternate,o);break;default:sl(a,o)}n=n.sibling}}var al=8192;function Oa(e,n,a){if(e.subtreeFlags&al)for(e=e.child;e!==null;)Vy(e,n,a),e=e.sibling}function Vy(e,n,a){switch(e.tag){case 26:Oa(e,n,a),e.flags&al&&e.memoizedState!==null&&Vb(a,Xn,e.memoizedState,e.memoizedProps);break;case 5:Oa(e,n,a);break;case 3:case 4:var o=Xn;Xn=pc(e.stateNode.containerInfo),Oa(e,n,a),Xn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=al,al=16777216,Oa(e,n,a),al=o):Oa(e,n,a));break;default:Oa(e,n,a)}}function ky(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ol(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ue=o,Ly(o,e)}ky(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Uy(e),e=e.sibling}function Uy(e){switch(e.tag){case 0:case 11:case 15:ol(e),e.flags&2048&&Cr(9,e,e.return);break;case 3:ol(e);break;case 12:ol(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,nc(e)):ol(e);break;default:ol(e)}}function nc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ue=o,Ly(o,e)}ky(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Cr(8,n,n.return),nc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,nc(n));break;default:nc(n)}e=e.sibling}}function Ly(e,n){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:Cr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Fo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ue=o;else t:for(a=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(Iy(o),o===a){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var XT={getCacheForType:function(e){var n=Be(Ae),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Be(Ae).controller.signal}},$T=typeof WeakMap=="function"?WeakMap:Map,qt=0,ee=null,Rt=null,Ct=0,Qt=0,En=null,xr=!1,Ma=!1,td=!1,Ki=0,he=0,Nr=0,Ps=0,ed=0,Tn=0,Va=0,ll=null,un=null,nd=!1,ic=0,Py=0,rc=1/0,sc=null,Dr=null,Oe=0,Or=null,ka=null,Xi=0,id=0,rd=null,zy=null,ul=0,sd=null;function bn(){return(qt&2)!==0&&Ct!==0?Ct&-Ct:H.T!==null?hd():au()}function jy(){if(Tn===0)if((Ct&536870912)===0||Vt){var e=hs;hs<<=1,(hs&3932160)===0&&(hs=262144),Tn=e}else Tn=536870912;return e=_n.current,e!==null&&(e.flags|=32),Tn}function cn(e,n,a){(e===ee&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Ua(e,0),Mr(e,Ct,Tn,!1)),fs(e,a),((qt&2)===0||e!==ee)&&(e===ee&&((qt&2)===0&&(Ps|=a),he===4&&Mr(e,Ct,Tn,!1)),Ai(e))}function By(e,n,a){if((qt&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||jn(e,n),h=o?WT(e,n):od(e,n,!0),f=o;do{if(h===0){Ma&&!o&&Mr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!JT(a)){h=od(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=ll;var I=E.current.memoizedState.isDehydrated;if(I&&(Ua(E,g).flags|=256),g=od(E,g,!1),g!==2){if(td&&!I){E.errorRecoveryDisabledLanes|=f,Ps|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ua(e,0),Mr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Mr(o,n,Tn,!xr);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=ic+300-Ze(),10<h)){if(Mr(o,n,Tn,!xr),si(o,0,!0)!==0)break t;Xi=n,o.timeoutHandle=__(qy.bind(null,o,a,un,sc,nd,n,Tn,Ps,Va,xr,f,"Throttled",-0,0),h);break t}qy(o,a,un,sc,nd,n,Tn,Ps,Va,xr,f,null,-0,0)}}break}while(!0);Ai(e)}function qy(e,n,a,o,h,f,g,E,I,z,Q,X,j,q){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},Vy(n,f,X);var ot=(f&62914560)===f?ic-Ze():(f&4194048)===f?Py-Ze():0;if(ot=kb(X,ot),ot!==null){Xi=f,e.cancelPendingCommit=ot($y.bind(null,e,n,f,a,o,h,g,E,I,Q,X,null,j,q)),Mr(e,f,g,!z);return}}$y(e,n,f,a,o,h,g,E,I)}function JT(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Mr(e,n,a,o){n&=~ed,n&=~Ps,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&ds(e,a,n)}function ac(){return(qt&6)===0?(cl(0),!1):!0}function ad(){if(Rt!==null){if(Qt===0)var e=Rt.return;else e=Rt,Pi=xs=null,bf(e),Ra=null,Qo=0,e=Rt;for(;e!==null;)vy(e.alternate,e),e=e.return;Rt=null}}function Ua(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,yb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Xi=0,ad(),ee=e,Rt=a=Ui(e.current,null),Ct=n,Qt=0,En=null,xr=!1,Ma=jn(e,n),td=!1,Va=Tn=ed=Ps=Nr=he=0,un=ll=null,nd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-fe(o),f=1<<h;n|=e[h],o&=~f}return Ki=n,Iu(),a}function Hy(e,n){At=null,H.H=tl,n===wa||n===ku?(n=sg(),Qt=3):n===cf?(n=sg(),Qt=4):Qt=n===Pf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Rt===null&&(he=1,Xu(e,xn(n,e.current)))}function Fy(){var e=_n.current;return e===null?!0:(Ct&4194048)===Ct?Mn===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?e===Mn:!1}function Gy(){var e=H.H;return H.H=tl,e===null?tl:e}function Qy(){var e=H.A;return H.A=XT,e}function oc(){he=4,xr||(Ct&4194048)!==Ct&&_n.current!==null||(Ma=!0),(Nr&134217727)===0&&(Ps&134217727)===0||ee===null||Mr(ee,Ct,Tn,!1)}function od(e,n,a){var o=qt;qt|=2;var h=Gy(),f=Qy();(ee!==e||Ct!==n)&&(sc=null,Ua(e,n)),n=!1;var g=he;t:do try{if(Qt!==0&&Rt!==null){var E=Rt,I=En;switch(Qt){case 8:ad(),g=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var z=Qt;if(Qt=0,En=null,La(e,E,I,z),a&&Ma){g=0;break t}break;default:z=Qt,Qt=0,En=null,La(e,E,I,z)}}ZT(),g=he;break}catch(Q){Hy(e,Q)}while(!0);return n&&e.shellSuspendCounter++,Pi=xs=null,qt=o,H.H=h,H.A=f,Rt===null&&(ee=null,Ct=0,Iu()),g}function ZT(){for(;Rt!==null;)Yy(Rt)}function WT(e,n){var a=qt;qt|=2;var o=Gy(),h=Qy();ee!==e||Ct!==n?(sc=null,rc=Ze()+500,Ua(e,n)):Ma=jn(e,n);t:do try{if(Qt!==0&&Rt!==null){n=Rt;var f=En;e:switch(Qt){case 1:Qt=0,En=null,La(e,n,f,1);break;case 2:case 9:if(ig(f)){Qt=0,En=null,Ky(n);break}n=function(){Qt!==2&&Qt!==9||ee!==e||(Qt=7),Ai(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:ig(f)?(Qt=0,En=null,Ky(n)):(Qt=0,En=null,La(e,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var E=Rt;if(g?M_(g):E.stateNode.complete){Qt=0,En=null;var I=E.sibling;if(I!==null)Rt=I;else{var z=E.return;z!==null?(Rt=z,lc(z)):Rt=null}break e}}Qt=0,En=null,La(e,n,f,5);break;case 6:Qt=0,En=null,La(e,n,f,6);break;case 8:ad(),he=6;break t;default:throw Error(s(462))}}tb();break}catch(Q){Hy(e,Q)}while(!0);return Pi=xs=null,H.H=o,H.A=h,qt=a,Rt!==null?0:(ee=null,Ct=0,Iu(),he)}function tb(){for(;Rt!==null&&!Uh();)Yy(Rt)}function Yy(e){var n=yy(e.alternate,e,Ki);e.memoizedProps=e.pendingProps,n===null?lc(e):Rt=n}function Ky(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=hy(a,n,n.pendingProps,n.type,void 0,Ct);break;case 11:n=hy(a,n,n.pendingProps,n.type.render,n.ref,Ct);break;case 5:bf(n);default:vy(a,n),n=Rt=Qp(n,Ki),n=yy(a,n,Ki)}e.memoizedProps=e.pendingProps,n===null?lc(e):Rt=n}function La(e,n,a,o){Pi=xs=null,bf(n),Ra=null,Qo=0;var h=n.return;try{if(qT(e,h,n,a,Ct)){he=1,Xu(e,xn(a,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;he=1,Xu(e,xn(a,e.current)),Rt=null;return}n.flags&32768?(Vt||o===1?e=!0:Ma||(Ct&536870912)!==0?e=!1:(xr=e=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),Xy(n,e)):lc(n)}function lc(e){var n=e;do{if((n.flags&32768)!==0){Xy(n,xr);return}e=n.return;var a=GT(n.alternate,n,Ki);if(a!==null){Rt=a;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);he===0&&(he=5)}function Xy(e,n){do{var a=QT(e.alternate,e);if(a!==null){a.flags&=32767,Rt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=a}while(e!==null);he=6,Rt=null}function $y(e,n,a,o,h,f,g,E,I){e.cancelPendingCommit=null;do uc();while(Oe!==0);if((qt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Kh,zh(e,a,f,g,E,I),e===ee&&(Rt=ee=null,Ct=0),ka=n,Or=e,Xi=a,id=f,rd=h,zy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,rb(ur,function(){return e_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=et.p,et.p=2,g=qt,qt|=4;try{YT(e,n,a)}finally{qt=g,et.p=h,H.T=o}}Oe=1,Jy(),Zy(),Wy()}}function Jy(){if(Oe===1){Oe=0;var e=Or,n=ka,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=et.p;et.p=2;var h=qt;qt|=4;try{Dy(n,e);var f=vd,g=Lp(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Up(E.ownerDocument.documentElement,E)){if(I!==null&&Hh(E)){var z=I.start,Q=I.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var q=j.getSelection(),ot=E.textContent.length,pt=Math.min(I.start,ot),Zt=I.end===void 0?pt:Math.min(I.end,ot);!q.extend&&pt>Zt&&(g=Zt,Zt=pt,pt=g);var U=kp(E,pt),D=kp(E,Zt);if(U&&D&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=X.createRange();P.setStart(U.node,U.offset),q.removeAllRanges(),pt>Zt?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Tc=!!_d,vd=_d=null}finally{qt=h,et.p=o,H.T=a}}e.current=n,Oe=2}}function Zy(){if(Oe===2){Oe=0;var e=Or,n=ka,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=et.p;et.p=2;var h=qt;qt|=4;try{Ry(e,n.alternate,n)}finally{qt=h,et.p=o,H.T=a}}Oe=3}}function Wy(){if(Oe===4||Oe===3){Oe=0,Wl();var e=Or,n=ka,a=Xi,o=zy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,ka=Or=null,t_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Dr=null),Oi(a),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=et.p,et.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=h}}(Xi&3)!==0&&uc(),Ai(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===sd?ul++:(ul=0,sd=e):ul=0,cl(0)}}function t_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Fo(n)))}function uc(){return Jy(),Zy(),Wy(),e_()}function e_(){if(Oe!==5)return!1;var e=Or,n=id;id=0;var a=Oi(Xi),o=H.T,h=et.p;try{et.p=32>a?32:a,H.T=null,a=rd,rd=null;var f=Or,g=Xi;if(Oe=0,ka=Or=null,Xi=0,(qt&6)!==0)throw Error(s(331));var E=qt;if(qt|=4,Uy(f.current),My(f,f.current,g,a),qt=E,cl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{et.p=h,H.T=o,t_(e,n)}}function n_(e,n,a){n=xn(a,n),n=Lf(e.stateNode,n,2),e=wr(e,n,2),e!==null&&(fs(e,2),Ai(e))}function Yt(e,n,a){if(e.tag===3)n_(e,e,a);else for(;n!==null;){if(n.tag===3){n_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Dr===null||!Dr.has(o))){e=xn(a,e),a=iy(2),o=wr(n,a,2),o!==null&&(ry(a,o,n,e),fs(o,2),Ai(o));break}}n=n.return}}function ld(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new $T;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(td=!0,h.add(a),e=eb.bind(null,e,n,a),n.then(e,e))}function eb(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(Ct&a)===a&&(he===4||he===3&&(Ct&62914560)===Ct&&300>Ze()-ic?(qt&2)===0&&Ua(e,0):ed|=a,Va===Ct&&(Va=0)),Ai(e)}function i_(e,n){n===0&&(n=su()),e=Rs(e,n),e!==null&&(fs(e,n),Ai(e))}function nb(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),i_(e,a)}function ib(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),i_(e,a)}function rb(e,n){return De(e,n)}var cc=null,Pa=null,ud=!1,hc=!1,cd=!1,Vr=0;function Ai(e){e!==Pa&&e.next===null&&(Pa===null?cc=Pa=e:Pa=Pa.next=e),hc=!0,ud||(ud=!0,ab())}function cl(e,n){if(!cd&&hc){cd=!0;do for(var a=!1,o=cc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,o_(o,f))}else f=Ct,f=si(o,o===ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||jn(o,f)||(a=!0,o_(o,f));o=o.next}while(a);cd=!1}}function sb(){r_()}function r_(){hc=ud=!1;var e=0;Vr!==0&&gb()&&(e=Vr);for(var n=Ze(),a=null,o=cc;o!==null;){var h=o.next,f=s_(o,n);f===0?(o.next=null,a===null?cc=h:a.next=h,h===null&&(Pa=a)):(a=o,(e!==0||(f&3)!==0)&&(hc=!0)),o=h}Oe!==0&&Oe!==5||cl(e),Vr!==0&&(Vr=0)}function s_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-fe(f),E=1<<g,I=h[g];I===-1?((E&a)===0||(E&o)!==0)&&(h[g]=Ph(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=ee,a=Ct,a=si(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&lr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||jn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&lr(o),Oi(a)){case 2:case 8:a=Eo;break;case 32:a=ur;break;case 268435456:a=tu;break;default:a=ur}return o=a_.bind(null,e),a=De(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&lr(o),e.callbackPriority=2,e.callbackNode=null,2}function a_(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(uc()&&e.callbackNode!==a)return null;var o=Ct;return o=si(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(By(e,o,n),s_(e,Ze()),e.callbackNode!=null&&e.callbackNode===a?a_.bind(null,e):null)}function o_(e,n){if(uc())return null;By(e,n,!0)}function ab(){_b(function(){(qt&6)!==0?De(vo,sb):r_()})}function hd(){if(Vr===0){var e=Aa;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),Vr=e}return Vr}function l_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:la(""+e)}function u_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function ob(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=l_((h[Ve]||null).action),g=o.submitter;g&&(n=(n=g[Ve]||null)?l_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new gi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Vr!==0){var I=g?u_(h,g):new FormData(h);Df(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?u_(h,g):new FormData(h),Df(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var fd=0;fd<Yh.length;fd++){var dd=Yh[fd],lb=dd.toLowerCase(),ub=dd[0].toUpperCase()+dd.slice(1);Kn(lb,"on"+ub)}Kn(jp,"onAnimationEnd"),Kn(Bp,"onAnimationIteration"),Kn(qp,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(wT,"onTransitionRun"),Kn(RT,"onTransitionStart"),Kn(IT,"onTransitionCancel"),Kn(Hp,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function c_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){Ru(Q)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){Ru(Q)}h.currentTarget=null,f=I}}}}function It(e,n){var a=n[ia];a===void 0&&(a=n[ia]=new Set);var o=e+"__bubble";a.has(o)||(h_(n,e,2,!1),a.add(o))}function md(e,n,a){var o=0;n&&(o|=4),h_(a,e,o,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function pd(e){if(!e[fc]){e[fc]=!0,Ao.forEach(function(a){a!=="selectionchange"&&(cb.has(a)||md(a,!1,e),md(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[fc]||(n[fc]=!0,md("selectionchange",!1,n))}}function h_(e,n,a,o){switch(j_(n)){case 2:var h=Pb;break;case 8:h=zb;break;default:h=Nd}a=h.bind(null,n,a,e),h=void 0,!_s||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function gd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ui(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}pr(function(){var z=f,Q=wn(a),X=[];t:{var j=Fp.get(e);if(j!==void 0){var q=gi,ot=e;switch(e){case"keypress":if(Es(a)===0)break t;case"keydown":case"keyup":q=Au;break;case"focusin":ot="focus",q=bs;break;case"focusout":ot="blur",q=bs;break;case"beforeblur":case"afterblur":q=bs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case jp:case Bp:case qp:q=gu;break;case Hp:q=T;break;case"scroll":case"scrollend":q=ko;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ki;break;case"toggle":case"beforetoggle":q=bt}var pt=(n&4)!==0,Zt=!pt&&(e==="scroll"||e==="scrollend"),U=pt?j!==null?j+"Capture":null:j;pt=[];for(var D=z,P;D!==null;){var Y=D;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||U===null||(Y=Fn(D,U),Y!=null&&pt.push(fl(D,Y,P))),Zt)break;D=D.return}0<pt.length&&(j=new q(j,ot,null,a,Q),X.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&a!==Oo&&(ot=a.relatedTarget||a.fromElement)&&(ui(ot)||ot[oi]))break t;if((q||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ot=a.relatedTarget||a.toElement,q=z,ot=ot?ui(ot):null,ot!==null&&(Zt=c(ot),pt=ot.tag,ot!==Zt||pt!==5&&pt!==27&&pt!==6)&&(ot=null)):(q=null,ot=z),q!==ot)){if(pt=Uo,Y="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(pt=ki,Y="onPointerLeave",U="onPointerEnter",D="pointer"),Zt=q==null?j:mn(q),P=ot==null?j:mn(ot),j=new pt(Y,D+"leave",q,a,Q),j.target=Zt,j.relatedTarget=P,Y=null,ui(Q)===z&&(pt=new pt(U,D+"enter",ot,a,Q),pt.target=P,pt.relatedTarget=Zt,Y=pt),Zt=Y,q&&ot)e:{for(pt=hb,U=q,D=ot,P=0,Y=U;Y;Y=pt(Y))P++;Y=0;for(var ft=D;ft;ft=pt(ft))Y++;for(;0<P-Y;)U=pt(U),P--;for(;0<Y-P;)D=pt(D),Y--;for(;P--;){if(U===D||D!==null&&U===D.alternate){pt=U;break e}U=pt(U),D=pt(D)}pt=null}else pt=null;q!==null&&f_(X,j,q,pt,!1),ot!==null&&Zt!==null&&f_(X,Zt,ot,pt,!0)}}t:{if(j=z?mn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var zt=xp;else if(Ip(j))if(Np)zt=bT;else{zt=ET;var lt=vT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&oa(z.elementType)&&(zt=xp):zt=TT;if(zt&&(zt=zt(e,z))){Cp(X,zt,a,Q);break t}lt&&lt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&xo(j,"number",j.value)}switch(lt=z?mn(z):window,e){case"focusin":(Ip(lt)||lt.contentEditable==="true")&&(pa=lt,Fh=z,Bo=null);break;case"focusout":Bo=Fh=pa=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Pp(X,a,Q);break;case"selectionchange":if(ST)break;case"keydown":case"keyup":Pp(X,a,Q)}var wt;if(Bt)t:{switch(e){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else ma?As(e,a)&&(xt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(xt="onCompositionStart");xt&&(vi&&a.locale!=="ko"&&(ma||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&ma&&(wt=Vo()):(pi=Q,Mo="value"in pi?pi.value:pi.textContent,ma=!0)),lt=dc(z,xt),0<lt.length&&(xt=new _i(xt,e,null,a,Q),X.push({event:xt,listeners:lt}),wt?xt.data=wt:(wt=da(a),wt!==null&&(xt.data=wt)))),(wt=In?pT(e,a):gT(e,a))&&(xt=dc(z,"onBeforeInput"),0<xt.length&&(lt=new _i("onBeforeInput","beforeinput",null,a,Q),X.push({event:lt,listeners:xt}),lt.data=wt)),ob(X,e,z,a,Q)}c_(X,n)})}function fl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function dc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Fn(e,a),h!=null&&o.unshift(fl(e,h,f)),h=Fn(e,n),h!=null&&o.push(fl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function hb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function f_(e,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=Fn(a,f),z!=null&&g.unshift(fl(a,z,I))):h||(z=Fn(a,f),z!=null&&g.push(fl(a,z,I)))),a=a.return}g.length!==0&&e.push({event:n,listeners:g})}var fb=/\r\n?/g,db=/\u0000|\uFFFD/g;function d_(e){return(typeof e=="string"?e:""+e).replace(fb,`
`).replace(db,"")}function m_(e,n){return n=d_(n),d_(e)===n}function Jt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":pn(e,"class",o);break;case"tabIndex":pn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(e,a,o);break;case"style":Do(e,o,f);break;case"data":if(n!=="object"){pn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=la(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=la(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=la(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":It("beforetoggle",e),It("toggle",e),sa(e,"popover",o);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=du.get(a)||a,sa(e,a,o))}}function yd(e,n,a,o,h,f){switch(a){case"style":Do(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Ve]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):sa(e,a,o)}}}function He(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(e,n,f,g,a,null)}}h&&Jt(e,n,"srcSet",a.srcSet,a,null),o&&Jt(e,n,"src",a.src,a,null);return;case"input":It("invalid",e);var E=f=g=h=null,I=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":g=Q;break;case"checked":I=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Jt(e,n,o,Q,a,null)}}cu(e,f,E,I,z,g,h,!1);return;case"select":It("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Jt(e,n,h,E,a,null)}n=f,a=g,e.multiple=!!o,n!=null?hr(e,!!o,n,!1):a!=null&&hr(e,!!o,a,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Jt(e,n,g,E,a,null)}fr(e,o,h,f);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Jt(e,n,I,o,a,null)}return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<hl.length;o++)It(hl[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(e,n,z,o,a,null)}return;default:if(oa(n)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&yd(e,n,Q,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Jt(e,n,E,o,a,null))}function mb(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,z=null,Q=null;for(q in a){var X=a[q];if(a.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=X;default:o.hasOwnProperty(q)||Jt(e,n,q,null,o,X)}}for(var j in o){var q=o[j];if(X=a[j],o.hasOwnProperty(j)&&(q!=null||X!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":Q=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==X&&Jt(e,n,j,q,o,X)}}aa(e,g,E,I,z,Q,f,h);return;case"select":q=g=E=j=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&Jt(e,n,h,f,o,I)}n=E,a=g,o=q,j!=null?hr(e,!!a,j,!1):!!o!=!!a&&(n!=null?hr(e,!!a,n,!0):hr(e,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Jt(e,n,g,h,o,f)}hu(e,j,q);return;case"option":for(var ot in a)if(j=a[ot],a.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:Jt(e,n,ot,null,o,j)}for(I in o)if(j=o[I],q=a[I],o.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null))switch(I){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Jt(e,n,I,j,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)j=a[pt],a.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&Jt(e,n,pt,null,o,j);for(z in o)if(j=o[z],q=a[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Jt(e,n,z,j,o,q)}return;default:if(oa(n)){for(var Zt in a)j=a[Zt],a.hasOwnProperty(Zt)&&j!==void 0&&!o.hasOwnProperty(Zt)&&yd(e,n,Zt,void 0,o,j);for(Q in o)j=o[Q],q=a[Q],!o.hasOwnProperty(Q)||j===q||j===void 0&&q===void 0||yd(e,n,Q,j,o,q);return}}for(var U in a)j=a[U],a.hasOwnProperty(U)&&j!=null&&!o.hasOwnProperty(U)&&Jt(e,n,U,null,o,j);for(X in o)j=o[X],q=a[X],!o.hasOwnProperty(X)||j===q||j==null&&q==null||Jt(e,n,X,j,o,q)}function p_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&p_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],z=I.startTime;if(z>E)break;var Q=I.transferSize,X=I.initiatorType;Q&&p_(X)&&(I=I.responseEnd,g+=Q*(I<E?1:(E-z)/(I-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _d=null,vd=null;function mc(e){return e.nodeType===9?e:e.ownerDocument}function g_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ed(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Td=null;function gb(){var e=window.event;return e&&e.type==="popstate"?e===Td?!1:(Td=e,!0):(Td=null,!1)}var __=typeof setTimeout=="function"?setTimeout:void 0,yb=typeof clearTimeout=="function"?clearTimeout:void 0,v_=typeof Promise=="function"?Promise:void 0,_b=typeof queueMicrotask=="function"?queueMicrotask:typeof v_<"u"?function(e){return v_.resolve(null).then(e).catch(vb)}:__;function vb(e){setTimeout(function(){throw e})}function kr(e){return e==="head"}function E_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),qa(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")dl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,dl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[li]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&dl(e.ownerDocument.body);a=h}while(a);qa(n)}function T_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function bd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bd(a),ra(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Eb(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[li])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function Tb(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Vn(e.nextSibling),e===null))return null;return e}function b_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function Ad(e){return e.data==="$?"||e.data==="$~"}function Sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function bb(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var wd=null;function A_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Vn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function S_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function w_(e,n,a){switch(n=mc(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function dl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ra(e)}var kn=new Map,R_=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $i=et.d;et.d={f:Ab,r:Sb,D:wb,C:Rb,L:Ib,m:Cb,X:Nb,S:xb,M:Db};function Ab(){var e=$i.f(),n=ac();return e||n}function Sb(e){var n=Sn(e);n!==null&&n.tag===5&&n.type==="form"?Hg(n):$i.r(e)}var za=typeof document>"u"?null:document;function I_(e,n,a){var o=za;if(o&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),R_.has(h)||(R_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),Te(n),o.head.appendChild(n)))}}function wb(e){$i.D(e),I_("dns-prefetch",e,null)}function Rb(e,n){$i.C(e,n),I_("preconnect",e,n)}function Ib(e,n,a){$i.L(e,n,a);var o=za;if(o&&e&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(n){case"style":f=ja(e);break;case"script":f=Ba(e)}kn.has(f)||(e=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ml(f))||n==="script"&&o.querySelector(pl(f))||(n=o.createElement("link"),He(n,"link",e),Te(n),o.head.appendChild(n)))}}function Cb(e,n){$i.m(e,n);var a=za;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ba(e)}if(!kn.has(f)&&(e=A({rel:"modulepreload",href:e},n),kn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pl(f)))return}o=a.createElement("link"),He(o,"link",e),Te(o),a.head.appendChild(o)}}}function xb(e,n,a){$i.S(e,n,a);var o=za;if(o&&e){var h=ci(o).hoistableStyles,f=ja(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ml(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},a),(a=kn.get(f))&&Rd(e,a);var I=g=o.createElement("link");Te(I),He(I,"link",e),I._p=new Promise(function(z,Q){I.onload=z,I.onerror=Q}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,gc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function Nb(e,n){$i.X(e,n);var a=za;if(a&&e){var o=ci(a).hoistableScripts,h=Ba(e),f=o.get(h);f||(f=a.querySelector(pl(h)),f||(e=A({src:e,async:!0},n),(n=kn.get(h))&&Id(e,n),f=a.createElement("script"),Te(f),He(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Db(e,n){$i.M(e,n);var a=za;if(a&&e){var o=ci(a).hoistableScripts,h=Ba(e),f=o.get(h);f||(f=a.querySelector(pl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=kn.get(h))&&Id(e,n),f=a.createElement("script"),Te(f),He(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function C_(e,n,a,o){var h=(h=St.current)?pc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ja(a.href),a=ci(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ja(a.href);var f=ci(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ml(e)))&&!f._p&&(g.instance=f,g.state.loading=5),kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(e,a),f||Ob(h,e,a,g.state))),n&&o===null)throw Error(s(528,""));return g}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ba(a),a=ci(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ja(e){return'href="'+rn(e)+'"'}function ml(e){return'link[rel="stylesheet"]['+e+"]"}function x_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Ob(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",a),Te(n),e.head.appendChild(n))}function Ba(e){return'[src="'+rn(e)+'"]'}function pl(e){return"script[async]"+e}function N_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return n.instance=o,Te(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),He(o,"style",h),gc(o,a.precedence,e),n.instance=o;case"stylesheet":h=ja(a.href);var f=e.querySelector(ml(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;o=x_(a),(h=kn.get(h))&&Rd(o,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),He(f,"link",o),n.state.loading|=4,gc(f,a.precedence,e),n.instance=f;case"script":return f=Ba(a.src),(h=e.querySelector(pl(f)))?(n.instance=h,Te(h),h):(o=a,(h=kn.get(f))&&(o=A({},a),Id(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,gc(o,a.precedence,e));return n.instance}function gc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Id(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yc=null;function D_(e,n,a){if(yc===null){var o=new Map,h=yc=new Map;h.set(a,o)}else h=yc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[li]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function O_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function Mb(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function M_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Vb(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ja(o.href),f=n.querySelector(ml(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=_c.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Te(f);return}f=n.ownerDocument||n,o=x_(o),(h=kn.get(h))&&Rd(o,h),f=f.createElement("link"),Te(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),He(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=_c.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Cd=0;function kb(e,n){return e.stylesheets&&e.count===0&&Ec(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Cd===0&&(Cd=62500*pb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Cd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vc=null;function Ec(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vc=new Map,n.forEach(Ub,e),vc=null,_c.call(e))}function Ub(e,n){if(!(n.state.loading&4)){var a=vc.get(e);if(a)var o=a.get(null);else{a=new Map,vc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=_c.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var gl={$$typeof:ht,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function Lb(e,n,a,o,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function V_(e,n,a,o,h,f,g,E,I,z,Q,X){return e=new Lb(e,n,a,g,I,z,Q,X,E),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),e.current=f,f.stateNode=e,n=of(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},hf(f),e}function k_(e){return e?(e=_a,e):_a}function U_(e,n,a,o,h,f){h=k_(h),o.context===null?o.context=h:o.pendingContext=h,o=Sr(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=wr(e,o,n),a!==null&&(cn(a,e,n),Ko(a,e,n))}function L_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function xd(e,n){L_(e,n),(e=e.alternate)&&L_(e,n)}function P_(e){if(e.tag===13||e.tag===31){var n=Rs(e,67108864);n!==null&&cn(n,e,67108864),xd(e,67108864)}}function z_(e){if(e.tag===13||e.tag===31){var n=bn();n=ms(n);var a=Rs(e,n);a!==null&&cn(a,e,n),xd(e,n)}}var Tc=!0;function Pb(e,n,a,o){var h=H.T;H.T=null;var f=et.p;try{et.p=2,Nd(e,n,a,o)}finally{et.p=f,H.T=h}}function zb(e,n,a,o){var h=H.T;H.T=null;var f=et.p;try{et.p=8,Nd(e,n,a,o)}finally{et.p=f,H.T=h}}function Nd(e,n,a,o){if(Tc){var h=Dd(o);if(h===null)gd(e,n,o,bc,a),B_(e,o);else if(Bb(h,e,n,a,o))o.stopPropagation();else if(B_(e,o),n&4&&-1<jb.indexOf(e)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ri(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-fe(g);E.entanglements[1]|=I,g&=~I}Ai(f),(qt&6)===0&&(rc=Ze()+500,cl(0))}}break;case 31:case 13:E=Rs(f,2),E!==null&&cn(E,f,2),ac(),xd(f,2)}if(f=Dd(o),f===null&&gd(e,n,o,bc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else gd(e,n,o,null,a)}}function Dd(e){return e=wn(e),Od(e)}var bc=null;function Od(e){if(bc=null,e=ui(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return bc=e,null}function j_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cs()){case vo:return 2;case Eo:return 8;case ur:case Lh:return 32;case tu:return 268435456;default:return 32}default:return 32}}var Md=!1,Ur=null,Lr=null,Pr=null,yl=new Map,_l=new Map,zr=[],jb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B_(e,n){switch(e){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(n.pointerId)}}function vl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&P_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Bb(e,n,a,o,h){switch(n){case"focusin":return Ur=vl(Ur,e,n,a,o,h),!0;case"dragenter":return Lr=vl(Lr,e,n,a,o,h),!0;case"mouseover":return Pr=vl(Pr,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return yl.set(f,vl(yl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,_l.set(f,vl(_l.get(f)||null,e,n,a,o,h)),!0}return!1}function q_(e){var n=ui(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Bn(e.priority,function(){z_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,Bn(e.priority,function(){z_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ac(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Dd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Oo=o,a.target.dispatchEvent(o),Oo=null}else return n=Sn(a),n!==null&&P_(n),e.blockedOn=a,!1;n.shift()}return!0}function H_(e,n,a){Ac(e)&&a.delete(n)}function qb(){Md=!1,Ur!==null&&Ac(Ur)&&(Ur=null),Lr!==null&&Ac(Lr)&&(Lr=null),Pr!==null&&Ac(Pr)&&(Pr=null),yl.forEach(H_),_l.forEach(H_)}function Sc(e,n){e.blockedOn===n&&(e.blockedOn=null,Md||(Md=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,qb)))}var wc=null;function F_(e){wc!==e&&(wc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wc===e&&(wc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Od(o||a)===null)continue;break}var f=Sn(a);f!==null&&(e.splice(n,3),n-=3,Df(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function qa(e){function n(I){return Sc(I,e)}Ur!==null&&Sc(Ur,e),Lr!==null&&Sc(Lr,e),Pr!==null&&Sc(Pr,e),yl.forEach(n),_l.forEach(n);for(var a=0;a<zr.length;a++){var o=zr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<zr.length&&(a=zr[0],a.blockedOn===null);)q_(a),a.blockedOn===null&&zr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[Ve]||null;if(typeof f=="function")g||F_(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ve]||null)E=g.formAction;else if(Od(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),F_(a)}}}function G_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Vd(e){this._internalRoot=e}Rc.prototype.render=Vd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=bn();U_(a,o,e,n,null,null)},Rc.prototype.unmount=Vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;U_(e.current,2,null,e,null,null),ac(),n[oi]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var n=au();e={blockedOn:null,target:e,priority:n};for(var a=0;a<zr.length&&n!==0&&n<zr[a].priority;a++);zr.splice(a,0,e),a===0&&q_(e)}};var Q_=t.version;if(Q_!=="19.2.0")throw Error(s(527,Q_,"19.2.0"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=_(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Hb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{zn=Ic.inject(Hb),Pe=Ic}catch{}}return Tl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",h=Wg,f=ty,g=ey;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=V_(e,1,!1,null,null,a,o,null,h,f,g,G_),e[oi]=n.current,pd(e),new Vd(n)},Tl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=Wg,g=ty,E=ey,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=V_(e,1,!0,n,a??null,o,h,I,f,g,E,G_),n.context=k_(null),a=n.current,o=bn(),o=ms(o),h=Sr(o),h.callback=null,wr(a,h,o),a=o,n.current.lanes=a,fs(n,a),Ai(n),e[oi]=n.current,pd(e),new Rc(n)},Tl.version="19.2.0",Tl}var n0;function eA(){if(n0)return Ld.exports;n0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ld.exports=tA(),Ld.exports}var nA=eA();const iA=()=>{};var i0={};const Lv=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},rA=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Pv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,b=c>>2,A=(c&3)<<4|p>>4;let x=(p&15)<<2|_>>6,F=_&63;y||(F=64,d||(x=64)),s.push(i[b],i[A],i[x],i[F])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Lv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):rA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||A==null)throw new sA;const x=c<<2|p>>4;if(s.push(x),_!==64){const F=p<<4&240|_>>2;if(s.push(F),A!==64){const W=_<<6&192|A;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class sA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aA=function(r){const t=Lv(r);return Pv.encodeByteArray(t,!0)},Fc=function(r){return aA(r).replace(/\./g,"")},zv=function(r){try{return Pv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function oA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lA=()=>oA().__FIREBASE_DEFAULTS__,uA=()=>{if(typeof process>"u"||typeof i0>"u")return;const r=i0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},cA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&zv(r[1]);return t&&JSON.parse(t)},hh=()=>{try{return iA()||lA()||uA()||cA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},jv=r=>hh()?.emulatorHosts?.[r],hA=r=>{const t=jv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},Bv=()=>hh()?.config,qv=r=>hh()?.[`_${r}`];class fA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}function oo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Hv(r){return(await fetch(r,{credentials:"include"})).ok}function dA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const Rl={};function mA(){const r={prod:[],emulator:[]};for(const t of Object.keys(Rl))Rl[t]?r.emulator.push(t):r.prod.push(t);return r}function pA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let r0=!1;function Fv(r,t){if(typeof window>"u"||typeof document>"u"||!oo(window.location.host)||Rl[r]===t||Rl[r]||r0)return;Rl[r]=t;function i(x){return`__firebase__banner__${x}`}const s="__firebase__banner",c=mA().prod.length>0;function d(){const x=document.getElementById(s);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,F){x.setAttribute("width","24"),x.setAttribute("id",F),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{r0=!0,d()},x}function b(x,F){x.setAttribute("id",F),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function A(){const x=pA(s),F=i("text"),W=document.getElementById(F)||document.createElement("span"),Z=i("learnmore"),G=document.getElementById(Z)||document.createElement("a"),rt=i("preprendIcon"),ut=document.getElementById(rt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ht=x.element;p(ht),b(G,Z);const Lt=_();y(ut,rt),ht.append(ut,W,G,Lt),document.body.appendChild(ht)}c?(W.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function yA(){const r=hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _A(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function EA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TA(){const r=Je();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function bA(){return!yA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AA(){try{return typeof indexedDB=="object"}catch{return!1}}function SA(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const wA="FirebaseError";class ar extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=wA,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?RA(c,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ar(l,p,s)}}function RA(r,t){return r.replace(IA,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const IA=/\{\$([^}]+)}/g;function CA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Hs(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(s0(c)&&s0(d)){if(!Hs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function s0(r){return r!==null&&typeof r=="object"}function Hl(r){const t=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function xA(r,t){const i=new NA(r,t);return i.subscribe.bind(i)}class NA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");DA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=Bd),l.error===void 0&&(l.error=Bd),l.complete===void 0&&(l.complete=Bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Bd(){}function en(r){return r&&r._delegate?r._delegate:r}class Fs{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const zs="[DEFAULT]";class OA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new fA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(VA(t))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=zs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zs){return this.instances.has(t)}getOptions(t=zs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:MA(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=zs){return this.component?this.component.multipleInstances?t:zs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MA(r){return r===zs?void 0:r}function VA(r){return r.instantiationMode==="EAGER"}class kA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new OA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Nt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Nt||(Nt={}));const UA={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},LA=Nt.INFO,PA={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},zA=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=PA[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Im{constructor(t){this.name=t,this._logLevel=LA,this._logHandler=zA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?UA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const jA=(r,t)=>t.some(i=>r instanceof i);let a0,o0;function BA(){return a0||(a0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qA(){return o0||(o0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gv=new WeakMap,tm=new WeakMap,Qv=new WeakMap,qd=new WeakMap,Cm=new WeakMap;function HA(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Yr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Gv.set(i,r)}).catch(()=>{}),Cm.set(t,r),t}function FA(r){if(tm.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});tm.set(r,t)}let em={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return tm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Qv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Yr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function GA(r){em=r(em)}function QA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(Hd(this),t,...i);return Qv.set(s,t.sort?t.sort():[t]),Yr(s)}:qA().includes(r)?function(...t){return r.apply(Hd(this),t),Yr(Gv.get(this))}:function(...t){return Yr(r.apply(Hd(this),t))}}function YA(r){return typeof r=="function"?QA(r):(r instanceof IDBTransaction&&FA(r),jA(r,BA())?new Proxy(r,em):r)}function Yr(r){if(r instanceof IDBRequest)return HA(r);if(qd.has(r))return qd.get(r);const t=YA(r);return t!==r&&(qd.set(r,t),Cm.set(t,r)),t}const Hd=r=>Cm.get(r);function KA(r,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Yr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Yr(d.result),y.oldVersion,y.newVersion,Yr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const XA=["get","getKey","getAll","getAllKeys","count"],$A=["put","add","delete","clear"],Fd=new Map;function l0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Fd.get(t))return Fd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=$A.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||XA.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Fd.set(t,c),c}GA(r=>({...r,get:(t,i,s)=>l0(t,i)||r.get(t,i,s),has:(t,i)=>!!l0(t,i)||r.has(t,i)}));class JA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ZA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function ZA(r){return r.getComponent()?.type==="VERSION"}const nm="@firebase/app",u0="0.14.6";const er=new Im("@firebase/app"),WA="@firebase/app-compat",tS="@firebase/analytics-compat",eS="@firebase/analytics",nS="@firebase/app-check-compat",iS="@firebase/app-check",rS="@firebase/auth",sS="@firebase/auth-compat",aS="@firebase/database",oS="@firebase/data-connect",lS="@firebase/database-compat",uS="@firebase/functions",cS="@firebase/functions-compat",hS="@firebase/installations",fS="@firebase/installations-compat",dS="@firebase/messaging",mS="@firebase/messaging-compat",pS="@firebase/performance",gS="@firebase/performance-compat",yS="@firebase/remote-config",_S="@firebase/remote-config-compat",vS="@firebase/storage",ES="@firebase/storage-compat",TS="@firebase/firestore",bS="@firebase/ai",AS="@firebase/firestore-compat",SS="firebase",wS="12.6.0";const im="[DEFAULT]",RS={[nm]:"fire-core",[WA]:"fire-core-compat",[eS]:"fire-analytics",[tS]:"fire-analytics-compat",[iS]:"fire-app-check",[nS]:"fire-app-check-compat",[rS]:"fire-auth",[sS]:"fire-auth-compat",[aS]:"fire-rtdb",[oS]:"fire-data-connect",[lS]:"fire-rtdb-compat",[uS]:"fire-fn",[cS]:"fire-fn-compat",[hS]:"fire-iid",[fS]:"fire-iid-compat",[dS]:"fire-fcm",[mS]:"fire-fcm-compat",[pS]:"fire-perf",[gS]:"fire-perf-compat",[yS]:"fire-rc",[_S]:"fire-rc-compat",[vS]:"fire-gcs",[ES]:"fire-gcs-compat",[TS]:"fire-fst",[AS]:"fire-fst-compat",[bS]:"fire-vertex","fire-js":"fire-js",[SS]:"fire-js-all"};const Gc=new Map,IS=new Map,rm=new Map;function c0(r,t){try{r.container.addComponent(t)}catch(i){er.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Wa(r){const t=r.name;if(rm.has(t))return er.debug(`There were multiple attempts to register component ${t}.`),!1;rm.set(t,r);for(const i of Gc.values())c0(i,r);for(const i of IS.values())c0(i,r);return!0}function xm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Jn(r){return r==null?!1:r.settings!==void 0}const CS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new ql("app","Firebase",CS);class xS{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}const lo=wS;function Yv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s={name:im,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Kr.create("bad-app-name",{appName:String(l)});if(i||(i=Bv()),!i)throw Kr.create("no-options");const c=Gc.get(l);if(c){if(Hs(i,c.options)&&Hs(s,c.config))return c;throw Kr.create("duplicate-app",{appName:l})}const d=new kA(l);for(const y of rm.values())d.addComponent(y);const p=new xS(i,s,d);return Gc.set(l,p),p}function Kv(r=im){const t=Gc.get(r);if(!t&&r===im&&Bv())return Yv();if(!t)throw Kr.create("no-app",{appName:r});return t}function Xr(r,t,i){let s=RS[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),er.warn(d.join(" "));return}Wa(new Fs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const NS="firebase-heartbeat-database",DS=1,Ml="firebase-heartbeat-store";let Gd=null;function Xv(){return Gd||(Gd=KA(NS,DS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ml)}catch(i){console.warn(i)}}}}).catch(r=>{throw Kr.create("idb-open",{originalErrorMessage:r.message})})),Gd}async function OS(r){try{const i=(await Xv()).transaction(Ml),s=await i.objectStore(Ml).get($v(r));return await i.done,s}catch(t){if(t instanceof ar)er.warn(t.message);else{const i=Kr.create("idb-get",{originalErrorMessage:t?.message});er.warn(i.message)}}}async function h0(r,t){try{const s=(await Xv()).transaction(Ml,"readwrite");await s.objectStore(Ml).put(t,$v(r)),await s.done}catch(i){if(i instanceof ar)er.warn(i.message);else{const s=Kr.create("idb-set",{originalErrorMessage:i?.message});er.warn(s.message)}}}function $v(r){return`${r.name}!${r.options.appId}`}const MS=1024,VS=30;class kS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new LS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=f0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>VS){const l=PS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){er.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=f0(),{heartbeatsToSend:i,unsentEntries:s}=US(this._heartbeatsCache.heartbeats),l=Fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return er.warn(t),""}}}function f0(){return new Date().toISOString().substring(0,10)}function US(r,t=MS){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),d0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),d0(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class LS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AA()?SA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await OS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return h0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return h0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function d0(r){return Fc(JSON.stringify({version:2,heartbeats:r})).length}function PS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}function zS(r){Wa(new Fs("platform-logger",t=>new JA(t),"PRIVATE")),Wa(new Fs("heartbeat",t=>new kS(t),"PRIVATE")),Xr(nm,u0,r),Xr(nm,u0,"esm2020"),Xr("fire-js","")}zS("");var jS="firebase",BS="12.6.0";Xr(jS,BS,"app");function Jv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qS=Jv,Zv=new ql("auth","Firebase",Jv());const Qc=new Im("@firebase/auth");function HS(r,...t){Qc.logLevel<=Nt.WARN&&Qc.warn(`Auth (${lo}): ${r}`,...t)}function Vc(r,...t){Qc.logLevel<=Nt.ERROR&&Qc.error(`Auth (${lo}): ${r}`,...t)}function nr(r,...t){throw Nm(r,...t)}function wi(r,...t){return Nm(r,...t)}function Wv(r,t,i){const s={...qS(),[t]:i};return new ql("auth","Firebase",s).create(t,{appName:r.name})}function $r(r){return Wv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nm(r,...t){if(typeof r!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return Zv.create(r,...t)}function yt(r,t,...i){if(!r)throw Nm(t,...i)}function Zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Vc(t),new Error(t)}function ir(r,t){r||Zi(t)}function sm(){return typeof self<"u"&&self.location?.href||""}function FS(){return m0()==="http:"||m0()==="https:"}function m0(){return typeof self<"u"&&self.location?.protocol||null}function GS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FS()||vA()||"connection"in navigator)?navigator.onLine:!0}function QS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Fl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ir(i>t,"Short delay should be less than long delay!"),this.isMobile=gA()||EA()}get(){return GS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dm(r,t){ir(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class t1{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const YS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const KS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XS=new Fl(3e4,6e4);function fh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Ks(r,t,i,s,l={}){return e1(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const p=Hl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return _A()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&oo(r.emulatorConfig.host)&&(_.credentials="include"),t1.fetch()(await i1(r,r.config.apiHost,i,p),_)})}async function e1(r,t,i){r._canInitEmulator=!1;const s={...YS,...t};try{const l=new $S(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Cc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Cc(r,"user-disabled",d);const b=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Wv(r,b,_);nr(r,b)}}catch(l){if(l instanceof ar)throw l;nr(r,"network-request-failed",{message:String(l)})}}async function n1(r,t,i,s,l={}){const c=await Ks(r,t,i,s,l);return"mfaPendingCredential"in c&&nr(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function i1(r,t,i,s){const l=`${t}${i}?${s}`,c=r,d=c.config.emulator?Dm(r.config,l):`${r.config.apiScheme}://${l}`;return KS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class $S{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(wi(this.auth,"network-request-failed")),XS.get())})}}function Cc(r,t,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=wi(r,t,s);return l.customData._tokenResponse=i,l}async function JS(r,t){return Ks(r,"POST","/v1/accounts:delete",t)}async function Yc(r,t){return Ks(r,"POST","/v1/accounts:lookup",t)}function Il(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ZS(r,t=!1){const i=en(r),s=await i.getIdToken(t),l=Om(s);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:Il(Qd(l.auth_time)),issuedAtTime:Il(Qd(l.iat)),expirationTime:Il(Qd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Qd(r){return Number(r)*1e3}function Om(r){const[t,i,s]=r.split(".");if(t===void 0||i===void 0||s===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=zv(i);return l?JSON.parse(l):(Vc("Failed to decode base64 JWT payload"),null)}catch(l){return Vc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function p0(r){const t=Om(r);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function to(r,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof ar&&WS(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function WS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class tw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class am{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kc(r){const t=r.auth,i=await r.getIdToken(),s=await to(r,Yc(t,{idToken:i}));yt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?r1(l.providerUserInfo):[],d=nw(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function ew(r){const t=en(r);await Kc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function nw(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function r1(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function iw(r,t){const i=await e1(r,{},async()=>{const s=Hl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await i1(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:s};return r.emulatorConfig&&oo(r.emulatorConfig.host)&&(y.credentials="include"),t1.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function rw(r,t){return Ks(r,"POST","/v2/accounts:revokeToken",fh(r,t))}class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):p0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=p0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await iw(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new Ka;return s&&(yt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function Br(r,t){yt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Zn{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new tw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new am(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await to(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return ZS(this,t)}reload(){return ew(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Kc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject($r(this.auth));const t=await this.getIdToken();return await to(this,JS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:x,isAnonymous:F,providerData:W,stsTokenManager:Z}=i;yt(A&&Z,t,"internal-error");const G=Ka.fromJSON(this.name,Z);yt(typeof A=="string",t,"internal-error"),Br(s,t.name),Br(l,t.name),yt(typeof x=="boolean",t,"internal-error"),yt(typeof F=="boolean",t,"internal-error"),Br(c,t.name),Br(d,t.name),Br(p,t.name),Br(y,t.name),Br(_,t.name),Br(b,t.name);const rt=new Zn({uid:A,auth:t,email:l,emailVerified:x,displayName:s,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:G,createdAt:_,lastLoginAt:b});return W&&Array.isArray(W)&&(rt.providerData=W.map(ut=>({...ut}))),y&&(rt._redirectEventId=y),rt}static async _fromIdTokenResponse(t,i,s=!1){const l=new Ka;l.updateFromServerResponse(i);const c=new Zn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Kc(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?r1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ka;p.updateFromIdToken(s);const y=new Zn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const g0=new Map;function Wi(r){ir(r instanceof Function,"Expected a class definition");let t=g0.get(r);return t?(ir(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,g0.set(r,t),t)}class s1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}s1.type="NONE";const y0=s1;function kc(r,t,i){return`firebase:${r}:${t}:${i}`}class Xa{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=kc(this.userKey,l.apiKey,c),this.fullPersistenceKey=kc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Yc(this.auth,{idToken:t}).catch(()=>{});return i?Zn._fromGetAccountInfoResponse(this.auth,i,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new Xa(Wi(y0),t,s);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Wi(y0);const d=kc(s,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const b=await _._get(d);if(b){let A;if(typeof b=="string"){const x=await Yc(t,{idToken:b}).catch(()=>{});if(!x)break;A=await Zn._fromGetAccountInfoResponse(t,x,b)}else A=Zn._fromJSON(t,b);_!==c&&(p=A),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Xa(c,t,s):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Xa(c,t,s))}}function _0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(u1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(a1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(h1(t))return"Blackberry";if(f1(t))return"Webos";if(o1(t))return"Safari";if((t.includes("chrome/")||l1(t))&&!t.includes("edge/"))return"Chrome";if(c1(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function a1(r=Je()){return/firefox\//i.test(r)}function o1(r=Je()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function l1(r=Je()){return/crios\//i.test(r)}function u1(r=Je()){return/iemobile/i.test(r)}function c1(r=Je()){return/android/i.test(r)}function h1(r=Je()){return/blackberry/i.test(r)}function f1(r=Je()){return/webos/i.test(r)}function Mm(r=Je()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function sw(r=Je()){return Mm(r)&&!!window.navigator?.standalone}function aw(){return TA()&&document.documentMode===10}function d1(r=Je()){return Mm(r)||c1(r)||f1(r)||h1(r)||/windows phone/i.test(r)||u1(r)}function m1(r,t=[]){let i;switch(r){case"Browser":i=_0(Je());break;case"Worker":i=`${_0(Je())}-${r}`;break;default:i=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${lo}/${s}`}class ow{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function lw(r,t={}){return Ks(r,"GET","/v2/passwordPolicy",fh(r,t))}const uw=6;class cw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??uw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class hw{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v0(this),this.idTokenSubscription=new v0(this),this.beforeStateQueue=new ow(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Wi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Yc(this,{idToken:t}),s=await Zn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Kc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=QS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Jn(this.app))return Promise.reject($r(this));const i=t?en(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Jn(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await lw(this),i=new cw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ql("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await rw(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Wi(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[Wi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,s,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=m1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&HS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function dh(r){return en(r)}class v0{constructor(t){this.auth=t,this.observer=null,this.addObserver=xA(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fw(r){Vm=r}function dw(r){return Vm.loadJS(r)}function mw(){return Vm.gapiScript}function pw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function gw(r,t){const i=xm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Hs(c,t??{}))return l;nr(l,"already-initialized")}return i.initialize({options:t})}function yw(r,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(Wi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function _w(r,t,i){const s=dh(r);yt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=p1(t),{host:d,port:p}=vw(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){yt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),yt(Hs(_,s.config.emulator)&&Hs(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,oo(d)?(Hv(`${c}//${d}${y}`),Fv("Auth",!0)):Ew()}function p1(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function vw(r){const t=p1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:E0(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:E0(d)}}}function E0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Ew(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class g1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,i){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function $a(r,t){return n1(r,"POST","/v1/accounts:signInWithIdp",fh(r,t))}const Tw="http://localhost";class Gs extends g1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Gs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):nr("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new Gs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return $a(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,$a(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,$a(t,i)}buildRequest(){const t={requestUri:Tw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Hl(i)}return t}}class y1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Gl extends y1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class qr extends Gl{constructor(){super("facebook.com")}static credential(t){return Gs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qr.credential(t.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";class Hr extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Gs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Hr.credential(i,s)}catch{return null}}}Hr.GOOGLE_SIGN_IN_METHOD="google.com";Hr.PROVIDER_ID="google.com";class Fr extends Gl{constructor(){super("github.com")}static credential(t){return Gs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fr.credential(t.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";class Gr extends Gl{constructor(){super("twitter.com")}static credential(t,i){return Gs._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Gr.credential(i,s)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";async function bw(r,t){return n1(r,"POST","/v1/accounts:signUp",fh(r,t))}class ts{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await Zn._fromIdTokenResponse(t,s,l),d=T0(s);return new ts({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=T0(s);return new ts({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function T0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function Aw(r){if(Jn(r.app))return Promise.reject($r(r));const t=dh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ts({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await bw(t,{returnSecureToken:!0}),s=await ts._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(s.user),s}class Xc extends ar{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new Xc(t,i,s,l)}}function _1(r,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(r,c,t,s):c})}async function Sw(r,t,i=!1){const s=await to(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ts._forOperation(r,"link",s)}async function ww(r,t,i=!1){const{auth:s}=r;if(Jn(s.app))return Promise.reject($r(s));const l="reauthenticate";try{const c=await to(r,_1(s,l,t,r),i);yt(c.idToken,s,"internal-error");const d=Om(c.idToken);yt(d,s,"internal-error");const{sub:p}=d;return yt(r.uid===p,s,"user-mismatch"),ts._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&nr(s,"user-mismatch"),c}}async function Rw(r,t,i=!1){if(Jn(r.app))return Promise.reject($r(r));const s="signIn",l=await _1(r,s,t),c=await ts._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function Iw(r,t){return Ks(r,"POST","/v1/accounts:update",t)}async function Cw(r,{displayName:t,photoURL:i}){if(t===void 0&&i===void 0)return;const s=en(r),c={idToken:await s.getIdToken(),displayName:t,photoUrl:i,returnSecureToken:!0},d=await to(s,Iw(s.auth,c));s.displayName=d.displayName||null,s.photoURL=d.photoUrl||null;const p=s.providerData.find(({providerId:y})=>y==="password");p&&(p.displayName=s.displayName,p.photoURL=s.photoURL),await s._updateTokensIfNecessary(d)}function xw(r,t,i,s){return en(r).onIdTokenChanged(t,i,s)}function Nw(r,t,i){return en(r).beforeAuthStateChanged(t,i)}function Dw(r,t,i,s){return en(r).onAuthStateChanged(t,i,s)}const $c="__sak";class v1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem($c,"1"),this.storage.removeItem($c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ow=1e3,Mw=10;class E1 extends v1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=d1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);aw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Mw):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},Ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}E1.type="LOCAL";const Vw=E1;class T1 extends v1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}T1.type="SESSION";const b1=T1;function kw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class mh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new mh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await kw(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mh.receivers=[];function km(r="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return r+i}class Uw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=km("",20);l.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(A){const x=A;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ri(){return window}function Lw(r){Ri().location.href=r}function A1(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function Pw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zw(){return navigator?.serviceWorker?.controller||null}function jw(){return A1()?self:null}const S1="firebaseLocalStorageDb",Bw=1,Jc="firebaseLocalStorage",w1="fbase_key";class Ql{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ph(r,t){return r.transaction([Jc],t?"readwrite":"readonly").objectStore(Jc)}function qw(){const r=indexedDB.deleteDatabase(S1);return new Ql(r).toPromise()}function om(){const r=indexedDB.open(S1,Bw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Jc,{keyPath:w1})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Jc)?t(s):(s.close(),await qw(),t(await om()))})})}async function b0(r,t,i){const s=ph(r,!0).put({[w1]:t,value:i});return new Ql(s).toPromise()}async function Hw(r,t){const i=ph(r,!1).get(t),s=await new Ql(i).toPromise();return s===void 0?null:s.value}function A0(r,t){const i=ph(r,!0).delete(t);return new Ql(i).toPromise()}const Fw=800,Gw=3;class R1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>Gw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance(jw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Pw(),!this.activeServiceWorker)return;this.sender=new Uw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||zw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await om();return await b0(t,$c,"1"),await A0(t,$c),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>b0(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>Hw(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>A0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=ph(l,!1).getAll();return new Ql(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Fw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}R1.type="LOCAL";const Qw=R1;new Fl(3e4,6e4);function Yw(r,t){return t?Wi(t):(yt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Um extends g1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $a(t,this._buildIdpRequest())}_linkToIdToken(t,i){return $a(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return $a(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Kw(r){return Rw(r.auth,new Um(r),r.bypassAuthState)}function Xw(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),ww(i,new Um(r),r.bypassAuthState)}async function $w(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),Sw(i,new Um(r),r.bypassAuthState)}class I1{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Kw;case"linkViaPopup":case"linkViaRedirect":return $w;case"reauthViaPopup":case"reauthViaRedirect":return Xw;default:nr(this.auth,"internal-error")}}resolve(t){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jw=new Fl(2e3,1e4);class Ya extends I1{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const t=km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Jw.get())};t()}}Ya.currentPopupAction=null;const Zw="pendingRedirect",Uc=new Map;class Ww extends I1{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Uc.get(this.auth._key());if(!t){try{const s=await t2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Uc.set(this.auth._key(),t)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t2(r,t){const i=i2(t),s=n2(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function e2(r,t){Uc.set(r._key(),t)}function n2(r){return Wi(r._redirectPersistence)}function i2(r){return kc(Zw,r.config.apiKey,r.name)}async function r2(r,t,i=!1){if(Jn(r.app))return Promise.reject($r(r));const s=dh(r),l=Yw(s,t),d=await new Ww(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const s2=600*1e3;class a2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!o2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!C1(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(wi(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=s2&&this.cachedEventUids.clear(),this.cachedEventUids.has(S0(t))}saveEventToCache(t){this.cachedEventUids.add(S0(t)),this.lastProcessedEventTime=Date.now()}}function S0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function C1({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function o2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return C1(r);default:return!1}}async function l2(r,t={}){return Ks(r,"GET","/v1/projects",t)}const u2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c2=/^https?/;async function h2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await l2(r);for(const i of t)try{if(f2(i))return}catch{}nr(r,"unauthorized-domain")}function f2(r){const t=sm(),{protocol:i,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!c2.test(i))return!1;if(u2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const d2=new Fl(3e4,6e4);function w0(){const r=Ri().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function m2(r){return new Promise((t,i)=>{function s(){w0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{w0(),i(wi(r,"network-request-failed"))},timeout:d2.get()})}if(Ri().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ri().gapi?.load)s();else{const l=pw("iframefcb");return Ri()[l]=()=>{gapi.load?s():i(wi(r,"network-request-failed"))},dw(`${mw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Lc=null,t})}let Lc=null;function p2(r){return Lc=Lc||m2(r),Lc}const g2=new Fl(5e3,15e3),y2="__/auth/iframe",_2="emulator/auth/iframe",v2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T2(r){const t=r.config;yt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Dm(t,_2):`https://${r.config.authDomain}/${y2}`,s={apiKey:t.apiKey,appName:r.name,v:lo},l=E2.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Hl(s).slice(1)}`}async function b2(r){const t=await p2(r),i=Ri().gapi;return yt(i,r,"internal-error"),t.open({where:document.body,url:T2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v2,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=wi(r,"network-request-failed"),p=Ri().setTimeout(()=>{c(d)},g2.get());function y(){Ri().clearTimeout(p),l(s)}s.ping(y).then(y,()=>{c(d)})}))}const A2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S2=500,w2=600,R2="_blank",I2="http://localhost";class R0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C2(r,t,i,s=S2,l=w2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const y={...A2,width:s.toString(),height:l.toString(),top:c,left:d},_=Je().toLowerCase();i&&(p=l1(_)?R2:i),a1(_)&&(t=t||I2,y.scrollbars="yes");const b=Object.entries(y).reduce((x,[F,W])=>`${x}${F}=${W},`,"");if(sw(_)&&p!=="_self")return x2(t||"",p),new R0(null);const A=window.open(t||"",p,b);yt(A,r,"popup-blocked");try{A.focus()}catch{}return new R0(A)}function x2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const N2="__/auth/handler",D2="emulator/auth/handler",O2=encodeURIComponent("fac");async function I0(r,t,i,s,l,c){yt(r.config.authDomain,r,"auth-domain-config-required"),yt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:lo,eventId:l};if(t instanceof y1){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",CA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof Gl){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const y=await r._getAppCheckToken(),_=y?`#${O2}=${encodeURIComponent(y)}`:"";return`${M2(r)}?${Hl(p).slice(1)}${_}`}function M2({config:r}){return r.emulator?Dm(r,D2):`https://${r.authDomain}/${N2}`}const Yd="webStorageSupport";class V2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=b1,this._completeRedirectFn=r2,this._overrideRedirectResult=e2}async _openPopup(t,i,s,l){ir(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await I0(t,i,s,sm(),l);return C2(t,c,km())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await I0(t,i,s,sm(),l);return Lw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ir(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await b2(t),s=new a2(t);return i.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Yd,{type:Yd},l=>{const c=l?.[0]?.[Yd];c!==void 0&&i(!!c),nr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=h2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return d1()||o1()||Mm()}}const k2=V2;var C0="@firebase/auth",x0="1.11.1";class U2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function L2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function P2(r){Wa(new Fs("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m1(r)},_=new hw(s,l,c,y);return yw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Wa(new Fs("auth-internal",t=>{const i=dh(t.getProvider("auth").getImmediate());return(s=>new U2(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(C0,x0,L2(r)),Xr(C0,x0,"esm2020")}const z2=300,j2=qv("authIdTokenMaxAge")||z2;let N0=null;const B2=r=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>j2)return;const l=i?.token;N0!==l&&(N0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function q2(r=Kv()){const t=xm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=gw(r,{popupRedirectResolver:k2,persistence:[Qw,Vw,b1]}),s=qv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=B2(c.toString());Nw(i,d,()=>d(i.currentUser)),xw(i,p=>d(p))}}const l=jv("auth");return l&&_w(i,`http://${l}`),i}function H2(){return document.getElementsByTagName("head")?.[0]??document}fw({loadJS(r){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=wi("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",H2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});P2("Browser");var D0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Jr,x1;(function(){var r;function t(C,w){function S(){}S.prototype=w.prototype,C.F=w.prototype,C.prototype=new S,C.prototype.constructor=C,C.D=function(M,N,k){for(var R=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)R[Kt-2]=arguments[Kt];return w.prototype[N].apply(M,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,w,S){S||(S=0);const M=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)M[N]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(N=0;N<16;++N)M[N]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=C.g[0],S=C.g[1],N=C.g[2];let k=C.g[3],R;R=w+(k^S&(N^k))+M[0]+3614090360&4294967295,w=S+(R<<7&4294967295|R>>>25),R=k+(N^w&(S^N))+M[1]+3905402710&4294967295,k=w+(R<<12&4294967295|R>>>20),R=N+(S^k&(w^S))+M[2]+606105819&4294967295,N=k+(R<<17&4294967295|R>>>15),R=S+(w^N&(k^w))+M[3]+3250441966&4294967295,S=N+(R<<22&4294967295|R>>>10),R=w+(k^S&(N^k))+M[4]+4118548399&4294967295,w=S+(R<<7&4294967295|R>>>25),R=k+(N^w&(S^N))+M[5]+1200080426&4294967295,k=w+(R<<12&4294967295|R>>>20),R=N+(S^k&(w^S))+M[6]+2821735955&4294967295,N=k+(R<<17&4294967295|R>>>15),R=S+(w^N&(k^w))+M[7]+4249261313&4294967295,S=N+(R<<22&4294967295|R>>>10),R=w+(k^S&(N^k))+M[8]+1770035416&4294967295,w=S+(R<<7&4294967295|R>>>25),R=k+(N^w&(S^N))+M[9]+2336552879&4294967295,k=w+(R<<12&4294967295|R>>>20),R=N+(S^k&(w^S))+M[10]+4294925233&4294967295,N=k+(R<<17&4294967295|R>>>15),R=S+(w^N&(k^w))+M[11]+2304563134&4294967295,S=N+(R<<22&4294967295|R>>>10),R=w+(k^S&(N^k))+M[12]+1804603682&4294967295,w=S+(R<<7&4294967295|R>>>25),R=k+(N^w&(S^N))+M[13]+4254626195&4294967295,k=w+(R<<12&4294967295|R>>>20),R=N+(S^k&(w^S))+M[14]+2792965006&4294967295,N=k+(R<<17&4294967295|R>>>15),R=S+(w^N&(k^w))+M[15]+1236535329&4294967295,S=N+(R<<22&4294967295|R>>>10),R=w+(N^k&(S^N))+M[1]+4129170786&4294967295,w=S+(R<<5&4294967295|R>>>27),R=k+(S^N&(w^S))+M[6]+3225465664&4294967295,k=w+(R<<9&4294967295|R>>>23),R=N+(w^S&(k^w))+M[11]+643717713&4294967295,N=k+(R<<14&4294967295|R>>>18),R=S+(k^w&(N^k))+M[0]+3921069994&4294967295,S=N+(R<<20&4294967295|R>>>12),R=w+(N^k&(S^N))+M[5]+3593408605&4294967295,w=S+(R<<5&4294967295|R>>>27),R=k+(S^N&(w^S))+M[10]+38016083&4294967295,k=w+(R<<9&4294967295|R>>>23),R=N+(w^S&(k^w))+M[15]+3634488961&4294967295,N=k+(R<<14&4294967295|R>>>18),R=S+(k^w&(N^k))+M[4]+3889429448&4294967295,S=N+(R<<20&4294967295|R>>>12),R=w+(N^k&(S^N))+M[9]+568446438&4294967295,w=S+(R<<5&4294967295|R>>>27),R=k+(S^N&(w^S))+M[14]+3275163606&4294967295,k=w+(R<<9&4294967295|R>>>23),R=N+(w^S&(k^w))+M[3]+4107603335&4294967295,N=k+(R<<14&4294967295|R>>>18),R=S+(k^w&(N^k))+M[8]+1163531501&4294967295,S=N+(R<<20&4294967295|R>>>12),R=w+(N^k&(S^N))+M[13]+2850285829&4294967295,w=S+(R<<5&4294967295|R>>>27),R=k+(S^N&(w^S))+M[2]+4243563512&4294967295,k=w+(R<<9&4294967295|R>>>23),R=N+(w^S&(k^w))+M[7]+1735328473&4294967295,N=k+(R<<14&4294967295|R>>>18),R=S+(k^w&(N^k))+M[12]+2368359562&4294967295,S=N+(R<<20&4294967295|R>>>12),R=w+(S^N^k)+M[5]+4294588738&4294967295,w=S+(R<<4&4294967295|R>>>28),R=k+(w^S^N)+M[8]+2272392833&4294967295,k=w+(R<<11&4294967295|R>>>21),R=N+(k^w^S)+M[11]+1839030562&4294967295,N=k+(R<<16&4294967295|R>>>16),R=S+(N^k^w)+M[14]+4259657740&4294967295,S=N+(R<<23&4294967295|R>>>9),R=w+(S^N^k)+M[1]+2763975236&4294967295,w=S+(R<<4&4294967295|R>>>28),R=k+(w^S^N)+M[4]+1272893353&4294967295,k=w+(R<<11&4294967295|R>>>21),R=N+(k^w^S)+M[7]+4139469664&4294967295,N=k+(R<<16&4294967295|R>>>16),R=S+(N^k^w)+M[10]+3200236656&4294967295,S=N+(R<<23&4294967295|R>>>9),R=w+(S^N^k)+M[13]+681279174&4294967295,w=S+(R<<4&4294967295|R>>>28),R=k+(w^S^N)+M[0]+3936430074&4294967295,k=w+(R<<11&4294967295|R>>>21),R=N+(k^w^S)+M[3]+3572445317&4294967295,N=k+(R<<16&4294967295|R>>>16),R=S+(N^k^w)+M[6]+76029189&4294967295,S=N+(R<<23&4294967295|R>>>9),R=w+(S^N^k)+M[9]+3654602809&4294967295,w=S+(R<<4&4294967295|R>>>28),R=k+(w^S^N)+M[12]+3873151461&4294967295,k=w+(R<<11&4294967295|R>>>21),R=N+(k^w^S)+M[15]+530742520&4294967295,N=k+(R<<16&4294967295|R>>>16),R=S+(N^k^w)+M[2]+3299628645&4294967295,S=N+(R<<23&4294967295|R>>>9),R=w+(N^(S|~k))+M[0]+4096336452&4294967295,w=S+(R<<6&4294967295|R>>>26),R=k+(S^(w|~N))+M[7]+1126891415&4294967295,k=w+(R<<10&4294967295|R>>>22),R=N+(w^(k|~S))+M[14]+2878612391&4294967295,N=k+(R<<15&4294967295|R>>>17),R=S+(k^(N|~w))+M[5]+4237533241&4294967295,S=N+(R<<21&4294967295|R>>>11),R=w+(N^(S|~k))+M[12]+1700485571&4294967295,w=S+(R<<6&4294967295|R>>>26),R=k+(S^(w|~N))+M[3]+2399980690&4294967295,k=w+(R<<10&4294967295|R>>>22),R=N+(w^(k|~S))+M[10]+4293915773&4294967295,N=k+(R<<15&4294967295|R>>>17),R=S+(k^(N|~w))+M[1]+2240044497&4294967295,S=N+(R<<21&4294967295|R>>>11),R=w+(N^(S|~k))+M[8]+1873313359&4294967295,w=S+(R<<6&4294967295|R>>>26),R=k+(S^(w|~N))+M[15]+4264355552&4294967295,k=w+(R<<10&4294967295|R>>>22),R=N+(w^(k|~S))+M[6]+2734768916&4294967295,N=k+(R<<15&4294967295|R>>>17),R=S+(k^(N|~w))+M[13]+1309151649&4294967295,S=N+(R<<21&4294967295|R>>>11),R=w+(N^(S|~k))+M[4]+4149444226&4294967295,w=S+(R<<6&4294967295|R>>>26),R=k+(S^(w|~N))+M[11]+3174756917&4294967295,k=w+(R<<10&4294967295|R>>>22),R=N+(w^(k|~S))+M[2]+718787259&4294967295,N=k+(R<<15&4294967295|R>>>17),R=S+(k^(N|~w))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+k&4294967295}s.prototype.v=function(C,w){w===void 0&&(w=C.length);const S=w-this.blockSize,M=this.C;let N=this.h,k=0;for(;k<w;){if(N==0)for(;k<=S;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<w;)if(M[N++]=C.charCodeAt(k++),N==this.blockSize){l(this,M),N=0;break}}else for(;k<w;)if(M[N++]=C[k++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=w},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var S=C.length-8;S<C.length;++S)C[S]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,S=0;S<4;++S)for(let M=0;M<32;M+=8)C[w++]=this.g[S]>>>M&255;return C};function c(C,w){var S=p;return Object.prototype.hasOwnProperty.call(S,C)?S[C]:S[C]=w(C)}function d(C,w){this.h=w;const S=[];let M=!0;for(let N=C.length-1;N>=0;N--){const k=C[N]|0;M&&k==w||(S[N]=k,M=!1)}this.g=S}var p={};function y(C){return-128<=C&&C<128?c(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return G(_(-C));const w=[];let S=1;for(let M=0;C>=S;M++)w[M]=C/S|0,S*=4294967296;return new d(w,0)}function b(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return G(b(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=_(Math.pow(w,8));let M=A;for(let k=0;k<C.length;k+=8){var N=Math.min(8,C.length-k);const R=parseInt(C.substring(k,k+N),w);N<8?(N=_(Math.pow(w,N)),M=M.j(N).add(_(R))):(M=M.j(S),M=M.add(_(R)))}return M}var A=y(0),x=y(1),F=y(16777216);r=d.prototype,r.m=function(){if(Z(this))return-G(this).m();let C=0,w=1;for(let S=0;S<this.g.length;S++){const M=this.i(S);C+=(M>=0?M:4294967296+M)*w,w*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(Z(this))return"-"+G(this).toString(C);const w=_(Math.pow(C,6));var S=this;let M="";for(;;){const N=Lt(S,w).g;S=rt(S,N.j(w));let k=((S.g.length>0?S.g[0]:S.h)>>>0).toString(C);if(S=N,W(S))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function Z(C){return C.h==-1}r.l=function(C){return C=rt(this,C),Z(C)?-1:W(C)?0:1};function G(C){const w=C.g.length,S=[];for(let M=0;M<w;M++)S[M]=~C.g[M];return new d(S,~C.h).add(x)}r.abs=function(){return Z(this)?G(this):this},r.add=function(C){const w=Math.max(this.g.length,C.g.length),S=[];let M=0;for(let N=0;N<=w;N++){let k=M+(this.i(N)&65535)+(C.i(N)&65535),R=(k>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);M=R>>>16,k&=65535,R&=65535,S[N]=R<<16|k}return new d(S,S[S.length-1]&-2147483648?-1:0)};function rt(C,w){return C.add(G(w))}r.j=function(C){if(W(this)||W(C))return A;if(Z(this))return Z(C)?G(this).j(G(C)):G(G(this).j(C));if(Z(C))return G(this.j(G(C)));if(this.l(F)<0&&C.l(F)<0)return _(this.m()*C.m());const w=this.g.length+C.g.length,S=[];for(var M=0;M<2*w;M++)S[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<C.g.length;N++){const k=this.i(M)>>>16,R=this.i(M)&65535,Kt=C.i(N)>>>16,te=C.i(N)&65535;S[2*M+2*N]+=R*te,ut(S,2*M+2*N),S[2*M+2*N+1]+=k*te,ut(S,2*M+2*N+1),S[2*M+2*N+1]+=R*Kt,ut(S,2*M+2*N+1),S[2*M+2*N+2]+=k*Kt,ut(S,2*M+2*N+2)}for(C=0;C<w;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=w;C<2*w;C++)S[C]=0;return new d(S,0)};function ut(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function ht(C,w){this.g=C,this.h=w}function Lt(C,w){if(W(w))throw Error("division by zero");if(W(C))return new ht(A,A);if(Z(C))return w=Lt(G(C),w),new ht(G(w.g),G(w.h));if(Z(w))return w=Lt(C,G(w)),new ht(G(w.g),w.h);if(C.g.length>30){if(Z(C)||Z(w))throw Error("slowDivide_ only works with positive integers.");for(var S=x,M=w;M.l(C)<=0;)S=Wt(S),M=Wt(M);var N=Mt(S,1),k=Mt(M,1);for(M=Mt(M,2),S=Mt(S,2);!W(M);){var R=k.add(M);R.l(C)<=0&&(N=N.add(S),k=R),M=Mt(M,1),S=Mt(S,1)}return w=rt(C,N.j(w)),new ht(N,w)}for(N=A;C.l(w)>=0;){for(S=Math.max(1,Math.floor(C.m()/w.m())),M=Math.ceil(Math.log(S)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=_(S),R=k.j(w);Z(R)||R.l(C)>0;)S-=M,k=_(S),R=k.j(w);W(k)&&(k=x),N=N.add(k),C=rt(C,R)}return new ht(N,C)}r.B=function(C){return Lt(this,C).h},r.and=function(C){const w=Math.max(this.g.length,C.g.length),S=[];for(let M=0;M<w;M++)S[M]=this.i(M)&C.i(M);return new d(S,this.h&C.h)},r.or=function(C){const w=Math.max(this.g.length,C.g.length),S=[];for(let M=0;M<w;M++)S[M]=this.i(M)|C.i(M);return new d(S,this.h|C.h)},r.xor=function(C){const w=Math.max(this.g.length,C.g.length),S=[];for(let M=0;M<w;M++)S[M]=this.i(M)^C.i(M);return new d(S,this.h^C.h)};function Wt(C){const w=C.g.length+1,S=[];for(let M=0;M<w;M++)S[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(S,C.h)}function Mt(C,w){const S=w>>5;w%=32;const M=C.g.length-S,N=[];for(let k=0;k<M;k++)N[k]=w>0?C.i(k+S)>>>w|C.i(k+S+1)<<32-w:C.i(k+S);return new d(N,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,x1=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,Jr=d}).apply(typeof D0<"u"?D0:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var N1,bl,D1,Pc,lm,O1,M1,V1;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var v=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var tt=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)tt[bt-2]=arguments[bt];return m.prototype[L].apply(T,tt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=L[tt]}else u.push(L)}}class Z{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function G(u){d.setTimeout(()=>{throw u},0)}function rt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ut{constructor(){this.h=this.g=null}add(m,v){const T=ht.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ht=new Z(()=>new Lt,u=>u.reset());class Lt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,Mt=!1,C=new ut,w=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(S)}};function S(){for(var u;u=rt();){try{u.h.call(u.g)}catch(v){G(v)}var m=ht;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Mt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Kt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(Kt,N),Kt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Kt.Z.h.call(this)},Kt.prototype.h=function(){Kt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var te="closure_listenable_"+(Math.random()*1e6|0),H=0;function et(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ft(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<$.length;B++)v=$[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=St(u,m,T,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new et(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ct(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Ne={};function ae(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ae(u,m[B],v,T,L);return null}return v=_o(v),u&&u[te]?u.J(m,v,p(T)?!!T.capture:!1,L):ls(u,m,v,!1,T,L)}function ls(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const tt=p(L)?!!L.capture:!!L;let bt=us(u);if(bt||(u[kt]=bt=new at(u)),v=bt.add(m,v,T,tt,B),v.proxy)return v;if(T=Ws(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(ni(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ws(){function u(v){return m.call(u.src,u.listener,v)}const m=go;return u}function ta(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)ta(u,m[B],v,T,L);else T=p(T)?!!T.capture:!!T,v=_o(v),u&&u[te]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=St(m,v,T,L),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=us(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,T,L)),(v=u>-1?m[u]:null)&&ea(v))}function ea(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[te])_t(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(ni(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=us(m))?(_t(v,u),v.h==0&&(v.src=null,m[kt]=null)):ct(u)}}}function ni(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function go(u,m){if(u.da)u=!0;else{m=new Kt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ea(u),u=v.call(T,m)}return u}function us(u){return u=u[kt],u instanceof at?u:null}var yo="__closure_events_fn_"+(Math.random()*1e9>>>0);function _o(u){return typeof u=="function"?u:(u[yo]||(u[yo]=function(m){return u.handleEvent(m)}),u[yo])}function _e(){M.call(this),this.i=new at(this),this.M=this,this.G=null}A(_e,M),_e.prototype[te]=!0,_e.prototype.removeEventListener=function(u,m,v,T){ta(this,u,m,v,T)};function De(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),nt(m,L)}L=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],L=lr(B,T,!0,m)&&L;if(B=m.g=u,L=lr(B,T,!0,m)&&L,L=lr(B,T,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],L=lr(B,T,!1,m)&&L}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ct(v[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},_e.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function lr(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const bt=tt.listener,de=tt.ha||tt.src;tt.fa&&_t(u.i,tt),L=bt.call(de,T)!==!1&&L}}return L&&!T.defaultPrevented}function Uh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Wl(u){u.g=Uh(()=>{u.g=null,u.i&&(u.i=!1,Wl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(u){M.call(this),this.h=u,this.g={}}A(cs,M);var vo=[];function Eo(u){Pt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ea(m)},u),u.g={}}cs.prototype.N=function(){cs.Z.N.call(this),Eo(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=d.JSON.stringify,Lh=d.JSON.parse,tu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function eu(){}function nu(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){N.call(this,"d")}A(Pe,N);function An(){N.call(this,"c")}A(An,N);var fe={},iu=null;function na(){return iu=iu||new _e}fe.Ia="serverreachability";function ru(u){N.call(this,fe.Ia,u)}A(ru,N);function ii(u){const m=na();De(m,new ru(m))}fe.STAT_EVENT="statevent";function hs(u,m){N.call(this,fe.STAT_EVENT,u),this.stat=m}A(hs,N);function ve(u){const m=na();De(m,new hs(m,u))}fe.Ja="timingevent";function ri(u,m){N.call(this,fe.Ja,u),this.size=m}A(ri,N);function si(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function Ph(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var tt="",bt=B.split("&");for(let Bt=0;Bt<bt.length;Bt++){var de=bt[Bt].split("=");if(de.length>1){const oe=de[0];de=de[1];const In=oe.split("_");tt=In.length>=2&&In[1]=="type"?tt+(oe+"="+de+"&"):tt+(oe+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function su(u,m,v,T,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+tt})}function ai(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zh(u,v)+(T?" "+T:"")})}function fs(u,m){u.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function zh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return ur(B)}catch{return m}}var ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},To={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bo;function ms(){}A(ms,eu),ms.prototype.g=function(){return new XMLHttpRequest},bo=new ms;function Oi(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Bn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Ee={},Ve={};function oi(u,m,v){u.M=1,u.A=ps(be(m)),u.u=v,u.R=!0,ia(u,null)}function ia(u,m){u.F=Date.now(),li(u),u.B=be(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),oa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new qn,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Ze(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(vo[0]=L.toString()),L=vo);for(let B=0;B<L.length;B++){const tt=ae(v,L[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ii(),Ph(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)t:{const bt=Gn(this.g),de=this.g.ya(),Bt=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||bt!=4||de==7||(de==8||Bt<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=jh(this);if(this.o=m==200,su(this.i,this.v,this.B,this.l,this.S,bt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,u);else{this.o=!1,this.m=3,ve(12),mn(this),Sn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=lu(this,v),oe==Ve){bt==4&&(this.m=4,ve(14),u=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Ee){this.m=4,ve(15),ai(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ai(this.i,this.l,oe,null),ci(this,oe);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ai(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),Sn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Lo(tt),tt.P=!0,ve(11))}}else ai(this.i,this.l,v,null),ci(this,v);bt==4&&mn(this),this.o&&!this.K&&(bt==4?yu(this.j,this):(this.o=!1,li(this)))}else Vi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),mn(this),Sn(this)}}}catch{}finally{}};function jh(u){if(!ou(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const T=m.length,L=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ve:(v=Number(m.substring(v,T)),isNaN(v)?Ee:(T+=1,T+v>m.length?Ve:(m=m.slice(T,T+v),u.C=T+v,m)))}Bn.prototype.cancel=function(){this.K=!0,mn(this)};function li(u){u.T=Date.now()+u.H,ra(u,u.H)}function ra(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=si(_(u.aa,u),m)}function ui(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(fs(this.i,this.B),this.M!=2&&(ii(),ve(17)),mn(this),this.m=2,Sn(this)):ra(this,this.T-u)};function Sn(u){u.j.I==0||u.K||yu(u.j,u)}function mn(u){ui(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Eo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||fi(v.h,u))){if(!u.L&&fi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)fa(v),yr(v);else break t;bs(v),ve(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=si(_(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((u.L||v.g==u)&&fa(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Bt=L[m];const oe=Bt[0];if(!(oe<=v.K))if(v.K=oe,Bt=Bt[1],v.I==2)if(Bt[0]=="c"){v.M=Bt[1],v.ba=Bt[2];const In=Bt[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const vi=Bt[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Qn=Bt[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(T=1.5*Qn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Yn=u.g;if(Yn){const As=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var B=T.h;B.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(wo(B,B.h),B.h=null))}if(T.G){const da=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;da&&(T.wa=da,Gt(T.J,T.G,da))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=Eu(T,T.L?T.ba:null,T.W),tt.L){Ro(T.h,tt);var bt=tt,de=T.O;de&&(bt.H=de),bt.D&&(ui(bt),li(bt)),T.g=tt}else pu(T);v.i.length>0&&yi(v)}else Bt[0]!="stop"&&Bt[0]!="close"||_i(v,7);else v.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?_i(v,7):ko(v):Bt[0]!="noop"&&v.l&&v.l.qa(Bt),v.A=0)}}ii(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function Ao(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function So(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function hi(u){return u.h?1:u.g?u.g.size:0}function fi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function wo(u,m){u.g?u.g.add(m):u.h=m}function Ro(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ao.prototype.cancel=function(){if(this.i=Io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Io(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof pn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,cr(this,u.u),this.h=u.h,Co(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,ke(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),cr(this,m[4]),this.h=di(m[5]||"",!0),Co(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new fr(null,this.l))}pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(gs(m,aa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(gs(m,aa,!0),"@"),u.push(Oi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(gs(v,v.charAt(0)=="/"?xo:cu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",gs(v,hu)),u.join("")},pn.prototype.resolve=function(u){const m=be(this);let v=!!u.j;v?ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)cr(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const bt=L[tt++];bt=="."?T&&tt==L.length&&B.push(""):bt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==L.length&&B.push("")):(B.push(bt),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?Co(m,du(u.i)):v=!!u.m,v&&(m.m=u.m),m};function be(u){return new pn(u)}function ke(u,m,v){u.j=v?di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function cr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Co(u,m,v){m instanceof fr?(u.i=m,la(u.i,u.l)):(v||(m=gs(m,hr)),u.i=new fr(m,u.l))}function Gt(u,m,v){u.i.set(m,v)}function ps(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gs(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var aa=/[#\/\?@]/g,cu=/[#\?:]/g,xo=/[#\?]/g,hr=/[#\?@]/g,hu=/#/g;function fr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&sa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=fr.prototype,r.add=function(u,m){sn(this),this.i=null,u=dr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function fu(u,m){sn(u),m=dr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function No(u,m){return sn(u),m=dr(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Do(u,m){sn(u);let v=[];if(typeof m=="string")No(u,m)&&(v=v.concat(u.g.get(dr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return sn(this),this.i=null,u=dr(this,u),No(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Do(this,u),u.length>0?String(u[0]):m):m};function oa(u,m,v){fu(u,m),v.length>0&&(u.i=null,u.g.set(dr(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Oi(v);v=Do(this,v);for(let B=0;B<v.length;B++){let tt=L;v[B]!==""&&(tt+="="+Oi(v[B])),u.push(tt)}}return this.i=u.join("&")};function du(u){const m=new fr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function dr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function la(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(fu(this,T),oa(this,L,v))},u)),u.j=m}function Hn(u,m){const v=new jn;if(d.Image){const T=new Image;T.onload=b(wn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(wn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(wn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(wn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Oo(u,m){const v=new jn,T=new AbortController,L=setTimeout(()=>{T.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),wn(v,"TestPingServer: error",!1,m)})}function wn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function mr(){this.g=new tu}function mi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(mi,eu),mi.prototype.g=function(){return new ys(this.i,this.h)};function ys(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(ys,_e),r=ys.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Fn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ua(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ua(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?pr(this):Fn(this),this.readyState==3&&ua(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,pr(this))},r.Na=function(u){this.g&&(this.response=u,pr(this))},r.ga=function(){this.g&&pr(this)};function pr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Fn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return Pt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function _s(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Rn(v),typeof u=="string"?v!=null&&Oi(v):Gt(u,m,v))}function Xt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Xt,_e);var pi=/^https?$/i,Mo=["POST","PUT"];r=Xt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bo.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){vs(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Mo,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){vs(this,B)}};function vs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Vo(u),Mi(u)}function Vo(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Mi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),Xt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Es(this):this.Xa())},r.Xa=function(){Es(this)};function Es(u){if(u.h&&typeof c<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let tt=String(u.D).match(uu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!pi.test(tt?tt.toLowerCase():"")}v=T}if(v)De(u,"complete"),De(u,"success");else{u.o=6;try{var L=Gn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Vo(u)}}finally{Mi(u)}}}}function Mi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||De(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Lh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=au(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Ft(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function gr(u){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,u),this.Za=gi("retryDelaySeedMs",1e4,u),this.Ta=gi("forwardChannelMaxRetries",2,u),this.va=gi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ao(u&&u.concurrentRequestLimit),this.Ba=new mr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=gr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){ve(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Eu(this,null,this.W),yi(this)};function ko(u){if(ca(u),u.I==3){var m=u.V++,v=be(u.J);if(Gt(v,"SID",u.M),Gt(v,"RID",m),Gt(v,"TYPE","terminate"),Ts(u,v),m=new Bn(u,u.j,m),m.M=2,m.A=ps(be(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}vu(u)}function yr(u){u.g&&(Lo(u),u.g.cancel(),u.g=null)}function ca(u){yr(u),u.v&&(d.clearTimeout(u.v),u.v=null),fa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function yi(u){if(!So(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||w(),Mt||(Wt(),Mt=!0),C.add(m,u),u.D=0}}function ha(u,m){return hi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=si(_(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Bn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=mu(this,L,m),v=be(this.J),Gt(v,"RID",u),Gt(v,"CVER",22),this.G&&Gt(v,"X-HTTP-Session-Id",this.G),Ts(this,v),B&&(this.R?m="headers="+Oi(Rn(B))+"&"+m:this.u&&_s(v,this.u,B)),wo(this.h,L),this.Ra&&Gt(v,"TYPE","init"),this.S?(Gt(v,"$req",m),Gt(v,"SID","null"),L.U=!0,oi(L,v,null)):oi(L,v,m),this.I=2}}else this.I==3&&(u?Uo(this,u):this.i.length==0||So(this.h)||Uo(this))};function Uo(u,m){var v;m?v=m.l:v=u.V++;const T=be(u.J);Gt(T,"SID",u.M),Gt(T,"RID",v),Gt(T,"AID",u.K),Ts(u,T),u.u&&u.o&&_s(T,u.u,u.o),v=new Bn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),wo(u.h,v),oi(v,T,m)}function Ts(u,m){u.H&&Pt(u.H,function(v,T){Gt(m,T,v)}),u.l&&Pt({},function(v,T){Gt(m,T,v)})}function mu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let bt=-1;for(;;){const de=["count="+v];bt==-1?v>0?(bt=L[0].g,de.push("ofs="+bt)):bt=0:de.push("ofs="+bt);let Bt=!0;for(let oe=0;oe<v;oe++){var B=L[oe].g;const In=L[oe].map;if(B-=bt,B<0)bt=Math.max(0,L[oe].g-100),Bt=!1;else try{B="req"+B+"_"||"";try{var tt=In instanceof Map?In:Object.entries(In);for(const[vi,Qn]of tt){let Yn=Qn;p(Qn)&&(Yn=ur(Qn)),de.push(B+vi+"="+encodeURIComponent(Yn))}}catch(vi){throw de.push(B+"type="+encodeURIComponent("_badmap")),vi}}catch{T&&T(In)}}if(Bt){tt=de.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||w(),Mt||(Wt(),Mt=!0),C.add(m,u),u.A=0}}function bs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=si(_(u.Da,u),_u(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=si(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),yr(this),gu(this))};function Lo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),Ts(u,m),u.u&&u.o&&_s(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ps(be(m)),v.u=null,v.R=!0,ia(v,u)}r.Va=function(){this.C!=null&&(this.C=null,yr(this),bs(this),ve(19))};function fa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var v=null;if(u.g==m){fa(u),Lo(u),u.g=null;var T=2}else if(fi(u.h,m))v=m.G,Ro(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=na(),De(T,new ri(T,v)),yi(u)}else pu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ha(u,m)||T==2&&bs(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function _u(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new pn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(T,"https"),ps(T),L?Hn(T.toString(),v):Oo(T.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),vu(u),ca(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=Io(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var T=v instanceof pn?be(v):new pn(v);if(T.g!="")m&&(T.g=m+"."+T.g),cr(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new pn(null);T&&ke(B,T),m&&(B.g=m),L&&cr(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Gt(T,v,m),Gt(T,"VER",u.ka),Ts(u,T),T}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new mi({ab:v})):new Xt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}r=bu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _r(){}_r.prototype.g=function(u,m){return new We(u,m)};function We(u,m){_e.call(this),this.g=new gr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ki(this)}A(We,_e),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){ko(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ur(u),u=v);m.i.push(new Te(m.Ya++,u)),m.I==3&&yi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,ko(this.g),delete this.g,We.Z.N.call(this)};function Au(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Au,Pe);function Su(){An.call(this),this.status=1}A(Su,An);function ki(u){this.g=u}A(ki,bu),ki.prototype.ra=function(){De(this.g,"a")},ki.prototype.qa=function(u){De(this.g,new Au(u))},ki.prototype.pa=function(u){De(this.g,new Su)},ki.prototype.oa=function(){De(this.g,"b")},_r.prototype.createWebChannel=_r.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,V1=function(){return new _r},M1=function(){return na()},O1=fe,lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,Pc=ds,To.COMPLETE="complete",D1=To,nu.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,bl=nu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,N1=Xt}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});const O0="@firebase/firestore",M0="4.9.2";class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let uo="12.3.0";const Qs=new Im("@firebase/firestore");function Ha(){return Qs.logLevel}function st(r,...t){if(Qs.logLevel<=Nt.DEBUG){const i=t.map(Lm);Qs.debug(`Firestore (${uo}): ${r}`,...i)}}function rr(r,...t){if(Qs.logLevel<=Nt.ERROR){const i=t.map(Lm);Qs.error(`Firestore (${uo}): ${r}`,...i)}}function eo(r,...t){if(Qs.logLevel<=Nt.WARN){const i=t.map(Lm);Qs.warn(`Firestore (${uo}): ${r}`,...i)}}function Lm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function gt(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,k1(r,s,i)}function k1(r,t,i){let s=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw rr(s),new Error(s)}function Ht(r,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||k1(t,l,s)}function Tt(r,t){return r}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends ar{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class U1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class F2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class G2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Q2{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new tr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new tr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new U1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class Y2{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class K2{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new Y2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const s=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new V0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Pm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=$2(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Dt(r,t){return r<t?-1:r>t?1:0}function um(r,t){const i=Math.min(r.length,t.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=t.charAt(s);if(l!==c)return Kd(l)===Kd(c)?Dt(l,c):Kd(l)?1:-1}return Dt(r.length,t.length)}const J2=55296,Z2=57343;function Kd(r){const t=r.charCodeAt(0);return t>=J2&&t<=Z2}function no(r,t,i){return r.length===t.length&&r.every(((s,l)=>i(s,t[l])))}const k0="__name__";class Si{constructor(t,i,s){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&gt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=Si.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Dt(t.length,i.length)}static compareSegments(t,i){const s=Si.isNumericId(t),l=Si.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Si.extractNumericId(t).compare(Si.extractNumericId(i)):um(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Jr.fromString(t.substring(4,t.length-2))}}class ne extends Si{construct(t,i,s){return new ne(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new it(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const W2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends Si{construct(t,i,s){return new Ge(t,i,s)}static isValidIdentifier(t){return W2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k0}static keyField(){return new Ge([k0])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new it(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new it(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new it(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(c(),l++)}if(c(),d)throw new it(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ne.fromString(t))}static fromName(t){return new dt(ne.fromString(t).popFirst(5))}static empty(){return new dt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ne.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ne(t.slice()))}}function L1(r,t,i){if(!i)throw new it(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function tR(r,t,i,s){if(t===!0&&s===!0)throw new it(K.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function U0(r){if(!dt.isDocumentKey(r))throw new it(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function L0(r){if(dt.isDocumentKey(r))throw new it(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function P1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function gh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function Pn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new it(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=gh(r);throw new it(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function eR(r,t){if(t<=0)throw new it(K.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${t}.`)}function xe(r,t){const i={typeString:r};return t&&(i.value=t),i}function Yl(r,t){if(!P1(r))throw new it(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new it(K.INVALID_ARGUMENT,i);return!0}const P0=-62135596800,z0=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*z0);return new se(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new it(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<P0)throw new it(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z0}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Yl(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-P0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:xe("string",se._jsonSchemaVersion),seconds:xe("number"),nanoseconds:xe("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new se(0,0))}static max(){return new vt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Vl=-1;function nR(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(s===1e9?new se(i+1,0):new se(i,s));return new es(l,dt.empty(),t)}function iR(r){return new es(r.readTime,r.key,Vl)}class es{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new es(vt.min(),dt.empty(),Vl)}static max(){return new es(vt.max(),dt.empty(),Vl)}}function rR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,t.documentKey),i!==0?i:Dt(r.largestBatchId,t.largestBatchId))}const sR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function co(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==sR)throw r;st("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,s)=>{i(t)}))}static reject(t){return new J(((i,s)=>{s(t)}))}static waitFor(t){return new J(((i,s)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>s(y)))})),d=!0,c===l&&i()}))}static or(t){let i=J.resolve(!1);for(const s of t)i=i.next((l=>l?J.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new J(((s,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((b=>{d[_]=b,++p,p===c&&s(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new J(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function oR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ho(r){return r.name==="IndexedDbTransactionError"}class yh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}yh.ce=-1;const zm=-1;function _h(r){return r==null}function Zc(r){return r===0&&1/r==-1/0}function lR(r){return typeof r=="number"&&Number.isInteger(r)&&!Zc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const z1="";function uR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=j0(t)),t=cR(r.get(i),t);return j0(t)}function cR(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case z1:i+="";break;default:i+=c}}return i}function j0(r){return r+z1+""}function B0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Xs(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function j1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new Fe(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new q0(this.data.getIterator())}getIteratorFrom(t){return new q0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class q0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Wn{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new Wn([])}unionWith(t){let i=new Me(Ge.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Wn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return no(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class B1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new B1("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const hR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const i=hR.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function is(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const q1="server_timestamp",H1="__type__",F1="__previous_value__",G1="__local_write_time__";function jm(r){return(r?.mapValue?.fields||{})[H1]?.stringValue===q1}function vh(r){const t=r.mapValue.fields[F1];return jm(t)?vh(t):t}function kl(r){const t=ns(r.mapValue.fields[G1].timestampValue);return new se(t.seconds,t.nanos)}class fR{constructor(t,i,s,l,c,d,p,y,_,b){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b}}const Wc="(default)";class Ul{constructor(t,i){this.projectId=t,this.database=i||Wc}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(t){return t instanceof Ul&&t.projectId===this.projectId&&t.database===this.database}}const Q1="__type__",dR="__max__",Dc={mapValue:{}},Y1="__vector__",th="value";function rs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?jm(r)?4:pR(r)?9007199254740991:mR(r)?10:11:gt(28295,{value:r})}function Di(r,t){if(r===t)return!0;const i=rs(r);if(i!==rs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return kl(r).isEqual(kl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ns(l.timestampValue),p=ns(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return is(l.bytesValue).isEqual(is(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),p=ge(c.doubleValue);return d===p?Zc(d)===Zc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return no(r.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(B0(d)!==B0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Di(d[y],p[y])))return!1;return!0})(r,t);default:return gt(52216,{left:r})}}function Ll(r,t){return(r.values||[]).find((i=>Di(i,t)))!==void 0}function io(r,t){if(r===t)return 0;const i=rs(r),s=rs(t);if(i!==s)return Dt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ge(c.integerValue||c.doubleValue),y=ge(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return H0(r.timestampValue,t.timestampValue);case 4:return H0(kl(r),kl(t));case 5:return um(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=is(c),y=is(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const b=Dt(p[_],y[_]);if(b!==0)return b}return Dt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Dt(ge(c.latitude),ge(d.latitude));return p!==0?p:Dt(ge(c.longitude),ge(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return F0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[th]?.arrayValue,b=y[th]?.arrayValue,A=Dt(_?.values?.length||0,b?.values?.length||0);return A!==0?A:F0(_,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let A=0;A<y.length&&A<b.length;++A){const x=um(y[A],b[A]);if(x!==0)return x;const F=io(p[y[A]],_[b[A]]);if(F!==0)return F}return Dt(y.length,b.length)})(r.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function H0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Dt(r,t);const i=ns(r),s=ns(t),l=Dt(i.seconds,s.seconds);return l!==0?l:Dt(i.nanos,s.nanos)}function F0(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=io(i[l],s[l]);if(c)return c}return Dt(i.length,s.length)}function ro(r){return cm(r)}function cm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=ns(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return is(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return dt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=cm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${cm(i.fields[d])}`;return l+"}"})(r.mapValue):gt(61005,{value:r})}function zc(r){switch(rs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=vh(r);return t?16+zc(t):16;case 5:return 2*r.stringValue.length;case 6:return is(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+zc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Xs(s.fields,((c,d)=>{l+=c.length+zc(d)})),l})(r.mapValue);default:throw gt(13486,{value:r})}}function G0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function hm(r){return!!r&&"integerValue"in r}function Bm(r){return!!r&&"arrayValue"in r}function Q0(r){return!!r&&"nullValue"in r}function Y0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function jc(r){return!!r&&"mapValue"in r}function mR(r){return(r?.mapValue?.fields||{})[Q1]?.stringValue===Y1}function Cl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Xs(r.mapValue.fields,((i,s)=>t.mapValue.fields[i]=Cl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Cl(r.arrayValue.values[i]);return t}return{...r}}function pR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===dR}class Un{constructor(t){this.value=t}static empty(){return new Un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!jc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cl(i)}setAll(t){let i=Ge.emptyPath(),s={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,s,l),s={},l=[],i=p.popLast()}d?s[p.lastSegment()]=Cl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Di(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){Xs(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new Un(Cl(this.value))}}function K1(r){const t=[];return Xs(r.fields,((i,s)=>{const l=new Ge([i]);if(jc(s)){const c=K1(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Wn(t)}class $e{constructor(t,i,s,l,c,d,p){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new $e(t,0,vt.min(),vt.min(),vt.min(),Un.empty(),0)}static newFoundDocument(t,i,s,l){return new $e(t,1,i,vt.min(),s,l,0)}static newNoDocument(t,i){return new $e(t,2,i,vt.min(),vt.min(),Un.empty(),0)}static newUnknownDocument(t,i){return new $e(t,3,i,vt.min(),vt.min(),Un.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eh{constructor(t,i){this.position=t,this.inclusive=i}}function K0(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=dt.comparator(dt.fromName(d.referenceValue),i.key):s=io(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function X0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Di(r.position[i],t.position[i]))return!1;return!0}class Pl{constructor(t,i="asc"){this.field=t,this.dir=i}}function gR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class X1{}class Ce extends X1{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new _R(t,i,s):i==="array-contains"?new TR(t,s):i==="in"?new bR(t,s):i==="not-in"?new AR(t,s):i==="array-contains-any"?new SR(t,s):new Ce(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new vR(t,s):new ER(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(io(i,this.value)):i!==null&&rs(this.value)===rs(i)&&this.matchesComparison(io(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends X1{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ei(t,i)}matches(t){return $1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $1(r){return r.op==="and"}function J1(r){return yR(r)&&$1(r)}function yR(r){for(const t of r.filters)if(t instanceof ei)return!1;return!0}function fm(r){if(r instanceof Ce)return r.field.canonicalString()+r.op.toString()+ro(r.value);if(J1(r))return r.filters.map((t=>fm(t))).join(",");{const t=r.filters.map((i=>fm(i))).join(",");return`${r.op}(${t})`}}function Z1(r,t){return r instanceof Ce?(function(s,l){return l instanceof Ce&&s.op===l.op&&s.field.isEqual(l.field)&&Di(s.value,l.value)})(r,t):r instanceof ei?(function(s,l){return l instanceof ei&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,p)=>c&&Z1(d,l.filters[p])),!0):!1})(r,t):void gt(19439)}function W1(r){return r instanceof Ce?(function(i){return`${i.field.canonicalString()} ${i.op} ${ro(i.value)}`})(r):r instanceof ei?(function(i){return i.op.toString()+" {"+i.getFilters().map(W1).join(" ,")+"}"})(r):"Filter"}class _R extends Ce{constructor(t,i,s){super(t,i,s),this.key=dt.fromName(s.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class vR extends Ce{constructor(t,i){super(t,"in",i),this.keys=tE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class ER extends Ce{constructor(t,i){super(t,"not-in",i),this.keys=tE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function tE(r,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class TR extends Ce{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Bm(i)&&Ll(i.arrayValue,this.value)}}class bR extends Ce{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ll(this.value.arrayValue,i)}}class AR extends Ce{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ll(this.value.arrayValue,i)}}class SR extends Ce{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Bm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Ll(this.value.arrayValue,s)))}}class wR{constructor(t,i=null,s=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function $0(r,t=null,i=[],s=[],l=null,c=null,d=null){return new wR(r,t,i,s,l,c,d)}function qm(r){const t=Tt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>fm(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),_h(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>ro(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>ro(s))).join(",")),t.Te=i}return t.Te}function Hm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!gR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Z1(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!X0(r.startAt,t.startAt)&&X0(r.endAt,t.endAt)}function dm(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class fo{constructor(t,i=null,s=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function RR(r,t,i,s,l,c,d,p){return new fo(r,t,i,s,l,c,d,p)}function Eh(r){return new fo(r)}function J0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function eE(r){return r.collectionGroup!==null}function xl(r){const t=Tt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Ge.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Pl(c,s))})),i.has(Ge.keyField().canonicalString())||t.Ie.push(new Pl(Ge.keyField(),s))}return t.Ie}function Ii(r){const t=Tt(r);return t.Ee||(t.Ee=IR(t,xl(r))),t.Ee}function IR(r,t){if(r.limitType==="F")return $0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Pl(l.field,c)}));const i=r.endAt?new eh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new eh(r.startAt.position,r.startAt.inclusive):null;return $0(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function mm(r,t){const i=r.filters.concat([t]);return new fo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function nh(r,t,i){return new fo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Th(r,t){return Hm(Ii(r),Ii(t))&&r.limitType===t.limitType}function nE(r){return`${qm(Ii(r))}|lt:${r.limitType}`}function Fa(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>W1(l))).join(", ")}]`),_h(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>ro(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>ro(l))).join(",")),`Target(${s})`})(Ii(r))}; limitType=${r.limitType})`}function bh(r,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):dt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,t)&&(function(s,l){for(const c of xl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,p,y){const _=K0(d,p,y);return d.inclusive?_<=0:_<0})(s.startAt,xl(s),l)||s.endAt&&!(function(d,p,y){const _=K0(d,p,y);return d.inclusive?_>=0:_>0})(s.endAt,xl(s),l))})(r,t)}function CR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function iE(r){return(t,i)=>{let s=!1;for(const l of xl(r)){const c=xR(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function xR(r,t,i){const s=r.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?io(y,_):gt(42886)})(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt(19790,{direction:r.dir})}}class $s{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Xs(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return j1(this.inner)}size(){return this.innerSize}}const NR=new ue(dt.comparator);function sr(){return NR}const rE=new ue(dt.comparator);function Al(...r){let t=rE;for(const i of r)t=t.insert(i.key,i);return t}function sE(r){let t=rE;return r.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function js(){return Nl()}function aE(){return Nl()}function Nl(){return new $s((r=>r.toString()),((r,t)=>r.isEqual(t)))}const DR=new ue(dt.comparator),OR=new Me(dt.comparator);function Ot(...r){let t=OR;for(const i of r)t=t.add(i);return t}const MR=new Me(Dt);function VR(){return MR}function Fm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(t)?"-0":t}}function oE(r){return{integerValue:""+r}}function kR(r,t){return lR(t)?oE(t):Fm(r,t)}class Ah{constructor(){this._=void 0}}function UR(r,t,i){return r instanceof zl?(function(l,c){const d={fields:{[H1]:{stringValue:q1},[G1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&jm(c)&&(c=vh(c)),c&&(d.fields[F1]=c),{mapValue:d}})(i,t):r instanceof jl?uE(r,t):r instanceof Bl?cE(r,t):(function(l,c){const d=lE(l,c),p=Z0(d)+Z0(l.Ae);return hm(d)&&hm(l.Ae)?oE(p):Fm(l.serializer,p)})(r,t)}function LR(r,t,i){return r instanceof jl?uE(r,t):r instanceof Bl?cE(r,t):i}function lE(r,t){return r instanceof ih?(function(s){return hm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class zl extends Ah{}class jl extends Ah{constructor(t){super(),this.elements=t}}function uE(r,t){const i=hE(t);for(const s of r.elements)i.some((l=>Di(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Bl extends Ah{constructor(t){super(),this.elements=t}}function cE(r,t){let i=hE(t);for(const s of r.elements)i=i.filter((l=>!Di(l,s)));return{arrayValue:{values:i}}}class ih extends Ah{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Z0(r){return ge(r.integerValue||r.doubleValue)}function hE(r){return Bm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class PR{constructor(t,i){this.field=t,this.transform=i}}function zR(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof jl&&l instanceof jl||s instanceof Bl&&l instanceof Bl?no(s.elements,l.elements,Di):s instanceof ih&&l instanceof ih?Di(s.Ae,l.Ae):s instanceof zl&&l instanceof zl})(r.transform,t.transform)}class jR{constructor(t,i){this.version=t,this.transformResults=i}}class ti{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ti}static exists(t){return new ti(void 0,t)}static updateTime(t){return new ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Sh{}function fE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Gm(r.key,ti.none()):new Kl(r.key,r.data,ti.none());{const i=r.data,s=Un.empty();let l=new Me(Ge.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Js(r.key,s,new Wn(l.toArray()),ti.none())}}function BR(r,t,i){r instanceof Kl?(function(l,c,d){const p=l.value.clone(),y=tv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Js?(function(l,c,d){if(!Bc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=tv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(dE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Dl(r,t,i,s){return r instanceof Kl?(function(c,d,p,y){if(!Bc(c.precondition,d))return p;const _=c.value.clone(),b=ev(c.fieldTransforms,y,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,s):r instanceof Js?(function(c,d,p,y){if(!Bc(c.precondition,d))return p;const _=ev(c.fieldTransforms,y,d),b=d.data;return b.setAll(dE(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,s):(function(c,d,p){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function qR(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=lE(s.transform,l||null);c!=null&&(i===null&&(i=Un.empty()),i.set(s.field,c))}return i||null}function W0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&no(s,l,((c,d)=>zR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Kl extends Sh{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Js extends Sh{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function dE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}})),t}function tv(r,t,i){const s=new Map;Ht(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);s.set(c.field,LR(d,p,i[l]))}return s}function ev(r,t,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,UR(c,d,t))}return s}class Gm extends Sh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HR extends Sh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FR{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&BR(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Dl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Dl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=aE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=fE(d,p);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(vt.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&no(this.mutations,t.mutations,((i,s)=>W0(i,s)))&&no(this.baseMutations,t.baseMutations,((i,s)=>W0(i,s)))}}class Qm{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){Ht(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return DR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Qm(t,i,s,l)}}class GR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class QR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ie,Ut;function YR(r){switch(r){case K.OK:return gt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function mE(r){if(r===void 0)return rr("GRPC error has no .code"),K.UNKNOWN;switch(r){case Ie.OK:return K.OK;case Ie.CANCELLED:return K.CANCELLED;case Ie.UNKNOWN:return K.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return K.INTERNAL;case Ie.UNAVAILABLE:return K.UNAVAILABLE;case Ie.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Ie.NOT_FOUND:return K.NOT_FOUND;case Ie.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Ie.ABORTED:return K.ABORTED;case Ie.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Ie.DATA_LOSS:return K.DATA_LOSS;default:return gt(39323,{code:r})}}(Ut=Ie||(Ie={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function KR(){return new TextEncoder}const XR=new Jr([4294967295,4294967295],0);function nv(r){const t=KR().encode(r),i=new x1;return i.update(t),new Uint8Array(i.digest())}function iv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Jr([i,s],0),new Jr([l,c],0)]}class Ym{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Sl(`Invalid padding: ${i}`);if(s<0)throw new Sl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Jr.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(Jr.fromNumber(s)));return l.compare(XR)===1&&(l=new Jr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=nv(t),[s,l]=iv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Ym(c,l,i);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=nv(t),[s,l]=iv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wh{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,Xl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new wh(vt.min(),l,new ue(Dt),sr(),Ot())}}class Xl{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Xl(s,i,Ot(),Ot(),Ot())}}class qc{constructor(t,i,s,l){this.be=t,this.removedTargetIds=i,this.key=s,this.De=l}}class pE{constructor(t,i){this.targetId=t,this.Ce=i}}class gE{constructor(t,i,s=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class rv{constructor(){this.ve=0,this.Fe=sv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),s=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:gt(38017,{changeType:c})}})),new Xl(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=sv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $R{constructor(t){this.Ge=t,this.ze=new Map,this.je=sr(),this.Je=Oc(),this.He=Oc(),this.Ye=new ue(Dt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(dm(c))if(s===0){const d=new dt(c.path);this.et(i,d,$e.newNoDocument(d,vt.min()))}else Ht(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=is(s).toUint8Array()}catch(y){if(y instanceof B1)return eo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Ym(d,l,c)}catch(y){return eo(y instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&dm(p.target)){const y=new dt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,$e.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=Ot();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new wh(t,i,this.Ye,this.je,s);return this.je=sr(),this.Je=Oc(),this.He=Oc(),this.Ye=new ue(Dt),l}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new rv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Dt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Dt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new rv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Oc(){return new ue(dt.comparator)}function sv(){return new ue(dt.comparator)}const JR={asc:"ASCENDING",desc:"DESCENDING"},ZR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WR={and:"AND",or:"OR"};class tI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function pm(r,t){return r.useProto3Json||_h(t)?t:{value:t}}function rh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function eI(r,t){return rh(r,t.toTimestamp())}function Ci(r){return Ht(!!r,49232),vt.fromTimestamp((function(i){const s=ns(i);return new se(s.seconds,s.nanos)})(r))}function Km(r,t){return gm(r,t).canonicalString()}function gm(r,t){const i=(function(l){return new ne(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function _E(r){const t=ne.fromString(r);return Ht(AE(t),10190,{key:t.toString()}),t}function ym(r,t){return Km(r.databaseId,t.path)}function Xd(r,t){const i=_E(t);if(i.get(1)!==r.databaseId.projectId)throw new it(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new it(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(EE(i))}function vE(r,t){return Km(r.databaseId,t)}function nI(r){const t=_E(r);return t.length===4?ne.emptyPath():EE(t)}function _m(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function EE(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function av(r,t,i){return{name:ym(r,t),fields:i.value.mapValue.fields}}function iI(r,t){let i;if("targetChange"in t){t.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(Ht(b===void 0||typeof b=="string",58123),Qe.fromBase64String(b||"")):(Ht(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Qe.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const b=_.code===void 0?K.UNKNOWN:mE(_.code);return new it(b,_.message||"")})(d);i=new gE(s,l,c,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Xd(r,s.document.name),c=Ci(s.document.updateTime),d=s.document.createTime?Ci(s.document.createTime):vt.min(),p=new Un({mapValue:{fields:s.document.fields}}),y=$e.newFoundDocument(l,c,d,p),_=s.targetIds||[],b=s.removedTargetIds||[];i=new qc(_,b,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Xd(r,s.document),c=s.readTime?Ci(s.readTime):vt.min(),d=$e.newNoDocument(l,c),p=s.removedTargetIds||[];i=new qc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Xd(r,s.document),c=s.removedTargetIds||[];i=new qc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new QR(l,c),p=s.targetId;i=new pE(p,d)}}return i}function rI(r,t){let i;if(t instanceof Kl)i={update:av(r,t.key,t.value)};else if(t instanceof Gm)i={delete:ym(r,t.key)};else if(t instanceof Js)i={update:av(r,t.key,t.data),updateMask:dI(t.fieldMask)};else{if(!(t instanceof HR))return gt(16599,{Vt:t.type});i={verify:ym(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof zl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Bl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ih)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:eI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(r,t.precondition)),i}function sI(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ci(l.updateTime):Ci(c);return d.isEqual(vt.min())&&(d=Ci(c)),new jR(d,l.transformResults||[])})(i,t)))):[]}function aI(r,t){return{documents:[vE(r,t.path)]}}function oI(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=vE(r,l);const c=(function(_){if(_.length!==0)return bE(ei.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(x){return{field:Ga(x.field),direction:cI(x.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=pm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function lI(r){let t=nI(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Ht(s===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const x=TE(A);return x instanceof ei&&J1(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((x=>(function(W){return new Pl(Qa(W.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let x;return x=typeof A=="object"?A.value:A,_h(x)?null:x})(i.limit));let y=null;i.startAt&&(y=(function(A){const x=!!A.before,F=A.values||[];return new eh(F,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const x=!A.before,F=A.values||[];return new eh(F,x)})(i.endAt)),RR(t,l,d,c,p,"F",y,_)}function uI(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function TE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Qa(i.unaryFilter.field);return Ce.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Qa(i.unaryFilter.field);return Ce.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qa(i.unaryFilter.field);return Ce.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qa(i.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ce.create(Qa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ei.create(i.compositeFilter.filters.map((s=>TE(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(r):gt(30097,{filter:r})}function cI(r){return JR[r]}function hI(r){return ZR[r]}function fI(r){return WR[r]}function Ga(r){return{fieldPath:r.canonicalString()}}function Qa(r){return Ge.fromServerFormat(r.fieldPath)}function bE(r){return r instanceof Ce?(function(i){if(i.op==="=="){if(Y0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if(Q0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Y0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if(Q0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:hI(i.op),value:i.value}}})(r):r instanceof ei?(function(i){const s=i.getFilters().map((l=>bE(l)));return s.length===1?s[0]:{compositeFilter:{op:fI(i.op),filters:s}}})(r):gt(54877,{filter:r})}function dI(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function AE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Qr{constructor(t,i,s,l,c=vt.min(),d=vt.min(),p=Qe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class mI{constructor(t){this.yt=t}}function pI(r){const t=lI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?nh(t,t.limit,"L"):t}class gI{constructor(){this.Cn=new yI}addToCollectionParentIndex(t,i){return this.Cn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(es.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(es.min())}updateCollectionGroup(t,i,s){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class yI{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Me(ne.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Me(ne.comparator)).toArray()}}const ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SE=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(SE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class so{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new so(0)}static cr(){return new so(-1)}}const lv="LruGarbageCollector",_I=1048576;function uv([r,t],[i,s]){const l=Dt(r,i);return l===0?Dt(t,s):l}class vI{constructor(t){this.Ir=t,this.buffer=new Me(uv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();uv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class EI{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(lv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ho(i)?st(lv,"Ignoring IndexedDB error during garbage collection: ",i):await co(i)}await this.Vr(3e5)}))}}class TI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(yh.ce);const s=new vI(i);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(ov)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ov):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,l,c,d,p,y,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(s=A,p=Date.now(),this.removeTargets(t,s,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((A=>(_=Date.now(),Ha()<=Nt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function bI(r,t){return new TI(r,t)}class AI{constructor(){this.changes=new $s((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?J.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class SI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class wI{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&Dl(s.mutation,l,Wn.empty(),se.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Ot()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Ot()){const l=js();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=Al();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=js();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Ot())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,s,l){let c=sr();const d=Nl(),p=(function(){return Nl()})();return i.forEach(((y,_)=>{const b=s.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof Js)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Dl(b.mutation,_,b.mutation.getFieldMask(),se.now())):d.set(_.key,Wn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>p.set(_,new SI(b,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const s=Nl();let l=new ue(((d,p)=>d-p)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let b=s.get(y)||Wn.empty();b=p.applyToLocalView(_,b),s.set(y,b);const A=(l.get(p.batchId)||Ot()).add(y);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,b=y.value,A=aE();b.forEach((x=>{if(!c.has(x)){const F=fE(i.get(x),s.get(x));F!==null&&A.set(x,F),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,A))}return J.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):eE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):J.resolve(js());let p=Vl,y=c;return d.next((_=>J.forEach(_,((b,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(b)?J.resolve():this.remoteDocumentCache.getEntry(t,b).next((x=>{y=y.insert(b,x)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Ot()))).next((b=>({batchId:p,changes:sE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((s=>{let l=Al();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=Al();return this.indexManager.getCollectionParents(t,c).next((p=>J.forEach(p,(y=>{const _=(function(A,x){return new fo(x,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next((b=>{b.forEach(((A,x)=>{d=d.insert(A,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((y,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,$e.newInvalidDocument(b)))}));let p=Al();return d.forEach(((y,_)=>{const b=c.get(y);b!==void 0&&Dl(b.mutation,_,Wn.empty(),se.now()),bh(i,_)&&(p=p.insert(y,_))})),p}))}}class RI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ci(l.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:pI(l.bundledQuery),readTime:Ci(l.readTime)}})(i)),J.resolve()}}class II{constructor(){this.overlays=new ue(dt.comparator),this.qr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const s=js();return J.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.St(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(t,i,s){const l=js(),c=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>s&&l.set(y.getKey(),y)}return J.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new ue(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let b=c.get(_.largestBatchId);b===null&&(b=js(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const p=js(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,b)=>p.set(_,b))),!(p.size()>=l)););return J.resolve(p)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new GR(i,s));let c=this.qr.get(i);c===void 0&&(c=Ot(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class CI{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class Xm{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new Le(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((s=>this.removeReference(s,i)))}jr(t){const i=new dt(new ne([])),s=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new dt(new ne([])),s=new Le(i,t),l=new Le(i,t+1);let c=Ot();return this.Ur.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return dt.comparator(t.key,i.key)||Dt(t.Yr,i.Yr)}static Kr(t,i){return Dt(t.Yr,i.Yr)||dt.comparator(t.key,i.key)}}class xI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new FR(c,i,s,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?zm:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Me(Dt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{s=s.add(p.Yr)}))})),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;dt.isDocumentKey(c)||(c=c.child(""));const d=new Le(new dt(c),0);let p=new Me(Dt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),J.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,i){const s=new Le(i,0),l=this.Zr.firstAfterOrEqual(s);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class NI{constructor(t){this.ri=t,this.docs=(function(){return new ue(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return J.resolve(s?s.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(t,i){let s=sr();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():$e.newInvalidDocument(l))})),J.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=sr();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||rR(iR(b),s)<=0||(l.has(b.key)||bh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,s,l){gt(9500)}ii(t,i){return J.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new DI(this)}getSize(t){return J.resolve(this.size)}}class DI extends AI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),J.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class OI{constructor(t){this.persistence=t,this.si=new $s((i=>qm(i)),Hm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new Xm,this.targetCount=0,this.ai=so.ur()}forEachTarget(t,i){return this.si.forEach(((s,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),J.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new so(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.Pr(i),J.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return J.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),J.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return J.resolve(s)}containsKey(t,i){return J.resolve(this._i.containsKey(i))}}class wE{constructor(t,i){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new CI,this.referenceDelegate=t(this),this.Pi=new OI(this),this.indexManager=new gI,this.remoteDocumentCache=(function(l){return new NI(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new mI(i),this.Ii=new RI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new II,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new xI(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){st("MemoryPersistence","Starting transaction:",t);const l=new MI(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return J.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,i))))}}class MI extends aR{constructor(t){super(),this.currentSequenceNumber=t}}class $m{constructor(t){this.persistence=t,this.Ri=new Xm,this.Vi=null}static mi(t){return new $m(t)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),J.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(s=>{const l=dt.fromPath(s);return this.gi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class sh{constructor(t,i){this.persistence=t,this.pi=new $s((s=>uR(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=bI(this,i)}static mi(t,i){return new sh(t,i)}Ei(){}di(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}wr(t){let i=0;return this.pr(t,(s=>{i++})).next((()=>i))}pr(t,i){return J.forEach(this.pi,((s,l)=>this.br(t,s,l).next((c=>c?J.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(s++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),J.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=zc(t.data.value)),i}br(t,i,s){return J.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return J.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Jm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=l}static As(t,i){let s=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Jm(t,i.fromCache,s,l)}}class VI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class kI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return bA()?8:oR(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new VI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,s,l){return s.documentReadCount<this.fs?(Ha()<=Nt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Fa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Ha()<=Nt.DEBUG&&st("QueryEngine","Query:",Fa(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Ha()<=Nt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Fa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(i))):J.resolve())}ys(t,i){if(J0(i))return J.resolve(null);let s=Ii(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=nh(i,null,"F"),s=Ii(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Ot(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,nh(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,s,l){return J0(i)||l.isEqual(vt.min())?J.resolve(null):this.ps.getDocuments(t,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,l)?J.resolve(null):(Ha()<=Nt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Fa(i)),this.vs(t,d,i,nR(l,Vl)).next((p=>p)))}))}Ds(t,i){let s=new Me(iE(t));return i.forEach(((l,c)=>{bh(t,c)&&(s=s.add(c))})),s}Cs(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,s){return Ha()<=Nt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Fa(i)),this.ps.getDocumentsMatchingQuery(t,i,es.min(),s)}vs(t,i,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Zm="LocalStore",UI=3e8;class LI{constructor(t,i,s,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ue(Dt),this.xs=new $s((c=>qm(c)),Hm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new wI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function PI(r,t,i,s){return new LI(r,t,i,s)}async function RE(r,t){const i=Tt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let y=Ot();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of c){p.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(s,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function zI(r,t){const i=Tt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,b){const A=_.batch,x=A.keys();let F=J.resolve();return x.forEach((W=>{F=F.next((()=>b.getEntry(y,W))).next((Z=>{const G=_.docVersions.get(W);Ht(G!==null,48541),Z.version.compareTo(G)<0&&(A.applyToRemoteDocument(Z,_),Z.isValidDocument()&&(Z.setReadTime(_.commitVersion),b.addEntry(Z)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let y=Ot();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function IE(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function jI(r,t){const i=Tt(r),s=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((b,A)=>{const x=l.get(A);if(!x)return;p.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,A))));let F=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?F=F.withResumeToken(Qe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,s)),l=l.insert(A,F),(function(Z,G,rt){return Z.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=UI?!0:rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0})(x,F,b)&&p.push(i.Pi.updateTargetData(c,F))}));let y=sr(),_=Ot();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(BI(c,d,t.documentUpdates).next((b=>{y=b.ks,_=b.qs}))),!s.isEqual(vt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(b)}return J.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function BI(r,t,i){let s=Ot(),l=Ot();return i.forEach((c=>s=s.add(c))),t.getEntries(r,s).next((c=>{let d=sr();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(vt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):st(Zm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function qI(r,t){const i=Tt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=zm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function HI(r,t){const i=Tt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,t).next((c=>c?(l=c,J.resolve(l)):i.Pi.allocateTargetId(s).next((d=>(l=new Qr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s}))}async function vm(r,t,i){const s=Tt(r),l=s.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ho(d))throw d;st(Zm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function cv(r,t,i){const s=Tt(r);let l=vt.min(),c=Ot();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,b){const A=Tt(y),x=A.xs.get(b);return x!==void 0?J.resolve(A.Ms.get(x)):A.Pi.getTargetData(_,b)})(s,d,Ii(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:Ot()))).next((p=>(FI(s,CR(t),p),{documents:p,Qs:c})))))}function FI(r,t,i){let s=r.Os.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(t,s)}class hv{constructor(){this.activeTargetIds=VR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class GI{constructor(){this.Mo=new hv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new hv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class QI{Oo(t){}shutdown(){}}const fv="ConnectivityMonitor";class dv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(fv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(fv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mc=null;function Em(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}const $d="RestConnection",YI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Wc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,i,s,l,c){const d=Em(),p=this.zo(t,i.toUriEncodedString());st($d,`Sending RPC '${t}' ${d}:`,p,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),b=oo(_);return this.Jo(t,p,y,s,b).then((A=>(st($d,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw eo($d,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",s),A}))}Ho(t,i,s,l,c,d){return this.Go(t,i,s,l,c)}jo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const s=YI[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class XI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ke="WebChannelConnection";class $I extends KI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,l,c){const d=Em();return new Promise(((p,y)=>{const _=new N1;_.setWithCredentials(!0),_.listenOnce(D1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Pc.NO_ERROR:const A=_.getResponseJson();st(Ke,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case Pc.TIMEOUT:st(Ke,`RPC '${t}' ${d} timed out`),y(new it(K.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const x=_.getStatus();if(st(Ke,`RPC '${t}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const W=F?.error;if(W&&W.status&&W.message){const Z=(function(rt){const ut=rt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(ut)>=0?ut:K.UNKNOWN})(W.status);y(new it(Z,W.message))}else y(new it(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new it(K.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(Ke,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);st(Ke,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",b,s,15)}))}T_(t,i,s){const l=Em(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=V1(),p=M1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const b=c.join("");st(Ke,`Creating RPC '${t}' stream ${l}: ${b}`,y);const A=d.createWebChannel(b,y);this.I_(A);let x=!1,F=!1;const W=new XI({Yo:G=>{F?st(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,G):(x||(st(Ke,`Opening RPC '${t}' stream ${l} transport.`),A.open(),x=!0),st(Ke,`RPC '${t}' stream ${l} sending:`,G),A.send(G))},Zo:()=>A.close()}),Z=(G,rt,ut)=>{G.listen(rt,(ht=>{try{ut(ht)}catch(Lt){setTimeout((()=>{throw Lt}),0)}}))};return Z(A,bl.EventType.OPEN,(()=>{F||(st(Ke,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),Z(A,bl.EventType.CLOSE,(()=>{F||(F=!0,st(Ke,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(A))})),Z(A,bl.EventType.ERROR,(G=>{F||(F=!0,eo(Ke,`RPC '${t}' stream ${l} transport errored. Name:`,G.name,"Message:",G.message),W.a_(new it(K.UNAVAILABLE,"The operation could not be completed")))})),Z(A,bl.EventType.MESSAGE,(G=>{if(!F){const rt=G.data[0];Ht(!!rt,16349);const ut=rt,ht=ut?.error||ut[0]?.error;if(ht){st(Ke,`RPC '${t}' stream ${l} received error:`,ht);const Lt=ht.status;let Wt=(function(w){const S=Ie[w];if(S!==void 0)return mE(S)})(Lt),Mt=ht.message;Wt===void 0&&(Wt=K.INTERNAL,Mt="Unknown error status: "+Lt+" with message "+ht.message),F=!0,W.a_(new it(Wt,Mt)),A.close()}else st(Ke,`RPC '${t}' stream ${l} received:`,rt),W.u_(rt)}})),Z(p,O1.STAT_EVENT,(G=>{G.stat===lm.PROXY?st(Ke,`RPC '${t}' stream ${l} detected buffering proxy`):G.stat===lm.NOPROXY&&st(Ke,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Jd(){return typeof document<"u"?document:null}function Rh(r){return new tI(r,!0)}class CE{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const mv="PersistentStream";class xE{constructor(t,i,s,l,c,d,p,y){this.Mi=t,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new CE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(rr(i.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new it(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(mv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(st(mv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class JI extends xE{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=iI(this.serializer,t),s=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Ci(d.readTime):vt.min()})(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=_m(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=dm(y)?{documents:aI(c,y)}:{query:oI(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=yE(c,d.resumeToken);const _=pm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(vt.min())>0){p.readTime=rh(c,d.snapshotVersion.toTimestamp());const _=pm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const s=uI(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=_m(this.serializer),i.removeTarget=t,this.q_(i)}}class ZI extends xE{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=sI(t.writeResults,t.commitTime),s=Ci(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=_m(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>rI(this.serializer,s)))};this.q_(i)}}class WI{}class tC extends WI{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new it(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,gm(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new it(K.UNKNOWN,c.toString())}))}Ho(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,gm(i,s),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class eC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rr(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ys="RemoteStore";class nC{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Zs(this)&&(st(Ys,"Restarting streams for network reachability change."),await(async function(y){const _=Tt(y);_.Ea.add(4),await $l(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ih(_)})(this))}))})),this.Ra=new eC(s,l)}}async function Ih(r){if(Zs(r))for(const t of r.da)await t(!0)}async function $l(r){for(const t of r.da)await t(!1)}function NE(r,t){const i=Tt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),np(i)?ep(i):mo(i).O_()&&tp(i,t))}function Wm(r,t){const i=Tt(r),s=mo(i);i.Ia.delete(t),s.O_()&&DE(i,t),i.Ia.size===0&&(s.O_()?s.L_():Zs(i)&&i.Ra.set("Unknown"))}function tp(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}mo(r).Y_(t)}function DE(r,t){r.Va.Ue(t),mo(r).Z_(t)}function ep(r){r.Va=new $R({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),mo(r).start(),r.Ra.ua()}function np(r){return Zs(r)&&!mo(r).x_()&&r.Ia.size>0}function Zs(r){return Tt(r).Ea.size===0}function OE(r){r.Va=void 0}async function iC(r){r.Ra.set("Online")}async function rC(r){r.Ia.forEach(((t,i)=>{tp(r,t)}))}async function sC(r,t){OE(r),np(r)?(r.Ra.ha(t),ep(r)):r.Ra.set("Unknown")}async function aC(r,t,i){if(r.Ra.set("Online"),t instanceof gE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(s){st(Ys,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await ah(r,s)}else if(t instanceof qc?r.Va.Ze(t):t instanceof pE?r.Va.st(t):r.Va.tt(t),!i.isEqual(vt.min()))try{const s=await IE(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(Qe.EMPTY_BYTE_STRING,b.snapshotVersion)),DE(c,y);const A=new Qr(b.target,y,_,b.sequenceNumber);tp(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){st(Ys,"Failed to raise snapshot:",s),await ah(r,s)}}async function ah(r,t,i){if(!ho(t))throw t;r.Ea.add(1),await $l(r),r.Ra.set("Offline"),i||(i=()=>IE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Ys,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ih(r)}))}function ME(r,t){return t().catch((i=>ah(r,i,t)))}async function Ch(r){const t=Tt(r),i=ss(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:zm;for(;oC(t);)try{const l=await qI(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,lC(t,l)}catch(l){await ah(t,l)}VE(t)&&kE(t)}function oC(r){return Zs(r)&&r.Ta.length<10}function lC(r,t){r.Ta.push(t);const i=ss(r);i.O_()&&i.X_&&i.ea(t.mutations)}function VE(r){return Zs(r)&&!ss(r).x_()&&r.Ta.length>0}function kE(r){ss(r).start()}async function uC(r){ss(r).ra()}async function cC(r){const t=ss(r);for(const i of r.Ta)t.ea(i.mutations)}async function hC(r,t,i){const s=r.Ta.shift(),l=Qm.from(s,t,i);await ME(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Ch(r)}async function fC(r,t){t&&ss(r).X_&&await(async function(s,l){if((function(d){return YR(d)&&d!==K.ABORTED})(l.code)){const c=s.Ta.shift();ss(s).B_(),await ME(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ch(s)}})(r,t),VE(r)&&kE(r)}async function pv(r,t){const i=Tt(r);i.asyncQueue.verifyOperationInProgress(),st(Ys,"RemoteStore received new credentials");const s=Zs(i);i.Ea.add(3),await $l(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ih(i)}async function dC(r,t){const i=Tt(r);t?(i.Ea.delete(2),await Ih(i)):t||(i.Ea.add(2),await $l(i),i.Ra.set("Unknown"))}function mo(r){return r.ma||(r.ma=(function(i,s,l){const c=Tt(i);return c.sa(),new JI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:iC.bind(null,r),t_:rC.bind(null,r),r_:sC.bind(null,r),H_:aC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),np(r)?ep(r):r.Ra.set("Unknown")):(await r.ma.stop(),OE(r))}))),r.ma}function ss(r){return r.fa||(r.fa=(function(i,s,l){const c=Tt(i);return c.sa(),new ZI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:uC.bind(null,r),r_:fC.bind(null,r),ta:cC.bind(null,r),na:hC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Ch(r)):(await r.fa.stop(),r.Ta.length>0&&(st(Ys,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ip{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,p=new ip(t,i,d,l,c);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rp(r,t){if(rr("AsyncQueue",`${t}: ${r}`),ho(r))return new it(K.UNAVAILABLE,`${t}: ${r}`);throw r}class Ja{static emptySet(t){return new Ja(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||dt.comparator(i.key,s.key):(i,s)=>dt.comparator(i.key,s.key),this.keyedMap=Al(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ja)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Ja;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class gv{constructor(){this.ga=new ue(dt.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class ao{constructor(t,i,s,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new ao(t,i,Ja.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Th(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class mC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class pC{constructor(){this.queries=yv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Tt(i),c=l.queries;l.queries=yv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(s)}))})(this,new it(K.ABORTED,"Firestore shutting down"))}}function yv(){return new $s((r=>nE(r)),Th)}async function sp(r,t){const i=Tt(r);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(s=2):(c=new mC,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=rp(d,`Initialization of query '${Fa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&op(i)}async function ap(r,t){const i=Tt(r),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function gC(r,t){const i=Tt(r);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(s=!0);d.wa=l}}s&&op(i)}function yC(r,t,i){const s=Tt(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(t)}function op(r){r.Ca.forEach((t=>{t.next()}))}var Tm,_v;(_v=Tm||(Tm={})).Ma="default",_v.Cache="cache";class lp{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new ao(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ao.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Tm.Cache}}class UE{constructor(t){this.key=t}}class LE{constructor(t){this.key=t}}class _C{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=iE(t),this.tu=new Ja(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new gv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,A)=>{const x=l.get(b),F=bh(this.query,A)?A:null,W=!!x&&this.mutatedKeys.has(x.key),Z=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let G=!1;x&&F?x.data.isEqual(F.data)?W!==Z&&(s.track({type:3,doc:F}),G=!0):this.su(x,F)||(s.track({type:2,doc:F}),G=!0,(y&&this.eu(F,y)>0||_&&this.eu(F,_)<0)&&(p=!0)):!x&&F?(s.track({type:0,doc:F}),G=!0):x&&!F&&(s.track({type:1,doc:x}),G=!0,(y||_)&&(p=!0)),G&&(F?(d=d.add(F),c=Z?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),s.track({type:1,doc:b})}return{tu:d,iu:s,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,A)=>(function(F,W){const Z=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:G})}};return Z(F)-Z(W)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(s),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new ao(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return t.forEach((s=>{this.Xa.has(s)||i.push(new LE(s))})),this.Xa.forEach((s=>{t.has(s)||i.push(new UE(s))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const up="SyncEngine";class vC{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class EC{constructor(t){this.key=t,this.hu=!1}}class TC{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new $s((p=>nE(p)),Th),this.Iu=new Map,this.Eu=new Set,this.du=new ue(dt.comparator),this.Au=new Map,this.Ru=new Xm,this.Vu={},this.mu=new Map,this.fu=so.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bC(r,t,i=!0){const s=HE(r);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await PE(s,t,i,!0),l}async function AC(r,t){const i=HE(r);await PE(i,t,!0,!1)}async function PE(r,t,i,s){const l=await HI(r.localStore,Ii(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await SC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&NE(r.remoteStore,l),p}async function SC(r,t,i,s,l){r.pu=(A,x,F)=>(async function(Z,G,rt,ut){let ht=G.view.ru(rt);ht.Cs&&(ht=await cv(Z.localStore,G.query,!1).then((({documents:C})=>G.view.ru(C,ht))));const Lt=ut&&ut.targetChanges.get(G.targetId),Wt=ut&&ut.targetMismatches.get(G.targetId)!=null,Mt=G.view.applyChanges(ht,Z.isPrimaryClient,Lt,Wt);return Ev(Z,G.targetId,Mt.au),Mt.snapshot})(r,A,x,F);const c=await cv(r.localStore,t,!0),d=new _C(t,c.Qs),p=d.ru(c.documents),y=Xl.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);Ev(r,i,_.au);const b=new vC(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function wC(r,t,i){const s=Tt(r),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!Th(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await vm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Wm(s.remoteStore,l.targetId),bm(s,l.targetId)})).catch(co)):(bm(s,l.targetId),await vm(s.localStore,l.targetId,!0))}async function RC(r,t){const i=Tt(r),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Wm(i.remoteStore,s.targetId))}async function IC(r,t,i){const s=VC(r);try{const l=await(function(d,p){const y=Tt(d),_=se.now(),b=p.reduce(((F,W)=>F.add(W.key)),Ot());let A,x;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let W=sr(),Z=Ot();return y.Ns.getEntries(F,b).next((G=>{W=G,W.forEach(((rt,ut)=>{ut.isValidDocument()||(Z=Z.add(rt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,W))).next((G=>{A=G;const rt=[];for(const ut of p){const ht=qR(ut,A.get(ut.key).overlayedDocument);ht!=null&&rt.push(new Js(ut.key,ht,K1(ht.value.mapValue),ti.exists(!0)))}return y.mutationQueue.addMutationBatch(F,_,rt,p)})).next((G=>{x=G;const rt=G.applyToLocalDocumentSet(A,Z);return y.documentOverlayCache.saveOverlays(F,G.batchId,rt)}))})).then((()=>({batchId:x.batchId,changes:sE(A)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ue(Dt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(s,l.batchId,i),await Jl(s,l.changes),await Ch(s.remoteStore)}catch(l){const c=rp(l,"Failed to persist write");i.reject(c)}}async function zE(r,t){const i=Tt(r);try{const s=await jI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await Jl(i,s,t)}catch(s){await co(s)}}function vv(r,t,i){const s=Tt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Tt(d);y.onlineState=p;let _=!1;y.queries.forEach(((b,A)=>{for(const x of A.Sa)x.va(p)&&(_=!0)})),_&&op(y)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function CC(r,t,i){const s=Tt(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new ue(dt.comparator);d=d.insert(c,$e.newNoDocument(c,vt.min()));const p=Ot().add(c),y=new wh(vt.min(),new Map,new ue(Dt),d,p);await zE(s,y),s.du=s.du.remove(c),s.Au.delete(t),cp(s)}else await vm(s.localStore,t,!1).then((()=>bm(s,t,i))).catch(co)}async function xC(r,t){const i=Tt(r),s=t.batch.batchId;try{const l=await zI(i.localStore,t);BE(i,s,null),jE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Jl(i,l)}catch(l){await co(l)}}async function NC(r,t,i){const s=Tt(r);try{const l=await(function(d,p){const y=Tt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>(Ht(A!==null,37113),b=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>y.localDocuments.getDocuments(_,b)))}))})(s.localStore,t);BE(s,t,i),jE(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Jl(s,l)}catch(l){await co(l)}}function jE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function BE(r,t,i){const s=Tt(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function bm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||qE(r,s)}))}function qE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Wm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),cp(r))}function Ev(r,t,i){for(const s of i)s instanceof UE?(r.Ru.addReference(s.key,t),DC(r,s)):s instanceof LE?(st(up,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||qE(r,s.key)):gt(19791,{wu:s})}function DC(r,t){const i=t.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(st(up,"New document in limbo: "+i),r.Eu.add(s),cp(r))}function cp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new dt(ne.fromString(t)),s=r.fu.next();r.Au.set(s,new EC(i)),r.du=r.du.insert(i,s),NE(r.remoteStore,new Qr(Ii(Eh(i.path)),s,"TargetPurposeLimboResolution",yh.ce))}}async function Jl(r,t,i){const s=Tt(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,y)=>{d.push(s.pu(y,t,i).then((_=>{if((_||i)&&s.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(_){l.push(_);const b=Jm.As(y.targetId,_);c.push(b)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(y,_){const b=Tt(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(_,(x=>J.forEach(x.Es,(F=>b.persistence.referenceDelegate.addReference(A,x.targetId,F))).next((()=>J.forEach(x.ds,(F=>b.persistence.referenceDelegate.removeReference(A,x.targetId,F)))))))))}catch(A){if(!ho(A))throw A;st(Zm,"Failed to update sequence numbers: "+A)}for(const A of _){const x=A.targetId;if(!A.fromCache){const F=b.Ms.get(x),W=F.snapshotVersion,Z=F.withLastLimboFreeSnapshotVersion(W);b.Ms=b.Ms.insert(x,Z)}}})(s.localStore,c))}async function OC(r,t){const i=Tt(r);if(!i.currentUser.isEqual(t)){st(up,"User change. New user:",t.toKey());const s=await RE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new it(K.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Jl(i,s.Ls)}}function MC(r,t){const i=Tt(r),s=i.Au.get(t);if(s&&s.hu)return Ot().add(s.key);{let l=Ot();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function HE(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=zE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=MC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CC.bind(null,t),t.Pu.H_=gC.bind(null,t.eventManager),t.Pu.yu=yC.bind(null,t.eventManager),t}function VC(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=NC.bind(null,t),t}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Rh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return PI(this.persistence,new kI,t.initialUser,this.serializer)}Cu(t){return new wE($m.mi,this.serializer)}Du(t){return new GI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class kC extends oh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof sh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new EI(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new wE((s=>sh.mi(s,i)),this.serializer)}}class Am{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>vv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=OC.bind(null,this.syncEngine),await dC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new pC})()}createDatastore(t){const i=Rh(t.databaseInfo.databaseId),s=(function(c){return new $I(c)})(t.databaseInfo);return(function(c,d,p,y){return new tC(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,p){return new nC(s,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>vv(this.syncEngine,i,0)),(function(){return dv.v()?new dv:new QI})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,b){const A=new TC(l,c,d,p,y,_);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Tt(i);st(Ys,"RemoteStore shutting down."),s.Ea.add(5),await $l(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Am.provider={build:()=>new Am};class hp{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):rr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const as="FirestoreClient";class UC{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=Pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{st(as,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(st(as,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=rp(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Zd(r,t){r.asyncQueue.verifyOperationInProgress(),st(as,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await RE(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Tv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await LC(r);st(as,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((s=>pv(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>pv(t.remoteStore,l))),r._onlineComponents=t}async function LC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(as,"Using user provided OfflineComponentProvider");try{await Zd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;eo("Error using user provided cache. Falling back to memory cache: "+i),await Zd(r,new oh)}}else st(as,"Using default OfflineComponentProvider"),await Zd(r,new kC(void 0));return r._offlineComponents}async function FE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(as,"Using user provided OnlineComponentProvider"),await Tv(r,r._uninitializedComponentsProvider._online)):(st(as,"Using default OnlineComponentProvider"),await Tv(r,new Am))),r._onlineComponents}function PC(r){return FE(r).then((t=>t.syncEngine))}async function lh(r){const t=await FE(r),i=t.eventManager;return i.onListen=bC.bind(null,t.syncEngine),i.onUnlisten=wC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=AC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=RC.bind(null,t.syncEngine),i}function zC(r,t,i={}){const s=new tr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const b=new hp({next:x=>{b.Nu(),d.enqueueAndForget((()=>ap(c,A)));const F=x.docs.has(p);!F&&x.fromCache?_.reject(new it(K.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&x.fromCache&&y&&y.source==="server"?_.reject(new it(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),A=new lp(Eh(p.path),b,{includeMetadataChanges:!0,qa:!0});return sp(c,A)})(await lh(r),r.asyncQueue,t,i,s))),s.promise}function jC(r,t,i={}){const s=new tr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const b=new hp({next:x=>{b.Nu(),d.enqueueAndForget((()=>ap(c,A))),x.fromCache&&y.source==="server"?_.reject(new it(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),A=new lp(p,b,{includeMetadataChanges:!0,qa:!0});return sp(c,A)})(await lh(r),r.asyncQueue,t,i,s))),s.promise}function GE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const bv=new Map;const QE="firestore.googleapis.com",Av=!0;class Sv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QE,this.ssl=Av}else this.host=t.host,this.ssl=t.ssl??Av;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=SE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<_I)throw new it(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}tR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GE(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new it(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new it(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new it(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xh{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new F2;switch(s.type){case"firstParty":return new K2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new it(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=bv.get(i);s&&(st("ComponentProvider","Removing Datastore"),bv.delete(i),s.terminate())})(this),Promise.resolve()}}function BC(r,t,i,s={}){r=Pn(r,xh);const l=oo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(Hv(`https://${p}`),Fv("Firestore",!0)),c.host!==QE&&c.host!==p&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:s};if(!Hs(y,d)&&(r._setSettings(y),s.mockUserToken)){let _,b;if(typeof s.mockUserToken=="string")_=s.mockUserToken,b=Xe.MOCK_USER;else{_=dA(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new it(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Xe(A)}r._authCredentials=new G2(new U1(_,b))}}class or{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new or(this.firestore,t,this._query)}}class ye{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ye(this.firestore,t,this._key)}toJSON(){return{type:ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(Yl(i,ye._jsonSchema))return new ye(t,s||null,new dt(ne.fromString(i.referencePath)))}}ye._jsonSchemaVersion="firestore/documentReference/1.0",ye._jsonSchema={type:xe("string",ye._jsonSchemaVersion),referencePath:xe("string")};class Zr extends or{constructor(t,i,s){super(t,i,Eh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ye(this.firestore,null,new dt(t))}withConverter(t){return new Zr(this.firestore,t,this._path)}}function Ji(r,t,...i){if(r=en(r),L1("collection","path",t),r instanceof xh){const s=ne.fromString(t,...i);return L0(s),new Zr(r,null,s)}{if(!(r instanceof ye||r instanceof Zr))throw new it(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...i));return L0(s),new Zr(r.firestore,null,s)}}function po(r,t,...i){if(r=en(r),arguments.length===1&&(t=Pm.newId()),L1("doc","path",t),r instanceof xh){const s=ne.fromString(t,...i);return U0(s),new ye(r,null,new dt(s))}{if(!(r instanceof ye||r instanceof Zr))throw new it(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...i));return U0(s),new ye(r.firestore,r instanceof Zr?r.converter:null,new dt(s))}}const wv="AsyncQueue";class Rv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new CE(this,"async_queue_retry"),this._c=()=>{const s=Jd();s&&st(wv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=Jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new tr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ho(t))throw t;st(wv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,rr("INTERNAL UNHANDLED ERROR: ",Iv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=ip.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:Iv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Iv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function Cv(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class os extends xh{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new Rv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Rv(t),this._firestoreClient=void 0,await t}}}function qC(r,t){const i=typeof r=="object"?r:Kv(),s=typeof r=="string"?r:Wc,l=xm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=hA("firestore");c&&BC(l,...c)}return l}function Nh(r){if(r._terminated)throw new it(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||HC(r),r._firestoreClient}function HC(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new fR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,GE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new UC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Qe.fromBase64String(t))}catch(i){throw new it(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ln(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Yl(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:xe("string",Ln._jsonSchemaVersion),bytes:xe("string")};class fp{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new it(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class dp{constructor(t){this._methodName=t}}class xi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new it(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new it(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(t){if(Yl(t,xi._jsonSchema))return new xi(t.latitude,t.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:xe("string",xi._jsonSchemaVersion),latitude:xe("number"),longitude:xe("number")};class Ni{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Yl(t,Ni._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ni(t.vectorValues);throw new it(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:xe("string",Ni._jsonSchemaVersion),vectorValues:xe("object")};const FC=/^__.*__$/;class GC{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new Js(t,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(t,this.data,i,this.fieldTransforms)}}function YE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:r})}}class mp{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new mp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return uh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(YE(this.Ac)&&FC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class QC{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Rh(t)}Cc(t,i,s,l=!1){return new mp({Ac:t,methodName:i,Dc:s,path:Ge.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pp(r){const t=r._freezeSettings(),i=Rh(r._databaseId);return new QC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function KE(r,t,i,s,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);JE("Data must be an object, but it was:",d,s);const p=XE(s,d);let y,_;if(c.merge)y=new Wn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const x=KC(t,A,i);if(!d.contains(x))throw new it(K.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);$C(b,x)||b.push(x)}y=new Wn(b),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new GC(new Un(p),y,_)}class gp extends dp{_toFieldTransform(t){return new PR(t.path,new zl)}isEqual(t){return t instanceof gp}}function YC(r,t,i,s=!1){return yp(i,r.Cc(s?4:3,t))}function yp(r,t){if($E(r=en(r)))return JE("Unsupported field value:",t,r),XE(r,t);if(r instanceof dp)return(function(s,l){if(!YE(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const p of s){let y=yp(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(s,l){if((s=en(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return kR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=se.fromDate(s);return{timestampValue:rh(l.serializer,c)}}if(s instanceof se){const c=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:rh(l.serializer,c)}}if(s instanceof xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ln)return{bytesValue:yE(l.serializer,s._byteString)};if(s instanceof ye){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Km(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Ni)return(function(d,p){return{mapValue:{fields:{[Q1]:{stringValue:Y1},[th]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Fm(p.serializer,_)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${gh(s)}`)})(r,t)}function XE(r,t){const i={};return j1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xs(r,((s,l)=>{const c=yp(l,t.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function $E(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof xi||r instanceof Ln||r instanceof ye||r instanceof dp||r instanceof Ni)}function JE(r,t,i){if(!$E(i)||!P1(i)){const s=gh(i);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function KC(r,t,i){if((t=en(t))instanceof fp)return t._internalPath;if(typeof t=="string")return ZE(r,t);throw uh("Field path arguments must be of type string or ",r,!1,void 0,i)}const XC=new RegExp("[~\\*/\\[\\]]");function ZE(r,t,i){if(t.search(XC)>=0)throw uh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new fp(...t.split("."))._internalPath}catch{throw uh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function uh(r,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new it(K.INVALID_ARGUMENT,p+r+y)}function $C(r,t){return r.some((i=>i.isEqual(t)))}class WE{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new JC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Dh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class JC extends WE{data(){return super.data()}}function Dh(r,t){return typeof t=="string"?ZE(r,t):t instanceof fp?t._internalPath:t._delegate._internalPath}function tT(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new it(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _p{}class vp extends _p{}function Oh(r,t,...i){let s=[];t instanceof _p&&s.push(t),s=s.concat(i),(function(c){const d=c.filter((y=>y instanceof Ep)).length,p=c.filter((y=>y instanceof Mh)).length;if(d>1||d>0&&p>0)throw new it(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Mh extends vp{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new Mh(t,i,s)}_apply(t){const i=this._parse(t);return iT(t._query,i),new or(t.firestore,t.converter,mm(t._query,i))}_parse(t){const i=pp(t.firestore);return(function(c,d,p,y,_,b,A){let x;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new it(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Nv(A,b);const W=[];for(const Z of A)W.push(xv(y,c,Z));x={arrayValue:{values:W}}}else x=xv(y,c,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Nv(A,b),x=YC(p,d,A,b==="in"||b==="not-in");return Ce.create(_,b,x)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function Sm(r,t,i){const s=t,l=Dh("where",r);return Mh._create(l,s,i)}class Ep extends _p{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Ep(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ei.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)iT(d,y),d=mm(d,y)})(t._query,i),new or(t.firestore,t.converter,mm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tp extends vp{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Tp(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new it(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new it(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pl(c,d)})(t._query,this._field,this._direction);return new or(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new fo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function eT(r,t="asc"){const i=t,s=Dh("orderBy",r);return Tp._create(s,i)}class bp extends vp{constructor(t,i,s){super(),this.type=t,this._limit=i,this._limitType=s}static _create(t,i,s){return new bp(t,i,s)}_apply(t){return new or(t.firestore,t.converter,nh(t._query,this._limit,this._limitType))}}function nT(r){return eR("limit",r),bp._create("limit",r,"F")}function xv(r,t,i){if(typeof(i=en(i))=="string"){if(i==="")throw new it(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eE(t)&&i.indexOf("/")!==-1)throw new it(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(ne.fromString(i));if(!dt.isDocumentKey(s))throw new it(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return G0(r,new dt(s))}if(i instanceof ye)return G0(r,i._key);throw new it(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gh(i)}.`)}function Nv(r,t){if(!Array.isArray(r)||r.length===0)throw new it(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function iT(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new it(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class ZC{convertValue(t,i="none"){switch(rs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(is(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Xs(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[th].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new Ni(i)}convertGeoPoint(t){return new xi(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=vh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(kl(t));default:return null}}convertTimestamp(t){const i=ns(t);return new se(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=ne.fromString(t);Ht(AE(s),9688,{name:t});const l=new Ul(s.get(1),s.get(3)),c=new dt(s.popFirst(5));return l.isEqual(i)||rr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function rT(r,t,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,s}class wl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Bs extends WE{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(Dh("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Bs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bs._jsonSchema={type:xe("string",Bs._jsonSchemaVersion),bundleSource:xe("string","DocumentSnapshot"),bundleName:xe("string"),bundle:xe("string")};class Hc extends Bs{data(t={}){return super.data(t)}}class qs{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new wl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new Hc(this._firestore,this._userDataWriter,s.key,s,new wl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Hc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new wl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Hc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new wl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:WC(p.type),doc:y,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=qs._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function WC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}function tx(r){r=Pn(r,ye);const t=Pn(r.firestore,os);return zC(Nh(t),r._key).then((i=>oT(t,r,i)))}qs._jsonSchemaVersion="firestore/querySnapshot/1.0",qs._jsonSchema={type:xe("string",qs._jsonSchemaVersion),bundleSource:xe("string","QuerySnapshot"),bundleName:xe("string"),bundle:xe("string")};class Ap extends ZC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ye(this.firestore,null,i)}}function Sp(r){r=Pn(r,or);const t=Pn(r.firestore,os),i=Nh(t),s=new Ap(t);return tT(r._query),jC(i,r._query).then((l=>new qs(t,s,r,l)))}function sT(r,t,i){r=Pn(r,ye);const s=Pn(r.firestore,os),l=rT(r.converter,t,i);return Rp(s,[KE(pp(s),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,ti.none())])}function aT(r){return Rp(Pn(r.firestore,os),[new Gm(r._key,ti.none())])}function Wd(r,t){const i=Pn(r.firestore,os),s=po(r),l=rT(r.converter,t);return Rp(i,[KE(pp(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,ti.exists(!1))]).then((()=>s))}function wp(r,...t){r=en(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||Cv(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Cv(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof ye)d=Pn(r.firestore,os),p=Eh(r._key.path),c={next:y=>{t[s]&&t[s](oT(d,r,y))},error:t[s+1],complete:t[s+2]};else{const y=Pn(r,or);d=Pn(y.firestore,os),p=y._query;const _=new Ap(d);c={next:b=>{t[s]&&t[s](new qs(d,_,y,b))},error:t[s+1],complete:t[s+2]},tT(r._query)}return(function(_,b,A,x){const F=new hp(x),W=new lp(b,F,A);return _.asyncQueue.enqueueAndForget((async()=>sp(await lh(_),W))),()=>{F.Nu(),_.asyncQueue.enqueueAndForget((async()=>ap(await lh(_),W)))}})(Nh(d),p,l,c)}function Rp(r,t){return(function(s,l){const c=new tr;return s.asyncQueue.enqueueAndForget((async()=>IC(await PC(s),l,c))),c.promise})(Nh(r),t)}function oT(r,t,i){const s=i.docs.get(t._key),l=new Ap(r);return new Bs(r,l,t._key,s,new wl(i.hasPendingWrites,i.fromCache),t.converter)}function Ol(){return new gp("serverTimestamp")}(function(t,i=!0){(function(l){uo=l})(lo),Wa(new Fs("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new os(new Q2(s.getProvider("auth-internal")),new X2(d,s.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new it(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(_.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Xr(O0,M0,t),Xr(O0,M0,"esm2020")})();const ex=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nx=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,s)=>s?s.toUpperCase():i.toLowerCase()),Dv=r=>{const t=nx(r);return t.charAt(0).toUpperCase()+t.slice(1)},lT=(...r)=>r.filter((t,i,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===i).join(" ").trim(),ix=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var rx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sx=mt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...p},y)=>mt.createElement("svg",{ref:y,...rx,width:t,height:t,stroke:r,strokeWidth:s?Number(i)*24/Number(t):i,className:lT("lucide",l),...!c&&!ix(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,b])=>mt.createElement(_,b)),...Array.isArray(c)?c:[c]]));const nn=(r,t)=>{const i=mt.forwardRef(({className:s,...l},c)=>mt.createElement(sx,{ref:c,iconNode:t,className:lT(`lucide-${ex(Dv(r))}`,`lucide-${r}`,s),...l}));return i.displayName=Dv(r),i};const ax=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ov=nn("arrow-right",ax);const ox=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],uT=nn("book",ox);const lx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],cT=nn("circle-alert",lx);const ux=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cx=nn("circle-check",ux);const hx=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],fx=nn("graduation-cap",hx);const dx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Wr=nn("loader-circle",dx);const mx=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],px=nn("menu",mx);const gx=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],yx=nn("refresh-cw",gx);const _x=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],hT=nn("send",_x);const vx=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ex=nn("sparkles",vx);const Tx=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],bx=nn("star",Tx);const Ax=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],wm=nn("trash-2",Ax);const Sx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],wx=nn("users",Sx);const Rx=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Ix=nn("volume-2",Rx);const Cx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Mv=nn("x",Cx),Vh=({className:r,style:t})=>V.jsxs("svg",{viewBox:"0 0 100 100",className:r,style:t,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[V.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"6",fill:"none"}),V.jsx("text",{x:"50",y:"72",fontSize:"55",textAnchor:"middle",fill:"currentColor",fontFamily:"sans-serif",fontWeight:"900",children:"P"})]}),xx=r=>{const t=["#ffadad","#ffd6a5","#fdffb6","#caffbf","#9bf6ff","#a0c4ff","#bdb2ff","#ffc6ff"];let i=0;if(!r)return t[0];for(let s=0;s<r.length;s++)i=r.charCodeAt(s)+((i<<5)-i);return t[Math.abs(i)%t.length]},ch=({url:r,name:t,size:i=40,className:s=""})=>r?V.jsx("img",{src:r,alt:t,className:`avatar-img ${s}`,style:{width:i,height:i,borderRadius:"50%",objectFit:"cover"}}):V.jsx("div",{className:`avatar-placeholder ${s}`,style:{width:i,height:i,borderRadius:"50%",background:xx(t),color:"#111",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:i*.4},children:t?t[0].toUpperCase():"?"}),Nx={apiKey:"AIzaSyD9Re5PPlvlqbDSu2zaDtL8qP5I98OUfCE",authDomain:"poly-ch.firebaseapp.com",projectId:"poly-ch",storageBucket:"poly-ch.firebasestorage.app",messagingSenderId:"903667685982",appId:"1:903667685982:web:18d709a19d18f9c5fcf2cf"},fT=Yv(Nx),Vv=q2(fT),fn=qC(fT),dn="poly-local-dev",Za=[{code:"en-US",name:"English",flag:""},{code:"es-ES",name:"Spanish",flag:""},{code:"fr-FR",name:"French",flag:""},{code:"de-DE",name:"German",flag:""},{code:"ja-JP",name:"Japanese",flag:""},{code:"ko-KR",name:"Korean",flag:""},{code:"zh-CN",name:"Chinese",flag:""},{code:"ru-RU",name:"Russian",flag:""},{code:"it-IT",name:"Italian",flag:""},{code:"pt-BR",name:"Portuguese",flag:""},{code:"hi-IN",name:"Hindi",flag:""}],kh="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent",Dx="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-tts:generateContent",Zl="AIzaSyCB0gwNqm5g20dWZ7lUAMyeso5svx6onGw",Ox=async(r,t)=>{if(!r||!r.trim()||t==="English")return{translated:r,error:null};try{const i=await fetch(`${kh}?key=${Zl}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`Translate to ${t}. Output ONLY text: "${r}"`}]}]})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return{translated:(await i.json()).candidates?.[0]?.content?.parts?.[0]?.text?.trim()||r,error:null}}catch(i){return console.error("Translation API Error:",i),{translated:r,error:"Translation service failed."}}},Mx=async r=>{if(!r||!r.trim())return{result:"",error:null};try{const t=await fetch(`${kh}?key=${Zl}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`Define "${r}" in English. Format: [Part of Speech] Definition. Max 20 words. No asterisks.`}]}]})});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return{result:(await t.json()).candidates?.[0]?.content?.parts?.[0]?.text?.trim()||"No definition found.",error:null}}catch(t){return console.error("Definition API Error:",t),{result:"Could not load definition.",error:"Definition service failed."}}},Vx=async(r,t)=>{try{const i=await fetch(`${kh}?key=${Zl}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`Analyze sentence in ${t}: "${r}". If grammar error, return JSON: { "hasError": true, "correction": "Fixed sentence", "reason": "Brief explanation in English (5 words)" }. Else { "hasError": false }.`}]}],generationConfig:{responseMimeType:"application/json"}})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const s=await i.json();return{...JSON.parse(s.candidates?.[0]?.content?.parts?.[0]?.text),error:null}}catch(i){return console.error("Grammar Check API Error:",i),{hasError:!1,error:"Grammar check failed."}}},kx=async(r,t,i,s)=>{try{const l=`You are Poly. Chat with ${t}. Use the following context: ${s}. User said: "${r}". Lang: ${i}. Reply in English first, then translate to ${i}. Return JSON: { "english": "...", "target": "..." }`,c=await fetch(`${kh}?key=${Zl}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:l}]}],generationConfig:{responseMimeType:"application/json"}})});if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const d=await c.json();return{response:JSON.parse(d.candidates?.[0]?.content?.parts?.[0]?.text),error:null}}catch(l){return console.error("AI Response API Error:",l),{response:null,error:"AI failed to generate response."}}},Ux=async(r,t)=>{try{const i=await fetch(`${Dx}?key=${Zl}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:r}]}],generationConfig:{responseModalities:["AUDIO"],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}}}})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const s=await i.json();if(s.candidates?.[0]?.content?.parts?.[0]?.inlineData){const l=window.atob(s.candidates[0].content.parts[0].inlineData.data),c=new Uint8Array(l.length);for(let _=0;_<l.length;_++)c[_]=l.charCodeAt(_);const d=new ArrayBuffer(44+c.length),p=new DataView(d),y=(_,b,A)=>{for(let x=0;x<A.length;x++)_.setUint8(b+x,A.charCodeAt(x))};y(p,0,"RIFF"),p.setUint32(4,36+c.length,!0),y(p,8,"WAVE"),y(p,12,"fmt "),p.setUint32(16,16,!0),p.setUint16(20,1,!0),p.setUint16(22,1,!0),p.setUint32(24,24e3,!0),p.setUint32(28,48e3,!0),p.setUint16(32,2,!0),p.setUint16(34,16,!0),y(p,36,"data"),p.setUint32(40,c.length,!0),new Uint8Array(d,44).set(c),new Audio(URL.createObjectURL(new Blob([d],{type:"audio/wav"}))).play()}}catch(i){console.error("TTS API Error, falling back to browser TTS:",i);const s=new SpeechSynthesisUtterance(r);s.lang=t,window.speechSynthesis.speak(s)}},Lx=`
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

  * { box-sizing: border-box; }
  body { margin: 0; padding: 0; font-family: 'Inter', sans-serif; background: #f0f2f5; color: #111827; }
  button { cursor: pointer; border: none; background: none; font-family: inherit; }
  input, select, textarea { font-family: inherit; }
  
  /* Layout */
  .app-container { display: flex; height: 100vh; width: 100vw; overflow: hidden; background: linear-gradient(135deg, #f0f9ff 0%, #f0fdf4 100%); }
  /* Fix: main-area needs to prevent overflow to allow children to scroll properly */
  .main-area { flex: 1; display: flex; flex-direction: column; position: relative; min-width: 0; background: linear-gradient(to bottom, #ffffff 0%, #f9fafb 100%); height: 100%; box-shadow: -2px 0 10px rgba(0,0,0,0.02); }
  
  /* Sidebar */
  .sidebar { width: 300px; border-right: 1px solid #e5e7eb; display: flex; flex-direction: column; background: #ffffff; height: 100%; z-index: 50; transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 2px 0 15px rgba(0,0,0,0.03); }
  .sidebar.closed { margin-left: -300px; } 
  .sidebar-mobile-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 40; backdrop-filter: blur(4px); animation: fadeIn 0s cubic-bezier(0.1, 0.9, 0.2, 1); }
  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  
  .sidebar-header { height: 70px; display: flex; align-items: center; padding: 0 24px; font-size: 1.3rem; font-weight: 800; background: linear-gradient(135deg, #059669 0%, #047857 100%); color: white; letter-spacing: -0.5px; box-shadow: 0 2px 8px rgba(5, 150, 105, 0.15); }
  .sidebar-content { flex: 1; overflow-y: auto; padding: 16px; }
  .sidebar-section { font-size: 0.7rem; font-weight: 700; color: #9ca3af; text-transform: uppercase; margin: 24px 12px 8px; letter-spacing: 0.8px; }
  .sidebar-footer { padding: 20px; border-top: 1px solid #f3f4f6; display: flex; align-items: center; gap: 12px; background: linear-gradient(to bottom, #f9fafb, #ffffff); }
  
  /* Nav Buttons */
  .nav-btn { width: 100%; display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-radius: 12px; margin-bottom: 4px; text-align: left; transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1); color: #4b5563; font-weight: 500; position: relative; overflow: hidden; }
  .nav-btn::before { content: ''; position: absolute; inset: 0; background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%); opacity: 0; transition: opacity 0.2s; border-radius: 12px; }
  .nav-btn:hover { background: #f9fafb; color: #111; transform: translateX(4px); }
  .nav-btn.active { background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%); color: #059669; font-weight: 600; box-shadow: 0 2px 8px rgba(5, 150, 105, 0.1); }
  .nav-btn.active::before { opacity: 1; }
  .nav-content { display: flex; align-items: center; gap: 12px; position: relative; z-index: 1; }
  .nav-icon { width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; border-radius: 10px; background: #f3f4f6; color: #666; font-size: 0.8rem; font-weight: bold; flex-shrink: 0; transition: all 0.2s; }
  .nav-btn.active .nav-icon { background: linear-gradient(135deg, #059669 0%, #047857 100%); color: #fff; box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3); }
  .nav-btn:hover .nav-icon { background: #e5e7eb; }
  .delete-icon { opacity: 0; transition: all 0.2s; color: #ef4444; padding: 6px; border-radius: 8px; z-index: 2; position: relative; }
  .delete-icon:hover { background: #fee2e2; transform: scale(1.1); }
  .nav-btn:hover .delete-icon { opacity: 1; }

  /* Headers */
  .header { height: 70px; border-bottom: 1px solid #e5e7eb; display: flex; align-items: center; justify-content: space-between; padding: 0 24px; background: white; z-index: 10; box-shadow: 0 1px 3px rgba(0,0,0,0.04); flex-shrink: 0; backdrop-filter: blur(10px); }
  .header-title { font-weight: 700; font-size: 1.15rem; display: flex; align-items: center; gap: 10px; color: #1f2937; }
  .menu-btn { color: #6b7280; margin-right: 16px; transition: color 0.2s; }
  .menu-btn:hover { color: #059669; }
  
  /* Language Selector */
  .lang-container { position: relative; }
  .lang-btn { display: flex; align-items: center; gap: 8px; padding: 10px 18px; border: 1.5px solid #e5e7eb; border-radius: 99px; background: #ffffff; font-size: 0.9rem; font-weight: 600; transition: all 0.2s; color: #374151; box-shadow: 0 2px 4px rgba(0,0,0,0.04); }
  .lang-btn:hover { border-color: #059669; background: #f9fafb; box-shadow: 0 4px 8px rgba(5, 150, 105, 0.1); transform: translateY(-1px); }
  .lang-menu { position: absolute; top: 120%; right: 0; width: 220px; background: white; border: 1px solid #e5e7eb; border-radius: 16px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); overflow: hidden; z-index: 60; max-height: 320px; overflow-y: auto; animation: slideDown 0.2s ease; }
  @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
  .lang-option { width: 100%; padding: 12px 20px; text-align: left; display: flex; align-items: center; gap: 12px; font-size: 0.9rem; color: #374151; transition: all 0.15s; font-weight: 500; }
  .lang-option:hover { background: linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%); color: #059669; }
  
  /* Lobby/Search Grid */
  .lobby-view { padding: 40px; overflow-y: auto; flex: 1; width: 100%; background: linear-gradient(to bottom, #ffffff, #f9fafb); }
  .lobby-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 24px; width: 100%; }
  .lobby-card { padding: 28px; border-radius: 24px; background: white; border: 1.5px solid #f3f4f6; box-shadow: 0 4px 6px rgba(0,0,0,0.02), 0 1px 3px rgba(0,0,0,0.01); transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); cursor: pointer; display: flex; flex-direction: column; position: relative; overflow: hidden; }
  .lobby-card::before { content: ''; position: absolute; inset: 0; background: linear-gradient(135deg, rgba(5, 150, 105, 0.03) 0%, rgba(16, 185, 129, 0.03) 100%); opacity: 0; transition: opacity 0.3s; }
  .lobby-card:hover { transform: translateY(-6px); box-shadow: 0 20px 40px rgba(0,0,0,0.08), 0 8px 16px rgba(0,0,0,0.04); border-color: #d1fae5; }
  .lobby-card:hover::before { opacity: 1; }
  .card-header { display: flex; justify-content: space-between; margin-bottom: 16px; position: relative; z-index: 1; }
  .card-badge { font-size: 0.7rem; font-weight: 700; background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%); color: #059669; padding: 6px 12px; border-radius: 99px; height: fit-content; display: flex; align-items: center; gap: 4px; box-shadow: 0 2px 4px rgba(5, 150, 105, 0.15); }
  .card-title { font-size: 1.3rem; font-weight: 700; margin: 0 0 6px 0; color: #111; position: relative; z-index: 1; }
  .card-subtitle { font-size: 0.9rem; color: #6b7280; display: flex; align-items: center; gap: 6px; position: relative; z-index: 1; }
  .card-meta { margin-top: auto; padding-top: 20px; font-size: 0.85rem; display: flex; flex-direction: column; gap: 10px; color: #4b5563; border-top: 1.5px solid #f3f4f6; position: relative; z-index: 1; }
  .meta-row { display: flex; align-items: center; gap: 8px; }
  .meta-label { font-weight: 700; color: #9ca3af; font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.5px; }
  
  /* Chat Area */
  /* Fix: Ensure chat view takes up exactly the available height and doesn't push out */
  .chat-view { flex: 1; display: flex; flex-direction: column; height: 100%; width: 100%; background: #fff; overflow: hidden; min-height: 0; position: relative; }
  .chat-messages { flex: 1; overflow-y: auto; padding: 28px; display: flex; flex-direction: column; gap: 16px; background: linear-gradient(to bottom, #fafafa, #ffffff); }
  .load-more-btn { width: 100%; padding: 10px; font-size: 0.85rem; color: #9ca3af; display: flex; justify-content: center; align-items: center; gap: 8px; transition: all 0.2s; border-radius: 12px; font-weight: 500; }
  .load-more-btn:hover { color: #059669; background: #f9fafb; }
  
  .msg-row { display: flex; width: 100%; gap: 12px; align-items: flex-end; margin-bottom: 4px; animation: slideUp 0.3s ease; }
  @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
  .msg-row.me { justify-content: flex-end; }
  .msg-avatar { width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: bold; background: #f4f4f5; color: #666; flex-shrink: 0; box-shadow: 0 2px 4px rgba(0,0,0,0.08); }
  
  /* BUBBLES - Enhanced WhatsApp Style */
  .msg-bubble { max-width: 75%; padding: 12px 16px; border-radius: 16px; position: relative; font-size: 0.95rem; line-height: 1.5; box-shadow: 0 2px 8px rgba(0,0,0,0.08); transition: all 0.2s; }
  .msg-bubble:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.12); transform: translateY(-1px); }
  .msg-row.me .msg-bubble { background: linear-gradient(135deg, #dcfce7 0%, #d9fdd3 100%); color: #111; border-top-right-radius: 4px; border: 1px solid #bbf7d0; }
  .msg-row.them .msg-bubble { background: #ffffff; color: #111; border: 1px solid #e5e7eb; border-top-left-radius: 4px; }
  
  .msg-meta { display: flex; align-items: center; justify-content: flex-end; margin-top: 6px; font-size: 0.7rem; opacity: 0.65; gap: 10px; }
  .msg-btn { cursor: pointer; opacity: 0.6; transition: all 0.2s; padding: 4px; border-radius: 6px; display: flex; align-items: center; }
  .msg-btn:hover { opacity: 1; background: rgba(0,0,0,0.05); transform: scale(1.1); }
  .correction-btn { position: absolute; top: -20px; right: -10px; background: #ffffff; color: #d97706; border: 1px solid #fcd34d; padding: 4px; border-radius: 50%; cursor: pointer; box-shadow: 0 4px 8px rgba(217, 119, 6, 0.2); z-index: 0; transition: all 0.2s; }
  .msg-row.me .correction-btn { left: -10px; right: auto; }
  .correction-btn:hover { transform: scale(1.15); box-shadow: 0 6px 12px rgba(217, 119, 6, 0.3); }
  
  /* Popup */
  .popup { position: absolute; background: white; border-radius: 20px; padding: 24px; width: 300px; box-shadow: 0 20px 50px rgba(0,0,0,0.15), 0 10px 25px rgba(0,0,0,0.1); z-index: 100; font-size: 0.9rem; border: 1.5px solid #f3f4f6; color: #374151; animation: popIn 0.2s cubic-bezier(0.4, 0, 0.2, 1); }
  @keyframes popIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
  .popup-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; padding-bottom: 14px; border-bottom: 1.5px solid #f3f4f6; }
  .popup-title { font-weight: 700; font-size: 0.75rem; text-transform: uppercase; color: #9ca3af; display: flex; align-items: center; gap: 8px; letter-spacing: 0.5px; }
  .popup-close { color: #9ca3af; cursor: pointer; transition: all 0.2s; padding: 4px; border-radius: 6px; }
  .popup-close:hover { color: #111; background: #f3f4f6; }
  .popup-btn { width: 100%; margin-top: 16px; padding: 12px; background: linear-gradient(135deg, #059669 0%, #047857 100%); color: white; border-radius: 12px; font-size: 0.9rem; font-weight: 600; display: flex; align-items: center; justify-content: center; gap: 8px; transition: all 0.2s; box-shadow: 0 4px 12px rgba(5, 150, 105, 0.2); }
  .popup-btn:hover { opacity: 0.95; transform: translateY(-2px); box-shadow: 0 6px 16px rgba(5, 150, 105, 0.3); }

  /* Input Area */
  /* Fix: Flex-shrink 0 keeps it from collapsing, sticky positioning ensures it stays put */
  .input-area { padding: 20px 24px; background: linear-gradient(to bottom, #f9fafb, #ffffff); display: flex; flex-direction: column; gap: 16px; border-top: 1.5px solid #e5e7eb; flex-shrink: 0; box-shadow: 0 -2px 10px rgba(0,0,0,0.02); }
  .input-toggles { display: flex; justify-content: center; gap: 12px; margin-bottom: 8px; }
  .toggle-btn { padding: 10px 20px; border-radius: 99px; font-size: 0.85rem; font-weight: 600; border: 1.5px solid #e5e7eb; color: #6b7280; background: #fff; transition: all 0.2s; }
  .toggle-btn:hover { border-color: #d1d5db; background: #f9fafb; }
  .toggle-btn.active { background: linear-gradient(135deg, #059669 0%, #047857 100%); color: white; border-color: #059669; box-shadow: 0 4px 12px rgba(5, 150, 105, 0.25); transform: translateY(-2px); }
  
  .input-wrapper { display: flex; gap: 12px; background: white; padding: 10px; border-radius: 28px; box-shadow: 0 4px 12px rgba(0,0,0,0.06); align-items: flex-end; position: relative; border: 1.5px solid #e5e7eb; transition: all 0.2s; }
  .input-wrapper:focus-within { border-color: #059669; box-shadow: 0 6px 16px rgba(5, 150, 105, 0.15); }
  .chat-input { flex: 1; padding: 12px 16px; border: none; outline: none; font-size: 1rem; max-height: 120px; resize: none; background: transparent; color: #000; width: 100%; line-height: 1.5; }
  .send-btn { width: 50px; height: 50px; border-radius: 50%; background: linear-gradient(135deg, #059669 0%, #047857 100%); color: white; display: flex; align-items: center; justify-content: center; transition: all 0.2s; flex-shrink: 0; box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3); }
  .send-btn:hover:not(:disabled) { transform: scale(1.08); box-shadow: 0 6px 16px rgba(5, 150, 105, 0.4); }
  .send-btn:disabled { background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%); cursor: default; box-shadow: none; }
  
  .mic-btn { padding: 10px; color: #9ca3af; cursor: pointer; transition: all 0.2s; border-radius: 10px; }
  .mic-btn:hover { color: #059669; background: #f0fdf4; }
  
  .status-indicator { position: absolute; right: 16px; top: 50%; transform: translateY(-50%); font-size: 0.75rem; color: #059669; background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%); padding: 6px 14px; border-radius: 99px; display: flex; align-items: center; gap: 6px; font-weight: 600; box-shadow: 0 2px 6px rgba(5, 150, 105, 0.15); }
  
  .checking-bubble { background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); color: #92400e; padding: 8px 16px; border-radius: 16px; font-size: 0.8rem; margin: 0 auto; width: fit-content; box-shadow: 0 4px 8px rgba(217, 119, 6, 0.15); border: 1.5px solid #fde68a; display: flex; align-items: center; gap: 8px; font-weight: 600; }

  /* Notebook */
  .notebook-view { padding: 40px; overflow-y: auto; flex: 1; background: linear-gradient(to bottom, #fffbeb, #fefce8); }
  .notebook-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 24px; }
  .vocab-card { background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%); border: 1.5px solid #fde68a; border-radius: 20px; padding: 24px; position: relative; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 0 4px 6px rgba(217, 119, 6, 0.08); }
  .vocab-card:hover { transform: translateY(-4px); box-shadow: 0 12px 24px rgba(217, 119, 6, 0.15); border-color: #fcd34d; }
  .vocab-word { font-size: 1.3rem; font-weight: 700; margin-bottom: 8px; color: #111; }
  .vocab-def { font-size: 0.95rem; color: #4b5563; line-height: 1.6; }
  .vocab-meta { margin-top: 20px; padding-top: 16px; border-top: 1.5px dashed #fde68a; display: flex; justify-content: space-between; align-items: center; font-size: 0.75rem; color: #9ca3af; font-weight: 500; }
  .vocab-delete { cursor: pointer; color: #ef4444; padding: 6px; border-radius: 8px; transition: all 0.2s; }
  .vocab-delete:hover { background: #fee2e2; transform: scale(1.1); }

  @media (max-width: 768px) {
    .sidebar { position: fixed; box-shadow: 10px 0 30px rgba(0,0,0,0.15); }
    .input-area { padding: 16px; }
    .msg-bubble { max-width: 85%; }
    .header-title { font-size: 1rem; }
    .lobby-view { padding: 24px; }
    .notebook-view { padding: 24px; }
    .hidden-md { display: flex; }
    .desktop-header { display: none; }
    .mobile-menu-btn { display: block; } /* VISIBLE ON MOBILE */
  }
  @media (min-width: 769px) {
    .sidebar { position: relative; margin-left: 0 !important; }
    .sidebar.closed { margin-left: 0; }
    .mobile-header { display: none; }
    .desktop-header { display: flex; }
    .mobile-menu-btn { display: none; }
  }
  .spin { animation: spin 1s linear infinite; }
  @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
  
  /* Custom Scrollbar */
  ::-webkit-scrollbar { width: 8px; height: 8px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 99px; }
  ::-webkit-scrollbar-thumb:hover { background: #9ca3af; }
`,Px=r=>{const[t,i]=mt.useState(!1),[s,l]=mt.useState(null);return mt.useEffect(()=>{if(!r||r==="ai"||r==="notebook"||r==="user-search"){i(!0);return}const c=po(fn,"artifacts",dn,"public","data","users",r),d=wp(c,p=>{if(p.exists()){const y=p.data();l(y);const _=y.lastActive?.toDate().getTime();i(_?Date.now()-_<3e5:!1)}else i(!1)});return()=>d()},[r]),{isOnline:t,partnerData:s}};function zx(){const[r,t]=mt.useState(null),[i,s]=mt.useState(!0),[l,c]=mt.useState(null),[d,p]=mt.useState(window.location.hash.replace("#","")||"login");return mt.useEffect(()=>{const y=()=>p(window.location.hash.replace("#","")||"login");return window.addEventListener("hashchange",y),()=>window.removeEventListener("hashchange",y)},[]),mt.useEffect(()=>((async()=>{await Aw(Vv),s(!1)})(),Dw(Vv,async _=>{if(t(_),_){const b=await tx(po(fn,"artifacts",dn,"public","data","users",_.uid));b.exists()&&c(b.data())}})),[]),mt.useEffect(()=>{i||(r?.displayName&&l?d==="login"&&(window.location.hash="user-search"):d!=="login"&&(window.location.hash="login"))},[r,i,d,l]),i?V.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#fff"},children:V.jsx(Wr,{className:"spin",color:"#059669",size:32})}):V.jsxs(V.Fragment,{children:[V.jsx("style",{children:Lx}),r?.displayName&&l?V.jsx(Bx,{user:r,userData:l}):V.jsx(jx,{user:r})]})}function jx({user:r}){const[t,i]=mt.useState(""),[s,l]=mt.useState("Spanish"),[c,d]=mt.useState(""),[p,y]=mt.useState(!1),[_,b]=mt.useState(""),A=async x=>{if(x.preventDefault(),!!t.trim()){b(""),y(!0);try{const F=Oh(Ji(fn,"artifacts",dn,"public","data","users"),Sm("displayName","==",t.trim()));if(!(await Sp(F)).empty){b("Username taken."),y(!1);return}await Cw(r,{displayName:t.trim(),photoURL:c}),await sT(po(fn,"artifacts",dn,"public","data","users",r.uid),{displayName:t.trim(),nativeLang:"English",targetLang:s,photoUrl:c,lastActive:Ol(),userId:r.uid}),window.location.hash="user-search",window.location.reload()}catch{b("Error joining.")}y(!1)}};return V.jsx("div",{style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",padding:20,background:"#f0f2f5"},children:V.jsxs("div",{style:{width:"100%",maxWidth:"440px",padding:40,background:"white",borderRadius:24,boxShadow:"0 20px 40px -10px rgba(0,0,0,0.1)"},children:[V.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:20,color:"#059669"},children:V.jsx(Vh,{style:{width:64,height:64}})}),V.jsx("h1",{style:{fontSize:"2rem",fontWeight:800,marginBottom:8,textAlign:"center",color:"#111"},children:"Poly Chat"}),V.jsx("p",{style:{color:"#6b7280",marginBottom:32,textAlign:"center"},children:"Chat without barriers"}),V.jsxs("form",{onSubmit:A,style:{display:"flex",flexDirection:"column",gap:20},children:[V.jsxs("div",{children:[V.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:700,color:"#9ca3af",marginBottom:6,textTransform:"uppercase"},children:"Display Name"}),V.jsx("input",{className:"chat-input",value:t,onChange:x=>i(x.target.value),placeholder:"e.g. Alex",style:{width:"100%",border:"1px solid #e5e7eb",borderRadius:12}})]}),V.jsxs("div",{children:[V.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:700,color:"#9ca3af",marginBottom:6,textTransform:"uppercase"},children:"I'm Learning"}),V.jsx("select",{className:"chat-input",value:s,onChange:x=>l(x.target.value),style:{width:"100%",border:"1px solid #e5e7eb",borderRadius:12},children:Za.map(x=>V.jsxs("option",{value:x.name,children:[x.flag," ",x.name]},x.name))})]}),_&&V.jsxs("p",{style:{color:"#ef4444",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:6},children:[V.jsx(cT,{size:14})," ",_]}),V.jsx("button",{className:"send-btn",style:{width:"100%",borderRadius:12,fontWeight:700,fontSize:"1rem",height:50},disabled:p||!t.trim(),children:p?V.jsx(Wr,{className:"spin"}):"Join"})]})]})})}function Bx({user:r,userData:t}){const[i,s]=mt.useState(()=>JSON.parse(localStorage.getItem("poly_channels")||'["user-search"]')),[l,c]=mt.useState("user-search"),[d,p]=mt.useState(!1),[y,_]=mt.useState(t.targetLang||"Spanish"),[b,A]=mt.useState(Za.find(G=>G.name===(t.targetLang||"Spanish"))?.code||"es-ES");mt.useEffect(()=>localStorage.setItem("poly_channels",JSON.stringify(i)),[i]),mt.useEffect(()=>{const G=async()=>{try{await sT(po(fn,"artifacts",dn,"public","data","users",r.uid),{lastActive:Ol()},{merge:!0})}catch{}};G();const rt=setInterval(G,6e4);return()=>clearInterval(rt)},[r]);const x=(G,rt)=>{if(G==="ai"){c("ai"),p(!1);return}const ut=`dm_${[r.uid,G].sort().join("_")}`;i.some(ht=>ht.id===ut)||s(ht=>[...ht,{id:ut,name:rt,isDm:!0}]),c(ut),p(!1)},F=G=>{window.confirm("Delete chat?")&&(s(rt=>rt.filter(ut=>ut.id!==G)),l===G&&c("user-search"))},W=async()=>{if(window.confirm("Reset AI history?")){const G=Ji(fn,"artifacts",dn,"users",r.uid,"ai_messages");(await Sp(G)).forEach(ut=>aT(ut.ref)),l==="ai"&&alert("Chat reset.")}},Z=G=>{if(G==="user-search")return"Find User";if(G==="ai")return"Poly";if(G==="notebook")return"My Notebook";const rt=i.find(ut=>ut.id===G);return rt?rt.name:""};return V.jsxs("div",{className:"app-container",children:[V.jsxs("div",{className:`sidebar ${d?"open":"closed"} mobile-sidebar`,children:[V.jsxs("div",{className:"sidebar-content",children:[V.jsx("div",{className:"sidebar-section",children:"Explore"}),V.jsx("button",{className:`nav-btn ${l==="user-search"?"active":""}`,onClick:()=>{c("user-search"),p(!1)},children:V.jsxs("div",{className:"nav-content",children:[V.jsx("div",{className:"nav-icon",children:V.jsx(wx,{size:16})})," Find User"]})}),V.jsxs("button",{className:`nav-btn ${l==="ai"?"active":""}`,onClick:()=>{c("ai"),p(!1)},children:[V.jsxs("div",{className:"nav-content",children:[V.jsx("div",{className:"nav-icon",children:V.jsx(Vh,{size:16})})," Poly"]}),V.jsx("div",{className:"delete-icon",onClick:G=>{G.stopPropagation(),W()},title:"Reset AI Chat",children:V.jsx(wm,{size:14})})]}),V.jsx("button",{className:`nav-btn ${l==="notebook"?"active":""}`,onClick:()=>{c("notebook"),p(!1)},children:V.jsxs("div",{className:"nav-content",children:[V.jsx("div",{className:"nav-icon",children:V.jsx(uT,{size:16})})," Notebook"]})}),V.jsx("div",{className:"sidebar-section",children:"Chats"}),i.filter(G=>G.isDm).map(G=>V.jsxs("button",{className:`nav-btn ${l===G.id?"active":""}`,onClick:()=>{c(G.id),p(!1)},children:[V.jsxs("div",{className:"nav-content",children:[V.jsx(ch,{name:G.name,size:32})," ",V.jsx("span",{style:{marginLeft:8},children:G.name})]}),V.jsx("div",{className:"delete-icon",onClick:rt=>{rt.stopPropagation(),F(G.id)},children:V.jsx(wm,{size:14})})]},G.id))]}),V.jsxs("div",{className:"sidebar-footer",children:[V.jsx(ch,{url:r.photoURL,name:r.displayName,size:36}),V.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[V.jsx("p",{style:{fontSize:"0.85rem",fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",margin:0},children:r.displayName}),V.jsx("p",{style:{fontSize:"0.7rem",color:"#9ca3af",margin:0},children:t.targetLang})]})]})]}),d&&V.jsx("div",{className:"sidebar-mobile-overlay",onClick:()=>p(!1)}),V.jsxs("div",{className:"main-area",children:[V.jsxs("div",{className:"header mobile-header",children:[V.jsxs("div",{className:"header-title",children:[V.jsx("button",{onClick:()=>p(!0),className:"menu-btn mobile-menu-btn",children:V.jsx(px,{size:24})}),Z(l),(l.startsWith("dm_")||l=="ai")&&V.jsx(kv,{channelId:l,userUid:r.uid})]}),l!=="notebook"&&l!=="user-search"&&V.jsx(Uv,{current:y,onChange:(G,rt)=>{_(G),A(rt)}})]}),l!=="user-search"&&l!=="notebook"&&V.jsxs("div",{className:"header desktop-header",children:[V.jsxs("div",{className:"header-title",children:[Z(l),(l.startsWith("dm_")||l=="ai")&&V.jsx(kv,{channelId:l,userUid:r.uid})]}),l!=="notebook"&&V.jsx(Uv,{current:y,onChange:(G,rt)=>{_(G),A(rt)}})]}),l==="user-search"?V.jsx(qx,{user:r,onStartDM:x}):l==="notebook"?V.jsx(Hx,{user:r}):V.jsx(Gx,{user:r,channelId:l,targetLang:y,targetLangCode:b},l)]})]})}function kv({channelId:r,userUid:t}){const i=r.replace("dm_","").split("_").find(l=>l!==t),{isOnline:s}=Px(i);return s?V.jsxs("span",{style:{fontSize:"0.8rem",color:"#059669",marginLeft:10,display:"flex",alignItems:"center",gap:4},children:[V.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:"#059669"}})," Online"]}):null}function Uv({current:r,onChange:t}){const[i,s]=mt.useState(!1),l=Za.find(c=>c.name===r)||Za[0];return V.jsxs("div",{className:"lang-container",children:[V.jsxs("button",{className:"lang-btn",onClick:()=>s(!i),children:[V.jsx("span",{style:{fontSize:"1.2rem"},children:l.flag})," ",l.name]}),i&&V.jsx("div",{className:"lang-menu",children:Za.map(c=>V.jsxs("button",{className:`lang-option ${r===c.name?"active":""}`,onClick:()=>{t(c.name,c.code),s(!1)},children:[V.jsx("span",{children:c.flag})," ",c.name]},c.code))})]})}function qx({user:r,onStartDM:t}){const[i,s]=mt.useState(""),[l,c]=mt.useState([]),[d,p]=mt.useState(!1),[y,_]=mt.useState(!1),b=async A=>{if(A.preventDefault(),!i.trim()){c([]),_(!0);return}p(!0),_(!0),c([]);try{const x=i.trim(),F=Oh(Ji(fn,"artifacts",dn,"public","data","users"),Sm("displayName",">=",x),Sm("displayName","<=",x+""),nT(20)),Z=(await Sp(F)).docs.map(G=>({id:G.id,...G.data()})).filter(G=>G.id!==r.uid);c(Z)}catch(x){console.error("Error searching users:",x),c([])}finally{p(!1)}};return V.jsxs("div",{className:"lobby-view",style:{maxWidth:"700px",margin:"0 auto"},children:[V.jsxs("div",{style:{textAlign:"center",marginBottom:40,marginTop:20},children:[V.jsx("h2",{style:{fontSize:"1.75rem",marginBottom:8,letterSpacing:"-0.5px"},children:"Find a Language Partner"}),V.jsx("p",{style:{color:"#6b7280"},children:"Search by username to start a private chat."})]}),V.jsx("form",{onSubmit:b,style:{marginBottom:40},children:V.jsxs("div",{className:"input-wrapper",style:{padding:"0 16px",borderRadius:16,display:"flex",alignItems:"center"},children:[V.jsx("input",{className:"chat-input",value:i,onChange:A=>s(A.target.value),placeholder:"Enter username...",style:{width:"100%",border:"none",padding:"15px 0",fontSize:"1.1rem"},autoFocus:!0}),V.jsx("button",{type:"submit",className:"send-btn",disabled:d,children:d?V.jsx(Wr,{className:"spin",size:20,color:"white"}):V.jsx(Ov,{size:20,color:"white"})})]})}),l.length>0&&V.jsxs(V.Fragment,{children:[V.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:600,color:"#374151",margin:"30px 0 15px"},children:"Search Results"}),V.jsxs("div",{className:"lobby-grid",style:{marginBottom:40},children:[" ",l.map(A=>V.jsxs("div",{className:"lobby-card",onClick:x=>{x.stopPropagation(),t(A.id,A.displayName)},children:[V.jsx("div",{className:"card-header",children:V.jsx(ch,{url:A.photoUrl,name:A.displayName,size:56})}),V.jsx("h3",{className:"card-title",children:A.displayName}),V.jsxs("div",{className:"card-meta",children:[V.jsxs("div",{className:"meta-row",children:[V.jsx("span",{className:"meta-label",children:"Learning"}),V.jsx("span",{className:"meta-value",children:A.targetLang})]}),V.jsxs("button",{className:"popup-btn",style:{marginTop:10,padding:10,borderRadius:10},children:[V.jsx(hT,{size:14})," Start Chat"]})]})]},A.id))]})]}),y&&l.length===0&&!d&&V.jsxs("p",{style:{color:"#9ca3af",textAlign:"center",marginTop:30,marginBottom:40},children:['No users found matching "',i.trim(),'".']}),V.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:600,color:"#374151",margin:"30px 0 15px"},children:"Meet Poly"}),V.jsx("div",{className:"lobby-grid",children:V.jsxs("div",{className:"lobby-card",onClick:()=>t("ai","Poly"),style:{background:"#fff"},children:[V.jsx("div",{className:"card-header",children:V.jsx("div",{style:{width:56,height:56,borderRadius:"50%",background:"#ecfdf5",color:"#059669",display:"flex",alignItems:"center",justifyContent:"center"},children:V.jsx(Vh,{style:{width:32,height:32}})})}),V.jsx("h3",{className:"card-title",children:"Poly"}),V.jsxs("p",{className:"card-subtitle",children:["Your AI language partner ",V.jsx(Ov,{size:14})]})]})})]})}function Hx({user:r}){const[t,i]=mt.useState([]);mt.useEffect(()=>{const l=Oh(Ji(fn,"artifacts",dn,"users",r.uid,"vocab"),eT("timestamp","desc"));return wp(l,c=>i(c.docs.map(d=>({id:d.id,...d.data()}))))},[r]);const s=async l=>{await aT(po(fn,"artifacts",dn,"users",r.uid,"vocab",l))};return V.jsxs("div",{className:"notebook-view",children:[V.jsx("h2",{style:{marginBottom:24,fontSize:"1.5rem",fontWeight:700},children:"My Vocabulary"}),V.jsx("div",{className:"notebook-grid",children:t.map(l=>V.jsxs("div",{className:"vocab-card",children:[V.jsx("div",{className:"vocab-word",children:l.word}),V.jsx("div",{className:"vocab-def",children:l.definition}),V.jsxs("div",{className:"vocab-meta",children:[V.jsxs("span",{children:["Saved ",l.timestamp?.toDate().toLocaleDateString()]}),V.jsx(wm,{size:27,className:"vocab-delete",onClick:()=>s(l.id)})]})]},l.id))}),t.length===0&&V.jsx("p",{style:{color:"#9ca3af",textAlign:"center",marginTop:60},children:"No words saved yet. Look up words in chat to save them!"})]})}const dT=["General conversation","Ordering food at a restaurant","Discussing a movie","Talking about family","Planning a trip","Hobbies and interests"],mT=["None","Past Tense","Future Tense","Conditional Sentences","Subjunctive Mood","Formal vs. Informal"];function Fx({topic:r,setTopic:t,grammarFocus:i,setGrammarFocus:s,targetLang:l}){return V.jsxs("div",{style:{padding:"12px 24px",borderBottom:"1px solid #e5e7eb",background:"#f9fafb",display:"flex",flexWrap:"wrap",gap:20,alignItems:"center",fontSize:"0.9rem",color:"#4b5563"},children:[V.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[V.jsx("span",{style:{fontWeight:600,color:"#1f2937"},children:"Topic"}),V.jsx("select",{value:r,onChange:c=>t(c.target.value),style:{padding:"6px 10px",borderRadius:8,border:"1px solid #d1d5db",background:"white",color:"#111827"},children:dT.map(c=>V.jsx("option",{value:c,children:c},c))})]}),V.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[V.jsxs("span",{style:{fontWeight:600,color:"#1f2937"},children:["Focus (",l,")"]}),V.jsx("select",{value:i,onChange:c=>s(c.target.value),style:{padding:"6px 10px",borderRadius:8,border:"1px solid #d1d5db",background:"white",color:"#111827"},children:mT.map(c=>V.jsx("option",{value:c,children:c},c))})]})]})}function Gx({user:r,channelId:t,targetLang:i,targetLangCode:s}){const[l,c]=mt.useState([]),[d,p]=mt.useState(20),[y,_]=mt.useState(null),[b,A]=mt.useState(null),[x,F]=mt.useState(!1),[W,Z]=mt.useState(null),[G,rt]=mt.useState(dT[0]),[ut,ht]=mt.useState(mT[0]),Lt=mt.useRef(null),Wt=async(S,M)=>{await Wd(Ji(fn,"artifacts",dn,"users",r.uid,"vocab"),{word:S,definition:M,timestamp:Ol(),lang:i}),alert(`Saved "${S}" to Notebook!`)};mt.useEffect(()=>{let S;t==="ai"?S=Ji(fn,"artifacts",dn,"users",r.uid,"ai_messages"):S=Ji(fn,"artifacts",dn,"public","data",`chat_${t.replace(/[^a-z0-9-_]/g,"")}`);const M=Oh(S,eT("timestamp","desc"),nT(d));return wp(M,N=>{c(N.docs.map(k=>({id:k.id,...k.data()})).reverse()),F(!1)})},[r,t,d]),mt.useEffect(()=>{d===20&&Lt.current&&(Lt.current.scrollTop=Lt.current.scrollHeight)},[l,d]);const Mt=()=>{F(!0),p(S=>S+20)},C=async(S,M)=>{S.preventDefault(),S.stopPropagation(),Z(null);const N=window.getSelection().toString().trim(),k=N.length>0?N:M,R=S.currentTarget.getBoundingClientRect();_({x:R.left,y:R.bottom,text:k,loading:!0});const{result:Kt,error:te}=await Mx(k);te&&Z(te),_(H=>({...H,loading:!1,result:Kt}))},w=async(S,M,N)=>{Z(null);let k=null,R=null;if(N||t==="ai"&&i!=="English"){const H=await Vx(S,i);H.error&&(R=H.error),H.hasError&&(k={correction:H.correction,reason:H.reason})}if(R){Z(R);return}const Kt={text:S,originalText:M,userId:r.uid,displayName:r.displayName,timestamp:Ol(),lang:i,langCode:s,isPractice:N,correction:k};let te;t==="ai"?te=Ji(fn,"artifacts",dn,"users",r.uid,"ai_messages"):te=Ji(fn,"artifacts",dn,"public","data",`chat_${t.replace(/[^a-z0-9-_]/g,"")}`);try{await Wd(te,Kt)}catch{Z("Failed to send message to database.");return}if(t==="ai"){const H=`Topic: ${G}. Grammar Focus: ${ut}.`,{response:et,error:ct}=await kx(S,r.displayName,i,H);ct&&Z(ct),et&&await Wd(te,{text:et.target,originalText:et.english,userId:"ai-companion-bot",displayName:"Poly",timestamp:Ol(),lang:i,isBot:!0})}};return V.jsxs("div",{className:"chat-view",onClick:()=>{_(null),A(null)},children:[t==="ai"&&V.jsx(Fx,{topic:G,setTopic:rt,grammarFocus:ut,setGrammarFocus:ht,targetLang:i}),W&&V.jsxs("div",{style:{padding:"10px 24px",background:"#fee2e2",color:"#dc2626",fontWeight:600,borderBottom:"1px solid #fca5a5",display:"flex",alignItems:"center",gap:8},children:[V.jsx(cT,{size:16})," ",W]}),y&&V.jsxs("div",{className:"popup",style:{position:"fixed",top:Math.min(y.y,window.innerHeight-200),left:Math.min(y.x,window.innerWidth-300)},onClick:S=>S.stopPropagation(),children:[V.jsxs("div",{className:"popup-header",children:[V.jsxs("span",{className:"popup-title",children:[V.jsx(uT,{size:14})," Definition"]}),V.jsx(Mv,{className:"popup-close",size:16,onClick:()=>_(null)})]}),y.loading?V.jsx(Wr,{className:"spin",style:{color:"#059669"}}):V.jsxs(V.Fragment,{children:[V.jsx("p",{style:{marginBottom:12,lineHeight:1.5},children:y.result}),V.jsxs("button",{className:"popup-btn",onClick:()=>{Wt(y.text,y.result),_(null)},children:[V.jsx(bx,{size:12})," Save to Notebook"]})]})]}),V.jsxs("div",{className:"chat-messages",ref:Lt,children:[l.length>=d&&V.jsxs("button",{onClick:Mt,className:"load-more-btn",children:[x?V.jsx(Wr,{className:"spin",size:14}):V.jsx(yx,{size:14})," Load previous messages"]}),l.map(S=>{const M=S.userId===r.uid;if(S.isTutor)return null;const N=Za.find(k=>k.name===S.lang)?.flag;return V.jsxs("div",{className:`msg-row ${M?"me":"them"}`,children:[!M&&V.jsx("div",{className:"msg-avatar",style:S.isBot?{background:"#f4f4f5"}:{background:"transparent",border:"none",padding:0},children:S.isBot?V.jsx(Vh,{style:{width:16,height:16}}):V.jsx(ch,{name:S.displayName,size:32})}),V.jsxs("div",{className:`msg-bubble ${M?"me":"them"}`,children:[S.correction&&V.jsx("div",{className:"correction-btn",onClick:k=>{k.stopPropagation(),A(b===S.id?null:S.id)},children:V.jsx(fx,{size:14})}),b===S.id&&V.jsxs("div",{className:"popup",style:{bottom:"100%",right:0,marginBottom:8,width:240,color:"black"},onClick:k=>k.stopPropagation(),children:[V.jsxs("div",{className:"popup-header",children:[V.jsxs("span",{className:"popup-title",style:{color:"#d97706"},children:[V.jsx(Ex,{size:12})," Correction"]}),V.jsx(Mv,{className:"popup-close",size:14,onClick:()=>A(null)})]}),V.jsxs("p",{style:{fontStyle:"italic",marginBottom:8,fontSize:"0.8rem"},children:['"',S.correction.reason,'"']}),V.jsx("div",{style:{background:"#ecfdf5",padding:8,borderRadius:8,border:"1px solid #d1fae5",color:"#047857",fontWeight:"bold"},onContextMenu:k=>C(k,S.correction.correction),children:S.correction.correction})]}),V.jsx("p",{style:{margin:0,lineHeight:1.5,whiteSpace:"pre-wrap",cursor:"text"},onContextMenu:k=>C(k,S.text),children:S.text}),V.jsxs("div",{className:"msg-meta",children:[V.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2,alignItems:M?"flex-end":"flex-start"},children:[S.originalText&&S.originalText!==S.text&&V.jsxs("span",{style:{fontStyle:"italic"},children:['"',S.originalText,'"']}),S.lang&&V.jsxs("span",{style:{fontWeight:"bold",fontSize:"0.65rem",textTransform:"uppercase"},children:[N," ",S.lang]})]}),V.jsx("div",{className:"msg-btn",onClick:()=>Ux(S.text,S.langCode),children:V.jsx(Ix,{size:14})})]})]})]},S.id)})]}),V.jsx(Qx,{onSend:w,targetLang:i},t)]})}function Qx({onSend:r,targetLang:t}){const[i,s]=mt.useState(""),[l,c]=mt.useState("english"),[d,p]=mt.useState(!1),[y,_]=mt.useState(!1),b=mt.useRef(null),A=mt.useRef(null);mt.useEffect(()=>{A.current&&A.current.focus()},[]);const x=Z=>{const G=Z.target.value;s(G),A.current&&(A.current.style.height="auto",A.current.style.height=`${Math.min(A.current.scrollHeight,120)}px`),b.current&&clearTimeout(b.current),_(!1),G.trim()&&l==="english"&&t!=="English"&&(_(!0),b.current=setTimeout(()=>_(!1),800))},F=async Z=>{if(Z.preventDefault(),!i.trim()||d)return;p(!0);let G=i;const rt=l==="target";if(l==="english"&&t!=="English"){const{translated:ut,error:ht}=await Ox(i,t);if(ht){p(!1),r("","",!1);return}G=ut}await r(G,i,rt),s(""),p(!1),A.current&&(A.current.style.height="auto")},W=Z=>{Z.key==="Enter"&&!Z.shiftKey&&(Z.preventDefault(),F(Z))};return V.jsxs("div",{className:"input-area",children:[t!=="English"&&V.jsxs("div",{className:"input-toggles",children:[V.jsx("button",{className:`toggle-btn ${l==="english"?"active":""}`,onClick:()=>{c("english"),s("")},children:"Type in English"}),V.jsxs("button",{className:`toggle-btn ${l==="target"?"active":""}`,onClick:()=>{c("target"),s("")},children:[V.jsx(cx,{size:12,style:{marginRight:4}})," Practice ",t]})]}),l==="target"&&i.length>3&&V.jsxs("div",{className:"checking-bubble",children:[V.jsx(Wr,{className:"spin",size:12})," Poly is checking your sentence..."]}),V.jsxs("form",{className:"input-wrapper",onSubmit:F,children:[V.jsxs("div",{style:{flex:1,position:"relative"},children:[V.jsx("textarea",{ref:A,rows:1,className:"chat-input",value:i,onChange:x,onKeyDown:W,placeholder:l==="english"?"Type in English...":`Practice in ${t}...`,autoFocus:!0}),(y||d)&&l==="english"&&t!=="English"&&V.jsxs("div",{className:"status-indicator",children:[V.jsx(Wr,{className:"spin",size:12,style:{marginRight:6}})," Translating..."]})]}),V.jsx("button",{className:"send-btn",disabled:d||!i.trim(),children:d?V.jsx(Wr,{className:"spin"}):V.jsx(hT,{size:20})})]})]})}nA.createRoot(document.getElementById("root")).render(V.jsx(Xb.StrictMode,{children:V.jsx(zx,{})}));
