(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Gb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ud={exports:{}},Tl={};var K_;function Qb(){if(K_)return Tl;K_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return Tl.Fragment=t,Tl.jsx=i,Tl.jsxs=i,Tl}var X_;function Yb(){return X_||(X_=1,Ud.exports=Qb()),Ud.exports}var M=Yb(),Ld={exports:{}},Et={};var $_;function Kb(){if($_)return Et;$_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),x=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,F={};function nt(O,K,it){this.props=O,this.context=K,this.refs=F,this.updater=it||W}nt.prototype.isReactComponent={},nt.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},nt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ut(){}ut.prototype=nt.prototype;function ht(O,K,it){this.props=O,this.context=K,this.refs=F,this.updater=it||W}var Nt=ht.prototype=new ut;Nt.constructor=ht,Z(Nt,nt.prototype),Nt.isPureReactComponent=!0;var Bt=Array.isArray;function wt(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(O,K,it){var at=it.ref;return{$$typeof:r,type:O,key:K,ref:at!==void 0?at:null,props:it}}function V(O,K){return R(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return K[it]})}var S=/\/+/g;function xt(O,K){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):K.toString(36)}function Qt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(wt,wt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function q(O,K,it,at,_t){var Rt=typeof O;(Rt==="undefined"||Rt==="boolean")&&(O=null);var zt=!1;if(O===null)zt=!0;else switch(Rt){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(O.$$typeof){case r:case t:zt=!0;break;case b:return zt=O._init,q(zt(O._payload),K,it,at,_t)}}if(zt)return _t=_t(O),zt=at===""?"."+xt(O,0):at,Bt(_t)?(it="",zt!=null&&(it=zt.replace(S,"$&/")+"/"),q(_t,K,it,"",function(us){return us})):_t!=null&&(N(_t)&&(_t=V(_t,it+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(S,"$&/")+"/")+zt)),K.push(_t)),1;zt=0;var Ne=at===""?".":at+":";if(Bt(O))for(var ae=0;ae<O.length;ae++)at=O[ae],Rt=Ne+xt(at,ae),zt+=q(at,K,it,Rt,_t);else if(ae=G(O),typeof ae=="function")for(O=ae.call(O),ae=0;!(at=O.next()).done;)at=at.value,Rt=Ne+xt(at,ae++),zt+=q(at,K,it,Rt,_t);else if(Rt==="object"){if(typeof O.then=="function")return q(Qt(O),K,it,at,_t);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return zt}function tt(O,K,it){if(O==null)return O;var at=[],_t=0;return q(O,at,"","",function(Rt){return K.call(it,Rt,_t++)}),at}function ct(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var bt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ct={map:tt,forEach:function(O,K,it){tt(O,function(){K.apply(this,arguments)},it)},count:function(O){var K=0;return tt(O,function(){K++}),K},toArray:function(O){return tt(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Et.Activity=A,Et.Children=Ct,Et.Component=nt,Et.Fragment=i,Et.Profiler=l,Et.PureComponent=ht,Et.StrictMode=s,Et.Suspense=p,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Et.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Et.cache=function(O){return function(){return O.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(O,K,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=Z({},O.props),_t=O.key;if(K!=null)for(Rt in K.key!==void 0&&(_t=""+K.key),K)!w.call(K,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&K.ref===void 0||(at[Rt]=K[Rt]);var Rt=arguments.length-2;if(Rt===1)at.children=it;else if(1<Rt){for(var zt=Array(Rt),Ne=0;Ne<Rt;Ne++)zt[Ne]=arguments[Ne+2];at.children=zt}return R(O.type,_t,at)},Et.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Et.createElement=function(O,K,it){var at,_t={},Rt=null;if(K!=null)for(at in K.key!==void 0&&(Rt=""+K.key),K)w.call(K,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(_t[at]=K[at]);var zt=arguments.length-2;if(zt===1)_t.children=it;else if(1<zt){for(var Ne=Array(zt),ae=0;ae<zt;ae++)Ne[ae]=arguments[ae+2];_t.children=Ne}if(O&&O.defaultProps)for(at in zt=O.defaultProps,zt)_t[at]===void 0&&(_t[at]=zt[at]);return R(O,Rt,_t)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(O){return{$$typeof:g,render:O}},Et.isValidElement=N,Et.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ct}},Et.memo=function(O,K){return{$$typeof:_,type:O,compare:K===void 0?null:K}},Et.startTransition=function(O){var K=C.T,it={};C.T=it;try{var at=O(),_t=C.S;_t!==null&&_t(it,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(wt,bt)}catch(Rt){bt(Rt)}finally{K!==null&&it.types!==null&&(K.types=it.types),C.T=K}},Et.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Et.use=function(O){return C.H.use(O)},Et.useActionState=function(O,K,it){return C.H.useActionState(O,K,it)},Et.useCallback=function(O,K){return C.H.useCallback(O,K)},Et.useContext=function(O){return C.H.useContext(O)},Et.useDebugValue=function(){},Et.useDeferredValue=function(O,K){return C.H.useDeferredValue(O,K)},Et.useEffect=function(O,K){return C.H.useEffect(O,K)},Et.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Et.useId=function(){return C.H.useId()},Et.useImperativeHandle=function(O,K,it){return C.H.useImperativeHandle(O,K,it)},Et.useInsertionEffect=function(O,K){return C.H.useInsertionEffect(O,K)},Et.useLayoutEffect=function(O,K){return C.H.useLayoutEffect(O,K)},Et.useMemo=function(O,K){return C.H.useMemo(O,K)},Et.useOptimistic=function(O,K){return C.H.useOptimistic(O,K)},Et.useReducer=function(O,K,it){return C.H.useReducer(O,K,it)},Et.useRef=function(O){return C.H.useRef(O)},Et.useState=function(O){return C.H.useState(O)},Et.useSyncExternalStore=function(O,K,it){return C.H.useSyncExternalStore(O,K,it)},Et.useTransition=function(){return C.H.useTransition()},Et.version="19.2.0",Et}var J_;function Im(){return J_||(J_=1,Ld.exports=Kb()),Ld.exports}var dt=Im();const Xb=Gb(dt);var Pd={exports:{}},bl={},zd={exports:{}},jd={};var Z_;function $b(){return Z_||(Z_=1,(function(r){function t(q,tt){var ct=q.length;q.push(tt);t:for(;0<ct;){var bt=ct-1>>>1,Ct=q[bt];if(0<l(Ct,tt))q[bt]=tt,q[ct]=Ct,ct=bt;else break t}}function i(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var tt=q[0],ct=q.pop();if(ct!==tt){q[0]=ct;t:for(var bt=0,Ct=q.length,O=Ct>>>1;bt<O;){var K=2*(bt+1)-1,it=q[K],at=K+1,_t=q[at];if(0>l(it,ct))at<Ct&&0>l(_t,it)?(q[bt]=_t,q[at]=ct,bt=at):(q[bt]=it,q[K]=ct,bt=K);else if(at<Ct&&0>l(_t,ct))q[bt]=_t,q[at]=ct,bt=at;else break t}}return tt}function l(q,tt){var ct=q.sortIndex-tt.sortIndex;return ct!==0?ct:q.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],_=[],b=1,A=null,x=3,G=!1,W=!1,Z=!1,F=!1,nt=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function Nt(q){for(var tt=i(_);tt!==null;){if(tt.callback===null)s(_);else if(tt.startTime<=q)s(_),tt.sortIndex=tt.expirationTime,t(p,tt);else break;tt=i(_)}}function Bt(q){if(Z=!1,Nt(q),!W)if(i(p)!==null)W=!0,wt||(wt=!0,U());else{var tt=i(_);tt!==null&&Qt(Bt,tt.startTime-q)}}var wt=!1,C=-1,w=5,R=-1;function V(){return F?!0:!(r.unstable_now()-R<w)}function N(){if(F=!1,wt){var q=r.unstable_now();R=q;var tt=!0;try{t:{W=!1,Z&&(Z=!1,ut(C),C=-1),G=!0;var ct=x;try{e:{for(Nt(q),A=i(p);A!==null&&!(A.expirationTime>q&&V());){var bt=A.callback;if(typeof bt=="function"){A.callback=null,x=A.priorityLevel;var Ct=bt(A.expirationTime<=q);if(q=r.unstable_now(),typeof Ct=="function"){A.callback=Ct,Nt(q),tt=!0;break e}A===i(p)&&s(p),Nt(q)}else s(p);A=i(p)}if(A!==null)tt=!0;else{var O=i(_);O!==null&&Qt(Bt,O.startTime-q),tt=!1}}break t}finally{A=null,x=ct,G=!1}tt=void 0}}finally{tt?U():wt=!1}}}var U;if(typeof ht=="function")U=function(){ht(N)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,xt=S.port2;S.port1.onmessage=N,U=function(){xt.postMessage(null)}}else U=function(){nt(N,0)};function Qt(q,tt){C=nt(function(){q(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(q){switch(x){case 1:case 2:case 3:var tt=3;break;default:tt=x}var ct=x;x=tt;try{return q()}finally{x=ct}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(q,tt){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ct=x;x=q;try{return tt()}finally{x=ct}},r.unstable_scheduleCallback=function(q,tt,ct){var bt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?bt+ct:bt):ct=bt,q){case 1:var Ct=-1;break;case 2:Ct=250;break;case 5:Ct=1073741823;break;case 4:Ct=1e4;break;default:Ct=5e3}return Ct=ct+Ct,q={id:b++,callback:tt,priorityLevel:q,startTime:ct,expirationTime:Ct,sortIndex:-1},ct>bt?(q.sortIndex=ct,t(_,q),i(p)===null&&q===i(_)&&(Z?(ut(C),C=-1):Z=!0,Qt(Bt,ct-bt))):(q.sortIndex=Ct,t(p,q),W||G||(W=!0,wt||(wt=!0,U()))),q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(q){var tt=x;return function(){var ct=x;x=tt;try{return q.apply(this,arguments)}finally{x=ct}}}})(jd)),jd}var W_;function Jb(){return W_||(W_=1,zd.exports=$b()),zd.exports}var Bd={exports:{}},Xe={};var t0;function Zb(){if(t0)return Xe;t0=1;var r=Im();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:p,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xe.createPortal=function(p,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,b)},Xe.flushSync=function(p){var _=d.T,b=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=_,s.p=b,s.d.f()}},Xe.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Xe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xe.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var b=_.as,A=g(b,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:x,fetchPriority:G}):b==="script"&&s.d.X(p,{crossOrigin:A,integrity:x,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xe.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Xe.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=g(b,_.crossOrigin);s.d.L(p,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xe.preloadModule=function(p,_){if(typeof p=="string")if(_){var b=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Xe.requestFormReset=function(p){s.d.r(p)},Xe.unstable_batchedUpdates=function(p,_){return p(_)},Xe.useFormState=function(p,_,b){return d.H.useFormState(p,_,b)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.0",Xe}var e0;function Wb(){if(e0)return Bd.exports;e0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Bd.exports=Zb(),Bd.exports}var n0;function tA(){if(n0)return bl;n0=1;var r=Jb(),t=Im(),i=Wb();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(s(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return p(h),e;if(f===o)return p(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,x=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),nt=Symbol.for("react.profiler"),ut=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),Nt=Symbol.for("react.forward_ref"),Bt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var S=Symbol.for("react.client.reference");function xt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===S?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case nt:return"Profiler";case F:return"StrictMode";case Bt:return"Suspense";case wt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case ht:return e.displayName||"Context";case ut:return(e._context.displayName||"Context")+".Consumer";case Nt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:xt(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return xt(e(n))}catch{}}return null}var Qt=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},bt=[],Ct=-1;function O(e){return{current:e}}function K(e){0>Ct||(e.current=bt[Ct],bt[Ct]=null,Ct--)}function it(e,n){Ct++,bt[Ct]=e.current,e.current=n}var at=O(null),_t=O(null),Rt=O(null),zt=O(null);function Ne(e,n){switch(it(Rt,n),it(_t,e),it(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?y_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=y_(n),e=__(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(at),it(at,e)}function ae(){K(at),K(_t),K(Rt)}function us(e){e.memoizedState!==null&&it(zt,e);var n=at.current,a=__(n,e.type);n!==a&&(it(_t,e),it(at,a))}function ea(e){_t.current===e&&(K(at),K(_t)),zt.current===e&&(K(zt),yl._currentValue=ct)}var na,ia;function ni(e){if(na===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);na=n&&n[1]||"",ia=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+na+e+ia}var yo=!1;function cs(e,n){if(!e||yo)return"";yo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var j=H}Reflect.construct(e,[],$)}else{try{$.call()}catch(H){j=H}e.call($.prototype)}}else{try{throw Error()}catch(H){j=H}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var I=y.split(`
`),z=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var Q=`
`+I[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{yo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ni(a):""}function _o(e,n){switch(e.tag){case 26:case 27:case 5:return ni(e.type);case 16:return ni("Lazy");case 13:return e.child!==n&&n!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return cs(e.type,!1);case 11:return cs(e.type.render,!1);case 1:return cs(e.type,!0);case 31:return ni("Activity");default:return""}}function vo(e){try{var n="",a=null;do n+=_o(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,lr=r.unstable_cancelCallback,Lh=r.unstable_shouldYield,Zl=r.unstable_requestPaint,tn=r.unstable_now,hs=r.unstable_getCurrentPriorityLevel,Eo=r.unstable_ImmediatePriority,To=r.unstable_UserBlockingPriority,ur=r.unstable_NormalPriority,Ph=r.unstable_LowPriority,Wl=r.unstable_IdlePriority,tu=r.log,eu=r.unstable_setDisableYieldValue,zn=null,Pe=null;function An(e){if(typeof tu=="function"&&eu(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(zn,e)}catch{}}var fe=Math.clz32?Math.clz32:iu,nu=Math.log,ra=Math.LN2;function iu(e){return e>>>=0,e===0?32:31-(nu(e)/ra|0)|0}var ii=256,fs=262144,ve=4194304;function ri(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function si(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ri(o):(y&=E,y!==0?h=ri(y):a||(a=E&~e,a!==0&&(h=ri(a))))):(E=o&~f,E!==0?h=ri(E):y!==0?h=ri(y):a||(a=o&~e,a!==0&&(h=ri(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function jn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function zh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ai(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ds(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jh(e,n,a,o,h,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(a=y&~a;0<a;){var Q=31-fe(a),$=1<<Q;E[Q]=0,I[Q]=-1;var j=z[Q];if(j!==null)for(z[Q]=null,Q=0;Q<j.length;Q++){var H=j[Q];H!==null&&(H.lane&=-536870913)}a&=~$}o!==0&&ms(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function ms(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-fe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function bo(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-fe(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Ao(e,n){var a=n&-n;return a=(a&42)!==0?1:ps(a),(a&(e.suspendedLanes|n))!==0?0:a}function ps(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Mi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function su(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:B_(e.type))}function Bn(e,n){var a=tt.p;try{return tt.p=e,n()}finally{tt.p=a}}var qn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+qn,Ve="__reactProps$"+qn,oi="__reactContainer$"+qn,sa="__reactEvents$"+qn,Bh="__reactListeners$"+qn,au="__reactHandles$"+qn,ou="__reactResources$"+qn,li="__reactMarker$"+qn;function aa(e){delete e[Ee],delete e[Ve],delete e[sa],delete e[Bh],delete e[au]}function ui(e){var n=e[Ee];if(n)return n;for(var a=e.parentNode;a;){if(n=a[oi]||a[Ee]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=w_(e);e!==null;){if(a=e[Ee])return a;e=w_(e)}return n}e=a,a=e.parentNode}return null}function Sn(e){if(e=e[Ee]||e[oi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function mn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function ci(e){var n=e[ou];return n||(n=e[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[li]=!0}var So=new Set,wo={};function hi(e,n){fi(e,n),fi(e+"Capture",n)}function fi(e,n){for(wo[e]=n,e=0;e<n.length;e++)So.add(n[e])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},Co={};function lu(e){return _e.call(Co,e)?!0:_e.call(Io,e)?!1:Ro.test(e)?Co[e]=!0:(Io[e]=!0,!1)}function oa(e,n,a){if(lu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function pn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function be(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xo(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kt(e){if(!e._valueTracker){var n=cr(e)?"checked":"value";e._valueTracker=xo(e,n,""+e[n])}}function gs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=cr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ys=/[\n"\\]/g;function an(e){return e.replace(ys,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function la(e,n,a,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?No(e,y,ke(n)):a!=null?No(e,y,ke(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function uu(e,n,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(e);return}a=a!=null?""+ke(a):"",n=n!=null?""+ke(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Kt(e)}function No(e,n,a){n==="number"&&di(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function hr(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+ke(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function cu(e,n,a){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+ke(a):""}function fr(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(Qt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=ke(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Kt(e)}function on(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||hu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Oo(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Do(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Do(e,f,n[f])}function ua(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(e){return dr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var Mo=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mr=null,mi=null;function _s(e){var n=Sn(e);if(n&&(e=n.stateNode)){var a=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(la(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(s(90));la(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&gs(o)}break t;case"textarea":cu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&hr(e,!!a.multiple,n,!1)}}}var ha=!1;function pr(e,n,a){if(ha)return e(n,a);ha=!0;try{var o=e(n);return o}finally{if(ha=!1,(mr!==null||mi!==null)&&(sc(),mr&&(n=mr,e=mi,mi=mr=null,_s(n),e)))for(n=0;n<e.length;n++)_s(e[n])}}function Fn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Ve]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vs=!1;if(Rn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){vs=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{vs=!1}var pi=null,Vo=null,Es=null;function ko(){if(Es)return Es;var e,n=Vo,a=n.length,o,h="value"in pi?pi.value:pi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var y=a-e;for(o=1;o<=y&&n[a-o]===h[f-o];o++);return Es=h.slice(e,1<o?1-o:void 0)}function Ts(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Vi(){return!0}function Gn(){return!1}function ze(e){function n(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Vi:Gn,this.isPropagationStopped=Gn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),n}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=ze(ki),gr=A({},ki,{view:0,detail:0}),Uo=ze(gr),yr,fa,yi,da=A({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(yr=e.screenX-yi.screenX,fa=e.screenY-yi.screenY):fa=yr=0,yi=e),yr)},movementY:function(e){return"movementY"in e?e.movementY:fa}}),Lo=ze(da),bs=A({},da,{dataTransfer:0}),du=ze(bs),mu=A({},gr,{relatedTarget:0}),As=ze(mu),Po=A({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=ze(Po),ma=A({},ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gu=ze(ma),yu=A({},ki,{data:0}),_i=ze(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Eu[e])?!!n[e]:!1}function _r(){return Tu}var en=A({},gr,{key:function(e){if(e.key){var n=_u[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(e){return e.type==="keypress"?Ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bu=ze(en),Au=A({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=ze(Au),u=A({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),m=ze(u),v=A({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),L=A({},da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ze(L),et=A({},ki,{newState:0,oldState:0}),At=ze(et),de=[9,13,27,32],Ft=Rn&&"CompositionEvent"in window,oe=null;Rn&&"documentMode"in document&&(oe=document.documentMode);var In=Rn&&"TextEvent"in window&&!oe,vi=Rn&&(!Ft||oe&&8<oe&&11>=oe),Qn=" ",Yn=!1;function Ss(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function pT(e,n){switch(e){case"compositionend":return pa(n);case"keypress":return n.which!==32?null:(Yn=!0,Qn);case"textInput":return e=n.data,e===Qn&&Yn?null:e;default:return null}}function gT(e,n){if(ga)return e==="compositionend"||!Ft&&Ss(e,n)?(e=ko(),Es=Vo=pi=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var yT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!yT[e.type]:n==="textarea"}function xp(e,n,a,o){mr?mi?mi.push(o):mi=[o]:mr=o,n=fc(n,"onChange"),0<n.length&&(a=new gi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var zo=null,jo=null;function _T(e){h_(e,0)}function Su(e){var n=mn(e);if(gs(n))return e}function Np(e,n){if(e==="change")return n}var Dp=!1;if(Rn){var qh;if(Rn){var Hh="oninput"in document;if(!Hh){var Op=document.createElement("div");Op.setAttribute("oninput","return;"),Hh=typeof Op.oninput=="function"}qh=Hh}else qh=!1;Dp=qh&&(!document.documentMode||9<document.documentMode)}function Mp(){zo&&(zo.detachEvent("onpropertychange",Vp),jo=zo=null)}function Vp(e){if(e.propertyName==="value"&&Su(jo)){var n=[];xp(n,jo,e,wn(e)),pr(_T,n)}}function vT(e,n,a){e==="focusin"?(Mp(),zo=n,jo=a,zo.attachEvent("onpropertychange",Vp)):e==="focusout"&&Mp()}function ET(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(jo)}function TT(e,n){if(e==="click")return Su(n)}function bT(e,n){if(e==="input"||e==="change")return Su(n)}function AT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:AT;function Bo(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_e.call(n,h)||!gn(e[h],n[h]))return!1}return!0}function kp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Up(e,n){var a=kp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=kp(a)}}function Lp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Lp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Pp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=di(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=di(e.document)}return n}function Fh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ST=Rn&&"documentMode"in document&&11>=document.documentMode,ya=null,Gh=null,qo=null,Qh=!1;function zp(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qh||ya==null||ya!==di(o)||(o=ya,"selectionStart"in o&&Fh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),qo&&Bo(qo,o)||(qo=o,o=fc(Gh,"onSelect"),0<o.length&&(n=new gi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=ya)))}function ws(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var _a={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionrun:ws("Transition","TransitionRun"),transitionstart:ws("Transition","TransitionStart"),transitioncancel:ws("Transition","TransitionCancel"),transitionend:ws("Transition","TransitionEnd")},Yh={},jp={};Rn&&(jp=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Rs(e){if(Yh[e])return Yh[e];if(!_a[e])return e;var n=_a[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in jp)return Yh[e]=n[a];return e}var Bp=Rs("animationend"),qp=Rs("animationiteration"),Hp=Rs("animationstart"),wT=Rs("transitionrun"),RT=Rs("transitionstart"),IT=Rs("transitioncancel"),Fp=Rs("transitionend"),Gp=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function Kn(e,n){Gp.set(e,n),hi(n,[e])}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],va=0,Xh=0;function Ru(){for(var e=va,n=Xh=va=0;n<e;){var a=Cn[n];Cn[n++]=null;var o=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Qp(a,h,f)}}function Iu(e,n,a,o){Cn[va++]=e,Cn[va++]=n,Cn[va++]=a,Cn[va++]=o,Xh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function $h(e,n,a,o){return Iu(e,n,a,o),Cu(e)}function Is(e,n){return Iu(e,null,null,n),Cu(e)}function Qp(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-fe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Cu(e){if(50<cl)throw cl=0,ad=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ea={};function CT(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,n,a,o){return new CT(e,n,a,o)}function Jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,n){var a=e.alternate;return a===null?(a=yn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Yp(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function xu(e,n,a,o,h,f){var y=0;if(o=e,typeof e=="function")Jh(e)&&(y=1);else if(typeof e=="string")y=Mb(e,a,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=yn(31,a,n,h),e.elementType=R,e.lanes=f,e;case Z:return Cs(a.children,h,f,n);case F:y=8,h|=24;break;case nt:return e=yn(12,a,n,h|2),e.elementType=nt,e.lanes=f,e;case Bt:return e=yn(13,a,n,h),e.elementType=Bt,e.lanes=f,e;case wt:return e=yn(19,a,n,h),e.elementType=wt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ht:y=10;break t;case ut:y=9;break t;case Nt:y=11;break t;case C:y=14;break t;case w:y=16,o=null;break t}y=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=yn(y,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Cs(e,n,a,o){return e=yn(7,e,o,n),e.lanes=a,e}function Zh(e,n,a){return e=yn(6,e,null,n),e.lanes=a,e}function Kp(e){var n=yn(18,null,null,0);return n.stateNode=e,n}function Wh(e,n,a){return n=yn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Xp=new WeakMap;function xn(e,n){if(typeof e=="object"&&e!==null){var a=Xp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:vo(n)},Xp.set(e,n),n)}return{value:e,source:n,stack:vo(n)}}var Ta=[],ba=0,Nu=null,Ho=0,Nn=[],Dn=0,vr=null,Ei=1,Ti="";function Pi(e,n){Ta[ba++]=Ho,Ta[ba++]=Nu,Nu=e,Ho=n}function $p(e,n,a){Nn[Dn++]=Ei,Nn[Dn++]=Ti,Nn[Dn++]=vr,vr=e;var o=Ei;e=Ti;var h=32-fe(o)-1;o&=~(1<<h),a+=1;var f=32-fe(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Ei=1<<32-fe(n)+h|a<<h|o,Ti=f+e}else Ei=1<<f|a<<h|o,Ti=e}function tf(e){e.return!==null&&(Pi(e,1),$p(e,1,0))}function ef(e){for(;e===Nu;)Nu=Ta[--ba],Ta[ba]=null,Ho=Ta[--ba],Ta[ba]=null;for(;e===vr;)vr=Nn[--Dn],Nn[Dn]=null,Ti=Nn[--Dn],Nn[Dn]=null,Ei=Nn[--Dn],Nn[Dn]=null}function Jp(e,n){Nn[Dn++]=Ei,Nn[Dn++]=Ti,Nn[Dn++]=vr,Ei=n.id,Ti=n.overflow,vr=e}var je=null,ie=null,Pt=!1,Er=null,On=!1,nf=Error(s(519));function Tr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fo(xn(n,e)),nf}function Zp(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[Ve]=o,a){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(a=0;a<fl.length;a++)Ot(fl[a],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),uu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),fr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||p_(n.textContent,a)?(o.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),o.onScroll!=null&&Ot("scroll",n),o.onScrollEnd!=null&&Ot("scrollend",n),o.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||Tr(e,!0)}function Wp(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:je=je.return}}function Aa(e){if(e!==je)return!1;if(!Pt)return Wp(e),Pt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Td(e.type,e.memoizedProps)),a=!a),a&&ie&&Tr(e),Wp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ie=S_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ie=S_(e)}else n===27?(n=ie,kr(e.type)?(e=Rd,Rd=null,ie=e):ie=n):ie=je?Vn(e.stateNode.nextSibling):null;return!0}function xs(){ie=je=null,Pt=!1}function rf(){var e=Er;return e!==null&&(hn===null?hn=e:hn.push.apply(hn,e),Er=null),e}function Fo(e){Er===null?Er=[e]:Er.push(e)}var sf=O(null),Ns=null,zi=null;function br(e,n,a){it(sf,n._currentValue),n._currentValue=a}function ji(e){e._currentValue=sf.current,K(sf)}function af(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function of(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),af(f.return,a,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),af(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Sa(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=h.type;gn(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===zt.current){if(y=h.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(yl):e=[yl])}h=h.return}e!==null&&of(n,e,a,o),n.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ds(e){Ns=e,zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return tg(Ns,e)}function Ou(e,n){return Ns===null&&Ds(e),tg(e,n)}function tg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},zi===null){if(e===null)throw Error(s(308));zi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else zi=zi.next=n;return a}var xT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},NT=r.unstable_scheduleCallback,DT=r.unstable_NormalPriority,Ae={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new xT,data:new Map,refCount:0}}function Go(e){e.refCount--,e.refCount===0&&NT(DT,function(){e.controller.abort()})}var Qo=null,uf=0,wa=0,Ra=null;function OT(e,n){if(Qo===null){var a=Qo=[];uf=0,wa=fd(),Ra={status:"pending",value:void 0,then:function(o){a.push(o)}}}return uf++,n.then(eg,eg),n}function eg(){if(--uf===0&&Qo!==null){Ra!==null&&(Ra.status="fulfilled");var e=Qo;Qo=null,wa=0,Ra=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function MT(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var ng=q.S;q.S=function(e,n){zy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&OT(e,n),ng!==null&&ng(e,n)};var Os=O(null);function cf(){var e=Os.current;return e!==null?e:ee.pooledCache}function Mu(e,n){n===null?it(Os,Os.current):it(Os,n.pool)}function ig(){var e=cf();return e===null?null:{parent:Ae._currentValue,pool:e}}var Ia=Error(s(460)),hf=Error(s(474)),Vu=Error(s(542)),ku={then:function(){}};function rg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Hn,Hn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,og(e),e;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,og(e),e}throw Vs=n,Ia}}function Ms(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Vs=a,Ia):a}}var Vs=null;function ag(){if(Vs===null)throw Error(s(459));var e=Vs;return Vs=null,e}function og(e){if(e===Ia||e===Vu)throw Error(s(483))}var Ca=null,Yo=0;function Uu(e){var n=Yo;return Yo+=1,Ca===null&&(Ca=[]),sg(Ca,e,n)}function Ko(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Lu(e,n){throw n.$$typeof===x?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function lg(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function a(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Li(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function y(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,Y){return D===null||D.tag!==6?(D=Zh(P,k.mode,Y),D.return=k,D):(D=h(D,P),D.return=k,D)}function I(k,D,P,Y){var ft=P.type;return ft===Z?Q(k,D,P.props.children,Y,P.key):D!==null&&(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&Ms(ft)===D.type)?(D=h(D,P.props),Ko(D,P),D.return=k,D):(D=xu(P.type,P.key,P.props,null,k.mode,Y),Ko(D,P),D.return=k,D)}function z(k,D,P,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Wh(P,k.mode,Y),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function Q(k,D,P,Y,ft){return D===null||D.tag!==7?(D=Cs(P,k.mode,Y,ft),D.return=k,D):(D=h(D,P),D.return=k,D)}function $(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Zh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return P=xu(D.type,D.key,D.props,null,k.mode,P),Ko(P,D),P.return=k,P;case W:return D=Wh(D,k.mode,P),D.return=k,D;case w:return D=Ms(D),$(k,D,P)}if(Qt(D)||U(D))return D=Cs(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return $(k,Uu(D),P);if(D.$$typeof===ht)return $(k,Ou(k,D),P);Lu(k,D)}return null}function j(k,D,P,Y){var ft=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(k,D,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===ft?I(k,D,P,Y):null;case W:return P.key===ft?z(k,D,P,Y):null;case w:return P=Ms(P),j(k,D,P,Y)}if(Qt(P)||U(P))return ft!==null?null:Q(k,D,P,Y,null);if(typeof P.then=="function")return j(k,D,Uu(P),Y);if(P.$$typeof===ht)return j(k,D,Ou(k,P),Y);Lu(k,P)}return null}function H(k,D,P,Y,ft){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,E(D,k,""+Y,ft);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case G:return k=k.get(Y.key===null?P:Y.key)||null,I(D,k,Y,ft);case W:return k=k.get(Y.key===null?P:Y.key)||null,z(D,k,Y,ft);case w:return Y=Ms(Y),H(k,D,P,Y,ft)}if(Qt(Y)||U(Y))return k=k.get(P)||null,Q(D,k,Y,ft,null);if(typeof Y.then=="function")return H(k,D,P,Uu(Y),ft);if(Y.$$typeof===ht)return H(k,D,P,Ou(D,Y),ft);Lu(D,Y)}return null}function ot(k,D,P,Y){for(var ft=null,qt=null,lt=D,It=D=0,Vt=null;lt!==null&&It<P.length;It++){lt.index>It?(Vt=lt,lt=null):Vt=lt.sibling;var Ht=j(k,lt,P[It],Y);if(Ht===null){lt===null&&(lt=Vt);break}e&&lt&&Ht.alternate===null&&n(k,lt),D=f(Ht,D,It),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht,lt=Vt}if(It===P.length)return a(k,lt),Pt&&Pi(k,It),ft;if(lt===null){for(;It<P.length;It++)lt=$(k,P[It],Y),lt!==null&&(D=f(lt,D,It),qt===null?ft=lt:qt.sibling=lt,qt=lt);return Pt&&Pi(k,It),ft}for(lt=o(lt);It<P.length;It++)Vt=H(lt,k,It,P[It],Y),Vt!==null&&(e&&Vt.alternate!==null&&lt.delete(Vt.key===null?It:Vt.key),D=f(Vt,D,It),qt===null?ft=Vt:qt.sibling=Vt,qt=Vt);return e&&lt.forEach(function(jr){return n(k,jr)}),Pt&&Pi(k,It),ft}function pt(k,D,P,Y){if(P==null)throw Error(s(151));for(var ft=null,qt=null,lt=D,It=D=0,Vt=null,Ht=P.next();lt!==null&&!Ht.done;It++,Ht=P.next()){lt.index>It?(Vt=lt,lt=null):Vt=lt.sibling;var jr=j(k,lt,Ht.value,Y);if(jr===null){lt===null&&(lt=Vt);break}e&&lt&&jr.alternate===null&&n(k,lt),D=f(jr,D,It),qt===null?ft=jr:qt.sibling=jr,qt=jr,lt=Vt}if(Ht.done)return a(k,lt),Pt&&Pi(k,It),ft;if(lt===null){for(;!Ht.done;It++,Ht=P.next())Ht=$(k,Ht.value,Y),Ht!==null&&(D=f(Ht,D,It),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht);return Pt&&Pi(k,It),ft}for(lt=o(lt);!Ht.done;It++,Ht=P.next())Ht=H(lt,k,It,Ht.value,Y),Ht!==null&&(e&&Ht.alternate!==null&&lt.delete(Ht.key===null?It:Ht.key),D=f(Ht,D,It),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht);return e&&lt.forEach(function(Fb){return n(k,Fb)}),Pt&&Pi(k,It),ft}function te(k,D,P,Y){if(typeof P=="object"&&P!==null&&P.type===Z&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var ft=P.key;D!==null;){if(D.key===ft){if(ft=P.type,ft===Z){if(D.tag===7){a(k,D.sibling),Y=h(D,P.props.children),Y.return=k,k=Y;break t}}else if(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&Ms(ft)===D.type){a(k,D.sibling),Y=h(D,P.props),Ko(Y,P),Y.return=k,k=Y;break t}a(k,D);break}else n(k,D);D=D.sibling}P.type===Z?(Y=Cs(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=xu(P.type,P.key,P.props,null,k.mode,Y),Ko(Y,P),Y.return=k,k=Y)}return y(k);case W:t:{for(ft=P.key;D!==null;){if(D.key===ft)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(k,D.sibling),Y=h(D,P.children||[]),Y.return=k,k=Y;break t}else{a(k,D);break}else n(k,D);D=D.sibling}Y=Wh(P,k.mode,Y),Y.return=k,k=Y}return y(k);case w:return P=Ms(P),te(k,D,P,Y)}if(Qt(P))return ot(k,D,P,Y);if(U(P)){if(ft=U(P),typeof ft!="function")throw Error(s(150));return P=ft.call(P),pt(k,D,P,Y)}if(typeof P.then=="function")return te(k,D,Uu(P),Y);if(P.$$typeof===ht)return te(k,D,Ou(k,P),Y);Lu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(k,D.sibling),Y=h(D,P),Y.return=k,k=Y):(a(k,D),Y=Zh(P,k.mode,Y),Y.return=k,k=Y),y(k)):a(k,D)}return function(k,D,P,Y){try{Yo=0;var ft=te(k,D,P,Y);return Ca=null,ft}catch(lt){if(lt===Ia||lt===Vu)throw lt;var qt=yn(29,lt,null,k.mode);return qt.lanes=Y,qt.return=k,qt}finally{}}}var ks=lg(!0),ug=lg(!1),Ar=!1;function ff(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Sr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wr(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Cu(e),Qp(e,null,a),n}return Iu(e,o,n,a),Cu(e)}function Xo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,bo(e,a)}}function mf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var pf=!1;function $o(){if(pf){var e=Ra;if(e!==null)throw e}}function Jo(e,n,a,o){pf=!1;var h=e.updateQueue;Ar=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,y===null?f=z:y.next=z,y=I;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==y&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=I))}if(f!==null){var $=h.baseState;y=0,Q=z=I=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Mt&j)===j:(o&j)===j){j!==0&&j===wa&&(pf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,pt=E;j=n;var te=a;switch(pt.tag){case 1:if(ot=pt.payload,typeof ot=="function"){$=ot.call(te,$,j);break t}$=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=pt.payload,j=typeof ot=="function"?ot.call(te,$,j):ot,j==null)break t;$=A({},$,j);break t;case 2:Ar=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=H,I=$):Q=Q.next=H,y|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(I=$),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Nr|=y,e.lanes=y,e.memoizedState=$}}function cg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function hg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)cg(a[e],n)}var xa=O(null),Pu=O(0);function fg(e,n){e=Xi,it(Pu,e),it(xa,n),Xi=e|n.baseLanes}function gf(){it(Pu,Xi),it(xa,xa.current)}function yf(){Xi=Pu.current,K(xa),K(Pu)}var _n=O(null),Mn=null;function Rr(e){var n=e.alternate;it(me,me.current&1),it(_n,e),Mn===null&&(n===null||xa.current!==null||n.memoizedState!==null)&&(Mn=e)}function _f(e){it(me,me.current),it(_n,e),Mn===null&&(Mn=e)}function dg(e){e.tag===22?(it(me,me.current),it(_n,e),Mn===null&&(Mn=e)):Ir()}function Ir(){it(me,me.current),it(_n,_n.current)}function vn(e){K(_n),Mn===e&&(Mn=null),K(me)}var me=O(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Sd(a)||wd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Bi=0,St=null,Zt=null,Se=null,ju=!1,Na=!1,Us=!1,Bu=0,Zo=0,Da=null,VT=0;function ce(){throw Error(s(321))}function vf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!gn(e[a],n[a]))return!1;return!0}function Ef(e,n,a,o,h,f){return Bi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?$g:kf,Us=!1,f=a(o,h),Us=!1,Na&&(f=pg(n,a,o,h)),mg(e),f}function mg(e){q.H=el;var n=Zt!==null&&Zt.next!==null;if(Bi=0,Se=Zt=St=null,ju=!1,Zo=0,Da=null,n)throw Error(s(300));e===null||we||(e=e.dependencies,e!==null&&Du(e)&&(we=!0))}function pg(e,n,a,o){St=e;var h=0;do{if(Na&&(Da=null),Zo=0,Na=!1,25<=h)throw Error(s(301));if(h+=1,Se=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Jg,f=n(a,o)}while(Na);return f}function kT(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?Wo(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(St.flags|=1024),n}function Tf(){var e=Bu!==0;return Bu=0,e}function bf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Af(e){if(ju){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ju=!1}Bi=0,Se=Zt=St=null,Na=!1,Zo=Bu=0,Da=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?St.memoizedState=Se=e:Se=Se.next=e,Se}function pe(){if(Zt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=Se===null?St.memoizedState:Se.next;if(n!==null)Se=n,Zt=e;else{if(e===null)throw St.alternate===null?Error(s(467)):Error(s(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Se===null?St.memoizedState=Se=e:Se=Se.next=e}return Se}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(e){var n=Zo;return Zo+=1,Da===null&&(Da=[]),e=sg(Da,e,n),n=St,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?$g:kf),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wo(e);if(e.$$typeof===ht)return Be(e)}throw Error(s(438,String(e)))}function Sf(e){var n=null,a=St.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=qu(),St.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=V;return n.index++,a}function qi(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=pe();return wf(n,Zt,e)}function wf(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=y=null,I=null,z=n,Q=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Mt&$)===$:(Bi&$)===$){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===wa&&(Q=!0);else if((Bi&j)===j){z=z.next,j===wa&&(Q=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=$,y=f):I=I.next=$,St.lanes|=j,Nr|=j;$=z.action,Us&&a(f,$),f=z.hasEagerState?z.eagerState:a(f,$)}else j={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,y=f):I=I.next=j,St.lanes|=$,Nr|=$;z=z.next}while(z!==null&&z!==n);if(I===null?y=f:I.next=E,!gn(f,e.memoizedState)&&(we=!0,Q&&(a=Ra,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Rf(e){var n=pe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);gn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function gg(e,n,a){var o=St,h=pe(),f=Pt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!gn((Zt||h).memoizedState,a);if(y&&(h.memoizedState=a,we=!0),h=h.queue,xf(vg.bind(null,o,h,e),[e]),h.getSnapshot!==n||y||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,Oa(9,{destroy:void 0},_g.bind(null,o,h,a,n),null),ee===null)throw Error(s(349));f||(Bi&127)!==0||yg(o,n,a)}return a}function yg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=St.updateQueue,n===null?(n=qu(),St.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function _g(e,n,a,o){n.value=a,n.getSnapshot=o,Eg(n)&&Tg(e)}function vg(e,n,a){return a(function(){Eg(n)&&Tg(e)})}function Eg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!gn(e,a)}catch{return!0}}function Tg(e){var n=Is(e,2);n!==null&&fn(n,e,2)}function If(e){var n=nn();if(typeof e=="function"){var a=e;if(e=a(),Us){An(!0);try{a()}finally{An(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},n}function bg(e,n,a,o){return e.baseState=a,wf(e,Zt,typeof o=="function"?o:qi)}function UT(e,n,a,o,h){if(Yu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};q.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Ag(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Ag(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=q.T,y={};q.T=y;try{var E=a(h,o),I=q.S;I!==null&&I(y,E),Sg(e,n,E)}catch(z){Cf(e,n,z)}finally{f!==null&&y.types!==null&&(f.types=y.types),q.T=f}}else try{f=a(h,o),Sg(e,n,f)}catch(z){Cf(e,n,z)}}function Sg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){wg(e,n,o)},function(o){return Cf(e,n,o)}):wg(e,n,a)}function wg(e,n,a){n.status="fulfilled",n.value=a,Rg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Ag(e,a)))}function Cf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Rg(n),n=n.next;while(n!==o)}e.action=null}function Rg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ig(e,n){return n}function Cg(e,n){if(Pt){var a=ee.formState;if(a!==null){t:{var o=St;if(Pt){if(ie){e:{for(var h=ie,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=Vn(h.nextSibling),o=h.data==="F!";break t}}Tr(o)}o=!1}o&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ig,lastRenderedState:n},a.queue=o,a=Yg.bind(null,St,o),o.dispatch=a,o=If(!1),f=Vf.bind(null,St,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=UT.bind(null,St,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function xg(e){var n=pe();return Ng(n,Zt,e)}function Ng(e,n,a){if(n=wf(e,n,Ig)[0],e=Fu(qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Wo(n)}catch(y){throw y===Ia?Vu:y}else o=n;n=pe();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(St.flags|=2048,Oa(9,{destroy:void 0},LT.bind(null,h,a),null)),[o,f,e]}function LT(e,n){e.action=n}function Dg(e){var n=pe(),a=Zt;if(a!==null)return Ng(n,a,e);pe(),n=n.memoizedState,a=pe();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Oa(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=qu(),St.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Og(){return pe().memoizedState}function Gu(e,n,a,o){var h=nn();St.flags|=e,h.memoizedState=Oa(1|n,{destroy:void 0},a,o===void 0?null:o)}function Qu(e,n,a,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&vf(o,Zt.memoizedState.deps)?h.memoizedState=Oa(n,f,a,o):(St.flags|=e,h.memoizedState=Oa(1|n,f,a,o))}function Mg(e,n){Gu(8390656,8,e,n)}function xf(e,n){Qu(2048,8,e,n)}function PT(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=qu(),St.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Vg(e){var n=pe().memoizedState;return PT({ref:n,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function kg(e,n){return Qu(4,2,e,n)}function Ug(e,n){return Qu(4,4,e,n)}function Lg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Pg(e,n,a){a=a!=null?a.concat([e]):null,Qu(4,4,Lg.bind(null,n,e),a)}function Nf(){}function zg(e,n){var a=pe();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&vf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function jg(e,n){var a=pe();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&vf(n,o[1]))return o[0];if(o=e(),Us){An(!0);try{e()}finally{An(!1)}}return a.memoizedState=[o,n],o}function Df(e,n,a){return a===void 0||(Bi&1073741824)!==0&&(Mt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=By(),St.lanes|=e,Nr|=e,a)}function Bg(e,n,a,o){return gn(a,n)?a:xa.current!==null?(e=Df(e,a,o),gn(e,n)||(we=!0),e):(Bi&42)===0||(Bi&1073741824)!==0&&(Mt&261930)===0?(we=!0,e.memoizedState=a):(e=By(),St.lanes|=e,Nr|=e,n)}function qg(e,n,a,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=q.T,E={};q.T=E,Vf(e,!1,n,a);try{var I=h(),z=q.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=MT(I,o);tl(e,n,Q,bn(e))}else tl(e,n,o,bn(e))}catch($){tl(e,n,{then:function(){},status:"rejected",reason:$},bn())}finally{tt.p=f,y!==null&&E.types!==null&&(y.types=E.types),q.T=y}}function zT(){}function Of(e,n,a,o){if(e.tag!==5)throw Error(s(476));var h=Hg(e).queue;qg(e,h,n,ct,a===null?zT:function(){return Fg(e),a(o)})}function Hg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:ct},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Fg(e){var n=Hg(e);n.next===null&&(n=e.alternate.memoizedState),tl(e,n.next.queue,{},bn())}function Mf(){return Be(yl)}function Gg(){return pe().memoizedState}function Qg(){return pe().memoizedState}function jT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=bn();e=Sr(a);var o=wr(n,e,a);o!==null&&(fn(o,n,a),Xo(o,n,a)),n={cache:lf()},e.payload=n;return}n=n.return}}function BT(e,n,a){var o=bn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Yu(e)?Kg(n,a):(a=$h(e,n,a,o),a!==null&&(fn(a,e,o),Xg(a,n,o)))}function Yg(e,n,a){var o=bn();tl(e,n,a,o)}function tl(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))Kg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,gn(E,y))return Iu(e,n,h,0),ee===null&&Ru(),!1}catch{}finally{}if(a=$h(e,n,h,o),a!==null)return fn(a,e,o),Xg(a,n,o),!0}return!1}function Vf(e,n,a,o){if(o={lane:2,revertLane:fd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(n)throw Error(s(479))}else n=$h(e,a,o,2),n!==null&&fn(n,e,2)}function Yu(e){var n=e.alternate;return e===St||n!==null&&n===St}function Kg(e,n){Na=ju=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Xg(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,bo(e,a)}}var el={readContext:Be,use:Hu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};el.useEffectEvent=ce;var $g={readContext:Be,use:Hu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:Mg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Gu(4194308,4,Lg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Gu(4194308,4,e,n)},useInsertionEffect:function(e,n){Gu(4,2,e,n)},useMemo:function(e,n){var a=nn();n=n===void 0?null:n;var o=e();if(Us){An(!0);try{e()}finally{An(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=nn();if(a!==void 0){var h=a(n);if(Us){An(!0);try{a(n)}finally{An(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=BT.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=If(e);var n=e.queue,a=Yg.bind(null,St,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Nf,useDeferredValue:function(e,n){var a=nn();return Df(a,e,n)},useTransition:function(){var e=If(!1);return e=qg.bind(null,St,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=St,h=nn();if(Pt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),ee===null)throw Error(s(349));(Mt&127)!==0||yg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Mg(vg.bind(null,o,f,e),[e]),o.flags|=2048,Oa(9,{destroy:void 0},_g.bind(null,o,f,a,n),null),a},useId:function(){var e=nn(),n=ee.identifierPrefix;if(Pt){var a=Ti,o=Ei;a=(o&~(1<<32-fe(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Bu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=VT++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Mf,useFormState:Cg,useActionState:Cg,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Vf.bind(null,St,!0,a),a.dispatch=n,[e,n]},useMemoCache:Sf,useCacheRefresh:function(){return nn().memoizedState=jT.bind(null,St)},useEffectEvent:function(e){var n=nn(),a={impl:e};return n.memoizedState=a,function(){if((Gt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},kf={readContext:Be,use:Hu,useCallback:zg,useContext:Be,useEffect:xf,useImperativeHandle:Pg,useInsertionEffect:kg,useLayoutEffect:Ug,useMemo:jg,useReducer:Fu,useRef:Og,useState:function(){return Fu(qi)},useDebugValue:Nf,useDeferredValue:function(e,n){var a=pe();return Bg(a,Zt.memoizedState,e,n)},useTransition:function(){var e=Fu(qi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Wo(e),n]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:Mf,useFormState:xg,useActionState:xg,useOptimistic:function(e,n){var a=pe();return bg(a,Zt,e,n)},useMemoCache:Sf,useCacheRefresh:Qg};kf.useEffectEvent=Vg;var Jg={readContext:Be,use:Hu,useCallback:zg,useContext:Be,useEffect:xf,useImperativeHandle:Pg,useInsertionEffect:kg,useLayoutEffect:Ug,useMemo:jg,useReducer:Rf,useRef:Og,useState:function(){return Rf(qi)},useDebugValue:Nf,useDeferredValue:function(e,n){var a=pe();return Zt===null?Df(a,e,n):Bg(a,Zt.memoizedState,e,n)},useTransition:function(){var e=Rf(qi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Wo(e),n]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:Mf,useFormState:Dg,useActionState:Dg,useOptimistic:function(e,n){var a=pe();return Zt!==null?bg(a,Zt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:Qg};Jg.useEffectEvent=Vg;function Uf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Lf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=bn(),h=Sr(o);h.payload=n,a!=null&&(h.callback=a),n=wr(e,h,o),n!==null&&(fn(n,e,o),Xo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=bn(),h=Sr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=wr(e,h,o),n!==null&&(fn(n,e,o),Xo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=bn(),o=Sr(a);o.tag=2,n!=null&&(o.callback=n),n=wr(e,o,a),n!==null&&(fn(n,e,a),Xo(n,e,a))}};function Zg(e,n,a,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Bo(a,o)||!Bo(h,f):!0}function Wg(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Lf.enqueueReplaceState(n,n.state,null)}function Ls(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function ty(e){wu(e)}function ey(e){console.error(e)}function ny(e){wu(e)}function Ku(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function iy(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(e,n,a){return a=Sr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ku(e,n)},a}function ry(e){return e=Sr(e),e.tag=3,e}function sy(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){iy(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){iy(n,a,o),typeof h!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function qT(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Sa(n,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return Mn===null?ac():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===ku?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),ud(e,o,h)),!1;case 22:return a.flags|=65536,o===ku?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),ud(e,o,h)),!1}throw Error(s(435,a.tag))}return ud(e,o,h),ac(),!1}if(Pt)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==nf&&(e=Error(s(422),{cause:o}),Fo(xn(e,a)))):(o!==nf&&(n=Error(s(423),{cause:o}),Fo(xn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=xn(o,a),h=Pf(e.stateNode,o,h),mf(e,h),he!==4&&(he=2)),!1;var f=Error(s(520),{cause:o});if(f=xn(f,a),ul===null?ul=[f]:ul.push(f),he!==4&&(he=2),n===null)return!0;o=xn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Pf(a.stateNode,o,e),mf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Dr===null||!Dr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ry(h),sy(h,e,a,o),mf(a,h),!1}a=a.return}while(a!==null);return!1}var zf=Error(s(461)),we=!1;function qe(e,n,a,o){n.child=e===null?ug(n,null,a,o):ks(n,e.child,a,o)}function ay(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Ds(n),o=Ef(e,n,a,y,f,h),E=Tf(),e!==null&&!we?(bf(e,n,h),Hi(e,n,h)):(Pt&&E&&tf(n),n.flags|=1,qe(e,n,o,h),n.child)}function oy(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Jh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ly(e,n,f,o,h)):(e=xu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Yf(e,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Bo,a(y,o)&&e.ref===n.ref)return Hi(e,n,h)}return n.flags|=1,e=Li(f,o),e.ref=n.ref,e.return=n,n.child=e}function ly(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Bo(f,o)&&e.ref===n.ref)if(we=!1,n.pendingProps=o=f,Yf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,Hi(e,n,h)}return jf(e,n,a,o,h)}function uy(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return cy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?fg(n,f):gf(),dg(n);else return o=n.lanes=536870912,cy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Mu(n,f.cachePool),fg(n,f),Ir(),n.memoizedState=null):(e!==null&&Mu(n,null),gf(),Ir());return qe(e,n,h,a),n.child}function nl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function cy(e,n,a,o,h){var f=cf();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Mu(n,null),gf(),dg(n),e!==null&&Sa(e,n,o,!0),n.childLanes=h,null}function Xu(e,n){return n=Ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function hy(e,n,a){return ks(n,e.child,null,a),e=Xu(n,n.pendingProps),e.flags|=2,vn(n),n.memoizedState=null,e}function HT(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Pt){if(o.mode==="hidden")return e=Xu(n,o),n.lanes=536870912,nl(null,e);if(_f(n),(e=ie)?(e=A_(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=Kp(e),a.return=n,n.child=a,je=n,ie=null)):e=null,e===null)throw Tr(n);return n.lanes=536870912,null}return Xu(n,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(_f(n),h)if(n.flags&256)n.flags&=-257,n=hy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(we||Sa(e,n,a,!1),h=(a&e.childLanes)!==0,we||h){if(o=ee,o!==null&&(y=Ao(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Is(e,y),fn(o,e,y),zf;ac(),n=hy(e,n,a)}else e=f.treeContext,ie=Vn(y.nextSibling),je=n,Pt=!0,Er=null,On=!1,e!==null&&Jp(n,e),n=Xu(n,o),n.flags|=4096;return n}return e=Li(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $u(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function jf(e,n,a,o,h){return Ds(n),a=Ef(e,n,a,o,void 0,h),o=Tf(),e!==null&&!we?(bf(e,n,h),Hi(e,n,h)):(Pt&&o&&tf(n),n.flags|=1,qe(e,n,a,h),n.child)}function fy(e,n,a,o,h,f){return Ds(n),n.updateQueue=null,a=pg(n,o,a,h),mg(e),o=Tf(),e!==null&&!we?(bf(e,n,f),Hi(e,n,f)):(Pt&&o&&tf(n),n.flags|=1,qe(e,n,a,f),n.child)}function dy(e,n,a,o,h){if(Ds(n),n.stateNode===null){var f=Ea,y=a.contextType;typeof y=="object"&&y!==null&&(f=Be(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},ff(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?Be(y):Ea,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Uf(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Lf.enqueueReplaceState(f,f.state,null),Jo(n,o,f,h),$o(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Ls(a,E);f.props=I;var z=f.context,Q=a.contextType;y=Ea,typeof Q=="object"&&Q!==null&&(y=Be(Q));var $=a.getDerivedStateFromProps;Q=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&Wg(n,f,o,y),Ar=!1;var j=n.memoizedState;f.state=j,Jo(n,o,f,h),$o(),z=n.memoizedState,E||j!==z||Ar?(typeof $=="function"&&(Uf(n,a,$,o),z=n.memoizedState),(I=Ar||Zg(n,a,I,o,j,z,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=y,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,df(e,n),y=n.memoizedProps,Q=Ls(a,y),f.props=Q,$=n.pendingProps,j=f.context,z=a.contextType,I=Ea,typeof z=="object"&&z!==null&&(I=Be(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==$||j!==I)&&Wg(n,f,o,I),Ar=!1,j=n.memoizedState,f.state=j,Jo(n,o,f,h),$o();var H=n.memoizedState;y!==$||j!==H||Ar||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof E=="function"&&(Uf(n,a,E,o),H=n.memoizedState),(Q=Ar||Zg(n,a,Q,o,j,H,I)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=I,o=Q):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,$u(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ks(n,e.child,null,h),n.child=ks(n,null,a,h)):qe(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Hi(e,n,h),e}function my(e,n,a,o){return xs(),n.flags|=256,qe(e,n,a,o),n.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(e){return{baseLanes:e,cachePool:ig()}}function Hf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Tn),e}function py(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(Pt){if(h?Rr(n):Ir(),(e=ie)?(e=A_(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=Kp(e),a.return=n,n.child=a,je=n,ie=null)):e=null,e===null)throw Tr(n);return wd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ir(),h=n.mode,E=Ju({mode:"hidden",children:E},h),o=Cs(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=qf(a),o.childLanes=Hf(e,y,a),n.memoizedState=Bf,nl(null,o)):(Rr(n),Ff(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Rr(n),n.flags&=-257,n=Gf(e,n,a)):n.memoizedState!==null?(Ir(),n.child=e.child,n.flags|=128,n=null):(Ir(),E=o.fallback,h=n.mode,o=Ju({mode:"visible",children:o.children},h),E=Cs(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,ks(n,e.child,null,a),o=n.child,o.memoizedState=qf(a),o.childLanes=Hf(e,y,a),n.memoizedState=Bf,n=nl(null,o));else if(Rr(n),wd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,o=Error(s(419)),o.stack="",o.digest=y,Fo({value:o,source:null,stack:null}),n=Gf(e,n,a)}else if(we||Sa(e,n,a,!1),y=(a&e.childLanes)!==0,we||y){if(y=ee,y!==null&&(o=Ao(y,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Is(e,o),fn(y,e,o),zf;Sd(E)||ac(),n=Gf(e,n,a)}else Sd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ie=Vn(E.nextSibling),je=n,Pt=!0,Er=null,On=!1,e!==null&&Jp(n,e),n=Ff(n,o.children),n.flags|=4096);return n}return h?(Ir(),E=o.fallback,h=n.mode,I=e.child,z=I.sibling,o=Li(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Li(z,E):(E=Cs(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,nl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=qf(a):(h=E.cachePool,h!==null?(I=Ae._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=ig(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Hf(e,y,a),n.memoizedState=Bf,nl(e.child,o)):(Rr(n),a=e.child,e=a.sibling,a=Li(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=a,n.memoizedState=null,a)}function Ff(e,n){return n=Ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ju(e,n){return e=yn(22,e,null,n),e.lanes=0,e}function Gf(e,n,a){return ks(n,e.child,null,a),e=Ff(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function gy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),af(e.return,n,a)}function Qf(e,n,a,o,h,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function yy(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=me.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,it(me,y),qe(e,n,o,a),o=Pt?Ho:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gy(e,a,n);else if(e.tag===19)gy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&zu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Qf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Qf(n,!0,a,null,f,o);break;case"together":Qf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Hi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Nr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Sa(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Li(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Li(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Yf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function FT(e,n,a){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),br(n,Ae,e.memoizedState.cache),xs();break;case 27:case 5:us(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:br(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,_f(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Rr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?py(e,n,a):(Rr(n),e=Hi(e,n,a),e!==null?e.sibling:null);Rr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Sa(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return yy(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(me,me.current),o)break;return null;case 22:return n.lanes=0,uy(e,n,a,n.pendingProps);case 24:br(n,Ae,e.memoizedState.cache)}return Hi(e,n,a)}function _y(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!Yf(e,a)&&(n.flags&128)===0)return we=!1,FT(e,n,a);we=(e.flags&131072)!==0}else we=!1,Pt&&(n.flags&1048576)!==0&&$p(n,Ho,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ms(n.elementType),n.type=e,typeof e=="function")Jh(e)?(o=Ls(e,o),n.tag=1,n=dy(null,n,e,o,a)):(n.tag=0,n=jf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Nt){n.tag=11,n=ay(null,n,e,o,a);break t}else if(h===C){n.tag=14,n=oy(null,n,e,o,a);break t}}throw n=xt(e)||e,Error(s(306,n,""))}}return n;case 0:return jf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Ls(o,n.pendingProps),dy(e,n,o,h,a);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,df(e,n),Jo(n,o,null,a);var y=n.memoizedState;if(o=y.cache,br(n,Ae,o),o!==f.cache&&of(n,[Ae],a,!0),$o(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=my(e,n,o,a);break t}else if(o!==h){h=xn(Error(s(424)),n),Fo(h),n=my(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ie=Vn(e.firstChild),je=n,Pt=!0,Er=null,On=!0,a=ug(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xs(),o===h){n=Hi(e,n,a);break t}qe(e,n,o,a)}n=n.child}return n;case 26:return $u(e,n),e===null?(a=x_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Pt||(a=n.type,e=n.pendingProps,o=dc(Rt.current).createElement(a),o[Ee]=n,o[Ve]=e,He(o,a,e),Te(o),n.stateNode=o):n.memoizedState=x_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return us(n),e===null&&Pt&&(o=n.stateNode=R_(n.type,n.pendingProps,Rt.current),je=n,On=!0,h=ie,kr(n.type)?(Rd=h,ie=Vn(o.firstChild)):ie=h),qe(e,n,n.pendingProps.children,a),$u(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Pt&&((h=o=ie)&&(o=Eb(o,n.type,n.pendingProps,On),o!==null?(n.stateNode=o,je=n,ie=Vn(o.firstChild),On=!1,h=!0):h=!1),h||Tr(n)),us(n),h=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,Td(h,f)?o=null:y!==null&&Td(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Ef(e,n,kT,null,null,a),yl._currentValue=h),$u(e,n),qe(e,n,o,a),n.child;case 6:return e===null&&Pt&&((e=a=ie)&&(a=Tb(a,n.pendingProps,On),a!==null?(n.stateNode=a,je=n,ie=null,e=!0):e=!1),e||Tr(n)),null;case 13:return py(e,n,a);case 4:return Ne(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ks(n,null,o,a):qe(e,n,o,a),n.child;case 11:return ay(e,n,n.type,n.pendingProps,a);case 7:return qe(e,n,n.pendingProps,a),n.child;case 8:return qe(e,n,n.pendingProps.children,a),n.child;case 12:return qe(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,br(n,n.type,o.value),qe(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ds(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,a),n.child;case 14:return oy(e,n,n.type,n.pendingProps,a);case 15:return ly(e,n,n.type,n.pendingProps,a);case 19:return yy(e,n,a);case 31:return HT(e,n,a);case 22:return uy(e,n,a,n.pendingProps);case 24:return Ds(n),o=Be(Ae),e===null?(h=cf(),h===null&&(h=ee,f=lf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},ff(n),br(n,Ae,h)):((e.lanes&a)!==0&&(df(e,n),Jo(n,null,null,a),$o()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),br(n,Ae,o)):(o=f.cache,br(n,Ae,o),o!==h.cache&&of(n,[Ae],a,!0))),qe(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Fi(e){e.flags|=4}function Kf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Gy())e.flags|=8192;else throw Vs=ku,hf}else e.flags&=-16777217}function vy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!V_(n))if(Gy())e.flags|=8192;else throw Vs=ku,hf}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ru():536870912,e.lanes|=n,Ua|=n)}function il(e,n){if(!Pt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function re(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function GT(e,n,a){var o=n.pendingProps;switch(ef(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ji(Ae),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Aa(n)?Fi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rf())),re(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Fi(n),f!==null?(re(n),vy(n,f)):(re(n),Kf(n,h,null,o,a))):f?f!==e.memoizedState?(Fi(n),re(n),vy(n,f)):(re(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Fi(n),re(n),Kf(n,h,e,o,a)),null;case 27:if(ea(n),a=Rt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Fi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return re(n),null}e=at.current,Aa(n)?Zp(n):(e=R_(h,o,a),n.stateNode=e,Fi(n))}return re(n),null;case 5:if(ea(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Fi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return re(n),null}if(f=at.current,Aa(n))Zp(n);else{var y=dc(Rt.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[Ee]=n,f[Ve]=o;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Fi(n)}}return re(n),Kf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Fi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=Rt.current,Aa(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||p_(e.nodeValue,a)),e||Tr(n,!0)}else e=dc(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return re(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Aa(n),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ee]=n}else xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),e=!1}else a=rf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return re(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Aa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=n}else xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),h=!1}else h=rf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Zu(n,n.updateQueue),re(n),null);case 4:return ae(),e===null&&gd(n.stateNode.containerInfo),re(n),null;case 10:return ji(n.type),re(n),null;case 19:if(K(me),o=n.memoizedState,o===null)return re(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)il(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,il(o,!1),e=f.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Yp(a,e),a=a.sibling;return it(me,me.current&1|2),Pt&&Pi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&tn()>ic&&(n.flags|=128,h=!0,il(o,!1),n.lanes=4194304)}else{if(!h)if(e=zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),il(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Pt)return re(n),null}else 2*tn()-o.renderingStartTime>ic&&a!==536870912&&(n.flags|=128,h=!0,il(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,a=me.current,it(me,h?a&1|2:a&1),Pt&&Pi(n,o.treeForkCount),e):(re(n),null);case 22:case 23:return vn(n),yf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),a=n.updateQueue,a!==null&&Zu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&K(Os),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ji(Ae),re(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function QT(e,n){switch(ef(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ji(Ae),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ea(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(s(340));xs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(vn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));xs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(me),null;case 4:return ae(),null;case 10:return ji(n.type),null;case 22:case 23:return vn(n),yf(),e!==null&&K(Os),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ji(Ae),null;case 25:return null;default:return null}}function Ey(e,n){switch(ef(n),n.tag){case 3:ji(Ae),ae();break;case 26:case 27:case 5:ea(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:K(me);break;case 10:ji(n.type);break;case 22:case 23:vn(n),yf(),e!==null&&K(Os);break;case 24:ji(Ae)}}function rl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){$t(n,n.return,E)}}function Cr(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var I=a,z=E;try{z()}catch(Q){$t(h,I,Q)}}}o=o.next}while(o!==f)}}catch(Q){$t(n,n.return,Q)}}function Ty(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{hg(n,a)}catch(o){$t(e,e.return,o)}}}function by(e,n,a){a.props=Ls(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){$t(e,n,o)}}function sl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){$t(e,n,h)}}function bi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,n,h)}else a.current=null}function Ay(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Xf(e,n,a){try{var o=e.stateNode;mb(o,e.type,a,n),o[Ve]=n}catch(h){$t(e,e.return,h)}}function Sy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&kr(e.type)||e.tag===4}function $f(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Sy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&kr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Hn));else if(o!==4&&(o===27&&kr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Jf(e,n,a),e=e.sibling;e!==null;)Jf(e,n,a),e=e.sibling}function Wu(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&kr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Wu(e,n,a),e=e.sibling;e!==null;)Wu(e,n,a),e=e.sibling}function wy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,a),n[Ee]=e,n[Ve]=a}catch(f){$t(e,e.return,f)}}var Gi=!1,Re=!1,Zf=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function YT(e,n){if(e=e.containerInfo,vd=Ec,e=Pp(e),Fh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,I=-1,z=0,Q=0,$=e,j=null;e:for(;;){for(var H;$!==a||h!==0&&$.nodeType!==3||(E=y+h),$!==f||o!==0&&$.nodeType!==3||(I=y+o),$.nodeType===3&&(y+=$.nodeValue.length),(H=$.firstChild)!==null;)j=$,$=H;for(;;){if($===e)break e;if(j===a&&++z===h&&(E=y),j===f&&++Q===o&&(I=y),(H=$.nextSibling)!==null)break;$=j,j=$.parentNode}$=H}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ed={focusedElem:e,selectionRange:a},Ec=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ot=Ls(a.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){$t(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Ad(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ad(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function Iy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Yi(e,a),o&4&&rl(5,a);break;case 1:if(Yi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(y){$t(a,a.return,y)}else{var h=Ls(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){$t(a,a.return,y)}}o&64&&Ty(a),o&512&&sl(a,a.return);break;case 3:if(Yi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{hg(e,n)}catch(y){$t(a,a.return,y)}}break;case 27:n===null&&o&4&&wy(a);case 26:case 5:Yi(e,a),n===null&&o&4&&Ay(a),o&512&&sl(a,a.return);break;case 12:Yi(e,a);break;case 31:Yi(e,a),o&4&&Ny(e,a);break;case 13:Yi(e,a),o&4&&Dy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=nb.bind(null,a),bb(e,a))));break;case 22:if(o=a.memoizedState!==null||Gi,!o){n=n!==null&&n.memoizedState!==null||Re,h=Gi;var f=Re;Gi=o,(Re=n)&&!f?Ki(e,a,(a.subtreeFlags&8772)!==0):Yi(e,a),Gi=h,Re=f}break;case 30:break;default:Yi(e,a)}}function Cy(e){var n=e.alternate;n!==null&&(e.alternate=null,Cy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&aa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,ln=!1;function Qi(e,n,a){for(a=a.child;a!==null;)xy(e,n,a),a=a.sibling}function xy(e,n,a){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:Re||bi(a,n),Qi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||bi(a,n);var o=le,h=ln;kr(a.type)&&(le=a.stateNode,ln=!1),Qi(e,n,a),ml(a.stateNode),le=o,ln=h;break;case 5:Re||bi(a,n);case 6:if(o=le,h=ln,le=null,Qi(e,n,a),le=o,ln=h,le!==null)if(ln)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){$t(a,n,f)}else try{le.removeChild(a.stateNode)}catch(f){$t(a,n,f)}break;case 18:le!==null&&(ln?(e=le,T_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Fa(e)):T_(le,a.stateNode));break;case 4:o=le,h=ln,le=a.stateNode.containerInfo,ln=!0,Qi(e,n,a),le=o,ln=h;break;case 0:case 11:case 14:case 15:Cr(2,a,n),Re||Cr(4,a,n),Qi(e,n,a);break;case 1:Re||(bi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&by(a,n,o)),Qi(e,n,a);break;case 21:Qi(e,n,a);break;case 22:Re=(o=Re)||a.memoizedState!==null,Qi(e,n,a),Re=o;break;default:Qi(e,n,a)}}function Ny(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Fa(e)}catch(a){$t(n,n.return,a)}}}function Dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fa(e)}catch(a){$t(n,n.return,a)}}function KT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ry),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ry),n;default:throw Error(s(435,e.tag))}}function tc(e,n){var a=KT(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=ib.bind(null,e,o);o.then(h,h)}})}function un(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(kr(E.type)){le=E.stateNode,ln=!1;break t}break;case 5:le=E.stateNode,ln=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,ln=!0;break t}E=E.return}if(le===null)throw Error(s(160));xy(f,y,h),le=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Oy(n,e),n=n.sibling}var Xn=null;function Oy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(n,e),cn(e),o&4&&(Cr(3,e,e.return),rl(3,e),Cr(5,e,e.return));break;case 1:un(n,e),cn(e),o&512&&(Re||a===null||bi(a,a.return)),o&64&&Gi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Xn;if(un(n,e),cn(e),o&512&&(Re||a===null||bi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,a),f[Ee]=e,Te(f),o=f;break t;case"link":var y=O_("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),He(f,o,a),h.head.appendChild(f);break;case"meta":if(y=O_("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=h.createElement(o),He(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Ee]=e,Te(f),o=f}e.stateNode=o}else M_(h,e.type,e.stateNode);else e.stateNode=D_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?M_(h,e.type,e.stateNode):D_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Xf(e,e.memoizedProps,a.memoizedProps)}break;case 27:un(n,e),cn(e),o&512&&(Re||a===null||bi(a,a.return)),a!==null&&o&4&&Xf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(un(n,e),cn(e),o&512&&(Re||a===null||bi(a,a.return)),e.flags&32){h=e.stateNode;try{on(h,"")}catch(ot){$t(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Xf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Zf=!0);break;case 6:if(un(n,e),cn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ot){$t(e,e.return,ot)}}break;case 3:if(gc=null,h=Xn,Xn=mc(n.containerInfo),un(n,e),Xn=h,cn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Fa(n.containerInfo)}catch(ot){$t(e,e.return,ot)}Zf&&(Zf=!1,My(e));break;case 4:o=Xn,Xn=mc(e.stateNode.containerInfo),un(n,e),cn(e),Xn=o;break;case 12:un(n,e),cn(e);break;case 31:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 13:un(n,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(nc=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=Gi,Q=Re;if(Gi=z||h,Re=Q||I,un(n,e),Re=Q,Gi=z,cn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||Gi||Re||Ps(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=I.stateNode;var $=I.memoizedProps.style,j=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){$t(I,I.return,ot)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ot){$t(I,I.return,ot)}}}else if(n.tag===18){if(a===null){I=n;try{var H=I.stateNode;h?b_(H,!0):b_(I.stateNode,!1)}catch(ot){$t(I,I.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,tc(e,a))));break;case 19:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 30:break;case 21:break;default:un(n,e),cn(e)}}function cn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Sy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=$f(e);Wu(e,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(on(y,""),a.flags&=-33);var E=$f(e);Wu(e,E,y);break;case 3:case 4:var I=a.stateNode.containerInfo,z=$f(e);Jf(e,z,I);break;default:throw Error(s(161))}}catch(Q){$t(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function My(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;My(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Yi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Iy(e,n.alternate,n),n=n.sibling}function Ps(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Cr(4,n,n.return),Ps(n);break;case 1:bi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&by(n,n.return,a),Ps(n);break;case 27:ml(n.stateNode);case 26:case 5:bi(n,n.return),Ps(n);break;case 22:n.memoizedState===null&&Ps(n);break;case 30:Ps(n);break;default:Ps(n)}e=e.sibling}}function Ki(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(h,f,a),rl(4,f);break;case 1:if(Ki(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)cg(I[h],E)}catch(z){$t(o,o.return,z)}}a&&y&64&&Ty(f),sl(f,f.return);break;case 27:wy(f);case 26:case 5:Ki(h,f,a),a&&o===null&&y&4&&Ay(f),sl(f,f.return);break;case 12:Ki(h,f,a);break;case 31:Ki(h,f,a),a&&y&4&&Ny(h,f);break;case 13:Ki(h,f,a),a&&y&4&&Dy(h,f);break;case 22:f.memoizedState===null&&Ki(h,f,a),sl(f,f.return);break;case 30:break;default:Ki(h,f,a)}n=n.sibling}}function Wf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Go(a))}function td(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e))}function $n(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vy(e,n,a,o),n=n.sibling}function Vy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(e,n,a,o),h&2048&&rl(9,n);break;case 1:$n(e,n,a,o);break;case 3:$n(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e)));break;case 12:if(h&2048){$n(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){$t(n,n.return,I)}}else $n(e,n,a,o);break;case 31:$n(e,n,a,o);break;case 13:$n(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?$n(e,n,a,o):al(e,n):f._visibility&2?$n(e,n,a,o):(f._visibility|=2,Ma(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Wf(y,n);break;case 24:$n(e,n,a,o),h&2048&&td(n.alternate,n);break;default:$n(e,n,a,o)}}function Ma(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,y=n,E=a,I=o,z=y.flags;switch(y.tag){case 0:case 11:case 15:Ma(f,y,E,I,h),rl(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Ma(f,y,E,I,h):al(f,y):(Q._visibility|=2,Ma(f,y,E,I,h)),h&&z&2048&&Wf(y.alternate,y);break;case 24:Ma(f,y,E,I,h),h&&z&2048&&td(y.alternate,y);break;default:Ma(f,y,E,I,h)}n=n.sibling}}function al(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:al(a,o),h&2048&&Wf(o.alternate,o);break;case 24:al(a,o),h&2048&&td(o.alternate,o);break;default:al(a,o)}n=n.sibling}}var ol=8192;function Va(e,n,a){if(e.subtreeFlags&ol)for(e=e.child;e!==null;)ky(e,n,a),e=e.sibling}function ky(e,n,a){switch(e.tag){case 26:Va(e,n,a),e.flags&ol&&e.memoizedState!==null&&Vb(a,Xn,e.memoizedState,e.memoizedProps);break;case 5:Va(e,n,a);break;case 3:case 4:var o=Xn;Xn=mc(e.stateNode.containerInfo),Va(e,n,a),Xn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ol,ol=16777216,Va(e,n,a),ol=o):Va(e,n,a));break;default:Va(e,n,a)}}function Uy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ll(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ue=o,Py(o,e)}Uy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ly(e),e=e.sibling}function Ly(e){switch(e.tag){case 0:case 11:case 15:ll(e),e.flags&2048&&Cr(9,e,e.return);break;case 3:ll(e);break;case 12:ll(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):ll(e);break;default:ll(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ue=o,Py(o,e)}Uy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Cr(8,n,n.return),ec(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function Py(e,n){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:Cr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Go(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ue=o;else t:for(a=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(Cy(o),o===a){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var XT={getCacheForType:function(e){var n=Be(Ae),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Be(Ae).controller.signal}},$T=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ee=null,Dt=null,Mt=0,Xt=0,En=null,xr=!1,ka=!1,ed=!1,Xi=0,he=0,Nr=0,zs=0,nd=0,Tn=0,Ua=0,ul=null,hn=null,id=!1,nc=0,zy=0,ic=1/0,rc=null,Dr=null,Oe=0,Or=null,La=null,$i=0,rd=0,sd=null,jy=null,cl=0,ad=null;function bn(){return(Gt&2)!==0&&Mt!==0?Mt&-Mt:q.T!==null?fd():su()}function By(){if(Tn===0)if((Mt&536870912)===0||Pt){var e=fs;fs<<=1,(fs&3932160)===0&&(fs=262144),Tn=e}else Tn=536870912;return e=_n.current,e!==null&&(e.flags|=32),Tn}function fn(e,n,a){(e===ee&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Pa(e,0),Mr(e,Mt,Tn,!1)),ds(e,a),((Gt&2)===0||e!==ee)&&(e===ee&&((Gt&2)===0&&(zs|=a),he===4&&Mr(e,Mt,Tn,!1)),Ai(e))}function qy(e,n,a){if((Gt&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||jn(e,n),h=o?WT(e,n):ld(e,n,!0),f=o;do{if(h===0){ka&&!o&&Mr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!JT(a)){h=ld(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;h=ul;var I=E.current.memoizedState.isDehydrated;if(I&&(Pa(E,y).flags|=256),y=ld(E,y,!1),y!==2){if(ed&&!I){E.errorRecoveryDisabledLanes|=f,zs|=f,h=4;break t}f=hn,hn=h,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Pa(e,0),Mr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Mr(o,n,Tn,!xr);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=nc+300-tn(),10<h)){if(Mr(o,n,Tn,!xr),si(o,0,!0)!==0)break t;$i=n,o.timeoutHandle=v_(Hy.bind(null,o,a,hn,rc,id,n,Tn,zs,Ua,xr,f,"Throttled",-0,0),h);break t}Hy(o,a,hn,rc,id,n,Tn,zs,Ua,xr,f,null,-0,0)}}break}while(!0);Ai(e)}function Hy(e,n,a,o,h,f,y,E,I,z,Q,$,j,H){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},ky(n,f,$);var ot=(f&62914560)===f?nc-tn():(f&4194048)===f?zy-tn():0;if(ot=kb($,ot),ot!==null){$i=f,e.cancelPendingCommit=ot(Jy.bind(null,e,n,f,a,o,h,y,E,I,Q,$,null,j,H)),Mr(e,f,y,!z);return}}Jy(e,n,f,a,o,h,y,E,I)}function JT(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Mr(e,n,a,o){n&=~nd,n&=~zs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&ms(e,a,n)}function sc(){return(Gt&6)===0?(hl(0),!1):!0}function od(){if(Dt!==null){if(Xt===0)var e=Dt.return;else e=Dt,zi=Ns=null,Af(e),Ca=null,Yo=0,e=Dt;for(;e!==null;)Ey(e.alternate,e),e=e.return;Dt=null}}function Pa(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,yb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),$i=0,od(),ee=e,Dt=a=Li(e.current,null),Mt=n,Xt=0,En=null,xr=!1,ka=jn(e,n),ed=!1,Ua=Tn=nd=zs=Nr=he=0,hn=ul=null,id=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-fe(o),f=1<<h;n|=e[h],o&=~f}return Xi=n,Ru(),a}function Fy(e,n){St=null,q.H=el,n===Ia||n===Vu?(n=ag(),Xt=3):n===hf?(n=ag(),Xt=4):Xt=n===zf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Dt===null&&(he=1,Ku(e,xn(n,e.current)))}function Gy(){var e=_n.current;return e===null?!0:(Mt&4194048)===Mt?Mn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?e===Mn:!1}function Qy(){var e=q.H;return q.H=el,e===null?el:e}function Yy(){var e=q.A;return q.A=XT,e}function ac(){he=4,xr||(Mt&4194048)!==Mt&&_n.current!==null||(ka=!0),(Nr&134217727)===0&&(zs&134217727)===0||ee===null||Mr(ee,Mt,Tn,!1)}function ld(e,n,a){var o=Gt;Gt|=2;var h=Qy(),f=Yy();(ee!==e||Mt!==n)&&(rc=null,Pa(e,n)),n=!1;var y=he;t:do try{if(Xt!==0&&Dt!==null){var E=Dt,I=En;switch(Xt){case 8:od(),y=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var z=Xt;if(Xt=0,En=null,za(e,E,I,z),a&&ka){y=0;break t}break;default:z=Xt,Xt=0,En=null,za(e,E,I,z)}}ZT(),y=he;break}catch(Q){Fy(e,Q)}while(!0);return n&&e.shellSuspendCounter++,zi=Ns=null,Gt=o,q.H=h,q.A=f,Dt===null&&(ee=null,Mt=0,Ru()),y}function ZT(){for(;Dt!==null;)Ky(Dt)}function WT(e,n){var a=Gt;Gt|=2;var o=Qy(),h=Yy();ee!==e||Mt!==n?(rc=null,ic=tn()+500,Pa(e,n)):ka=jn(e,n);t:do try{if(Xt!==0&&Dt!==null){n=Dt;var f=En;e:switch(Xt){case 1:Xt=0,En=null,za(e,n,f,1);break;case 2:case 9:if(rg(f)){Xt=0,En=null,Xy(n);break}n=function(){Xt!==2&&Xt!==9||ee!==e||(Xt=7),Ai(e)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:rg(f)?(Xt=0,En=null,Xy(n)):(Xt=0,En=null,za(e,n,f,7));break;case 5:var y=null;switch(Dt.tag){case 26:y=Dt.memoizedState;case 5:case 27:var E=Dt;if(y?V_(y):E.stateNode.complete){Xt=0,En=null;var I=E.sibling;if(I!==null)Dt=I;else{var z=E.return;z!==null?(Dt=z,oc(z)):Dt=null}break e}}Xt=0,En=null,za(e,n,f,5);break;case 6:Xt=0,En=null,za(e,n,f,6);break;case 8:od(),he=6;break t;default:throw Error(s(462))}}tb();break}catch(Q){Fy(e,Q)}while(!0);return zi=Ns=null,q.H=o,q.A=h,Gt=a,Dt!==null?0:(ee=null,Mt=0,Ru(),he)}function tb(){for(;Dt!==null&&!Lh();)Ky(Dt)}function Ky(e){var n=_y(e.alternate,e,Xi);e.memoizedProps=e.pendingProps,n===null?oc(e):Dt=n}function Xy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=fy(a,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=fy(a,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:Af(n);default:Ey(a,n),n=Dt=Yp(n,Xi),n=_y(a,n,Xi)}e.memoizedProps=e.pendingProps,n===null?oc(e):Dt=n}function za(e,n,a,o){zi=Ns=null,Af(n),Ca=null,Yo=0;var h=n.return;try{if(qT(e,h,n,a,Mt)){he=1,Ku(e,xn(a,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;he=1,Ku(e,xn(a,e.current)),Dt=null;return}n.flags&32768?(Pt||o===1?e=!0:ka||(Mt&536870912)!==0?e=!1:(xr=e=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),$y(n,e)):oc(n)}function oc(e){var n=e;do{if((n.flags&32768)!==0){$y(n,xr);return}e=n.return;var a=GT(n.alternate,n,Xi);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);he===0&&(he=5)}function $y(e,n){do{var a=QT(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);he=6,Dt=null}function Jy(e,n,a,o,h,f,y,E,I){e.cancelPendingCommit=null;do lc();while(Oe!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Xh,jh(e,a,f,y,E,I),e===ee&&(Dt=ee=null,Mt=0),La=n,Or=e,$i=a,rd=f,sd=h,jy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,rb(ur,function(){return n_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=tt.p,tt.p=2,y=Gt,Gt|=4;try{YT(e,n,a)}finally{Gt=y,tt.p=h,q.T=o}}Oe=1,Zy(),Wy(),t_()}}function Zy(){if(Oe===1){Oe=0;var e=Or,n=La,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var o=tt.p;tt.p=2;var h=Gt;Gt|=4;try{Oy(n,e);var f=Ed,y=Pp(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Lp(E.ownerDocument.documentElement,E)){if(I!==null&&Fh(E)){var z=I.start,Q=I.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var $=E.ownerDocument||document,j=$&&$.defaultView||window;if(j.getSelection){var H=j.getSelection(),ot=E.textContent.length,pt=Math.min(I.start,ot),te=I.end===void 0?pt:Math.min(I.end,ot);!H.extend&&pt>te&&(y=te,te=pt,pt=y);var k=Up(E,pt),D=Up(E,te);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=$.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),pt>te?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Y=$[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ec=!!vd,Ed=vd=null}finally{Gt=h,tt.p=o,q.T=a}}e.current=n,Oe=2}}function Wy(){if(Oe===2){Oe=0;var e=Or,n=La,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var o=tt.p;tt.p=2;var h=Gt;Gt|=4;try{Iy(e,n.alternate,n)}finally{Gt=h,tt.p=o,q.T=a}}Oe=3}}function t_(){if(Oe===4||Oe===3){Oe=0,Zl();var e=Or,n=La,a=$i,o=jy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,La=Or=null,e_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Dr=null),Mi(a),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=tt.p,tt.p=2,q.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{q.T=n,tt.p=h}}($i&3)!==0&&lc(),Ai(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ad?cl++:(cl=0,ad=e):cl=0,hl(0)}}function e_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Go(n)))}function lc(){return Zy(),Wy(),t_(),n_()}function n_(){if(Oe!==5)return!1;var e=Or,n=rd;rd=0;var a=Mi($i),o=q.T,h=tt.p;try{tt.p=32>a?32:a,q.T=null,a=sd,sd=null;var f=Or,y=$i;if(Oe=0,La=Or=null,$i=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,Ly(f.current),Vy(f,f.current,y,a),Gt=E,hl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{tt.p=h,q.T=o,e_(e,n)}}function i_(e,n,a){n=xn(a,n),n=Pf(e.stateNode,n,2),e=wr(e,n,2),e!==null&&(ds(e,2),Ai(e))}function $t(e,n,a){if(e.tag===3)i_(e,e,a);else for(;n!==null;){if(n.tag===3){i_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Dr===null||!Dr.has(o))){e=xn(a,e),a=ry(2),o=wr(n,a,2),o!==null&&(sy(a,o,n,e),ds(o,2),Ai(o));break}}n=n.return}}function ud(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new $T;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(ed=!0,h.add(a),e=eb.bind(null,e,n,a),n.then(e,e))}function eb(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(Mt&a)===a&&(he===4||he===3&&(Mt&62914560)===Mt&&300>tn()-nc?(Gt&2)===0&&Pa(e,0):nd|=a,Ua===Mt&&(Ua=0)),Ai(e)}function r_(e,n){n===0&&(n=ru()),e=Is(e,n),e!==null&&(ds(e,n),Ai(e))}function nb(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),r_(e,a)}function ib(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),r_(e,a)}function rb(e,n){return De(e,n)}var uc=null,ja=null,cd=!1,cc=!1,hd=!1,Vr=0;function Ai(e){e!==ja&&e.next===null&&(ja===null?uc=ja=e:ja=ja.next=e),cc=!0,cd||(cd=!0,ab())}function hl(e,n){if(!hd&&cc){hd=!0;do for(var a=!1,o=uc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,l_(o,f))}else f=Mt,f=si(o,o===ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||jn(o,f)||(a=!0,l_(o,f));o=o.next}while(a);hd=!1}}function sb(){s_()}function s_(){cc=cd=!1;var e=0;Vr!==0&&gb()&&(e=Vr);for(var n=tn(),a=null,o=uc;o!==null;){var h=o.next,f=a_(o,n);f===0?(o.next=null,a===null?uc=h:a.next=h,h===null&&(ja=a)):(a=o,(e!==0||(f&3)!==0)&&(cc=!0)),o=h}Oe!==0&&Oe!==5||hl(e),Vr!==0&&(Vr=0)}function a_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-fe(f),E=1<<y,I=h[y];I===-1?((E&a)===0||(E&o)!==0)&&(h[y]=zh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=ee,a=Mt,a=si(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&lr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||jn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&lr(o),Mi(a)){case 2:case 8:a=To;break;case 32:a=ur;break;case 268435456:a=Wl;break;default:a=ur}return o=o_.bind(null,e),a=De(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&lr(o),e.callbackPriority=2,e.callbackNode=null,2}function o_(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(lc()&&e.callbackNode!==a)return null;var o=Mt;return o=si(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(qy(e,o,n),a_(e,tn()),e.callbackNode!=null&&e.callbackNode===a?o_.bind(null,e):null)}function l_(e,n){if(lc())return null;qy(e,n,!0)}function ab(){_b(function(){(Gt&6)!==0?De(Eo,sb):s_()})}function fd(){if(Vr===0){var e=wa;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),Vr=e}return Vr}function u_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ca(""+e)}function c_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function ob(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=u_((h[Ve]||null).action),y=o.submitter;y&&(n=(n=y[Ve]||null)?u_(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new gi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Vr!==0){var I=y?c_(h,y):new FormData(h);Of(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=y?c_(h,y):new FormData(h),Of(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var dd=0;dd<Kh.length;dd++){var md=Kh[dd],lb=md.toLowerCase(),ub=md[0].toUpperCase()+md.slice(1);Kn(lb,"on"+ub)}Kn(Bp,"onAnimationEnd"),Kn(qp,"onAnimationIteration"),Kn(Hp,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(wT,"onTransitionRun"),Kn(RT,"onTransitionStart"),Kn(IT,"onTransitionCancel"),Kn(Fp,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function h_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){wu(Q)}h.currentTarget=null,f=I}else for(y=0;y<o.length;y++){if(E=o[y],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){wu(Q)}h.currentTarget=null,f=I}}}}function Ot(e,n){var a=n[sa];a===void 0&&(a=n[sa]=new Set);var o=e+"__bubble";a.has(o)||(f_(n,e,2,!1),a.add(o))}function pd(e,n,a){var o=0;n&&(o|=4),f_(a,e,o,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function gd(e){if(!e[hc]){e[hc]=!0,So.forEach(function(a){a!=="selectionchange"&&(cb.has(a)||pd(a,!1,e),pd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,pd("selectionchange",!1,n))}}function f_(e,n,a,o){switch(B_(n)){case 2:var h=Pb;break;case 8:h=zb;break;default:h=Dd}a=h.bind(null,n,a,e),h=void 0,!vs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function yd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var I=y.tag;if((I===3||I===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=ui(E),y===null)return;if(I=y.tag,I===5||I===6||I===26||I===27){o=f=y;continue t}E=E.parentNode}}o=o.return}pr(function(){var z=f,Q=wn(a),$=[];t:{var j=Gp.get(e);if(j!==void 0){var H=gi,ot=e;switch(e){case"keypress":if(Ts(a)===0)break t;case"keydown":case"keyup":H=bu;break;case"focusin":ot="focus",H=As;break;case"focusout":ot="blur",H=As;break;case"beforeblur":case"afterblur":H=As;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Bp:case qp:case Hp:H=pu;break;case Fp:H=T;break;case"scroll":case"scrollend":H=Uo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ui;break;case"toggle":case"beforetoggle":H=At}var pt=(n&4)!==0,te=!pt&&(e==="scroll"||e==="scrollend"),k=pt?j!==null?j+"Capture":null:j;pt=[];for(var D=z,P;D!==null;){var Y=D;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=Fn(D,k),Y!=null&&pt.push(dl(D,Y,P))),te)break;D=D.return}0<pt.length&&(j=new H(j,ot,null,a,Q),$.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&a!==Mo&&(ot=a.relatedTarget||a.fromElement)&&(ui(ot)||ot[oi]))break t;if((H||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,H?(ot=a.relatedTarget||a.toElement,H=z,ot=ot?ui(ot):null,ot!==null&&(te=c(ot),pt=ot.tag,ot!==te||pt!==5&&pt!==27&&pt!==6)&&(ot=null)):(H=null,ot=z),H!==ot)){if(pt=Lo,Y="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Ui,Y="onPointerLeave",k="onPointerEnter",D="pointer"),te=H==null?j:mn(H),P=ot==null?j:mn(ot),j=new pt(Y,D+"leave",H,a,Q),j.target=te,j.relatedTarget=P,Y=null,ui(Q)===z&&(pt=new pt(k,D+"enter",ot,a,Q),pt.target=P,pt.relatedTarget=te,Y=pt),te=Y,H&&ot)e:{for(pt=hb,k=H,D=ot,P=0,Y=k;Y;Y=pt(Y))P++;Y=0;for(var ft=D;ft;ft=pt(ft))Y++;for(;0<P-Y;)k=pt(k),P--;for(;0<Y-P;)D=pt(D),Y--;for(;P--;){if(k===D||D!==null&&k===D.alternate){pt=k;break e}k=pt(k),D=pt(D)}pt=null}else pt=null;H!==null&&d_($,j,H,pt,!1),ot!==null&&te!==null&&d_($,te,ot,pt,!0)}}t:{if(j=z?mn(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var qt=Np;else if(Cp(j))if(Dp)qt=bT;else{qt=ET;var lt=vT}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ua(z.elementType)&&(qt=Np):qt=TT;if(qt&&(qt=qt(e,z))){xp($,qt,a,Q);break t}lt&&lt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&No(j,"number",j.value)}switch(lt=z?mn(z):window,e){case"focusin":(Cp(lt)||lt.contentEditable==="true")&&(ya=lt,Gh=z,qo=null);break;case"focusout":qo=Gh=ya=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,zp($,a,Q);break;case"selectionchange":if(ST)break;case"keydown":case"keyup":zp($,a,Q)}var It;if(Ft)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else ga?Ss(e,a)&&(Vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Vt="onCompositionStart");Vt&&(vi&&a.locale!=="ko"&&(ga||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&ga&&(It=ko()):(pi=Q,Vo="value"in pi?pi.value:pi.textContent,ga=!0)),lt=fc(z,Vt),0<lt.length&&(Vt=new _i(Vt,e,null,a,Q),$.push({event:Vt,listeners:lt}),It?Vt.data=It:(It=pa(a),It!==null&&(Vt.data=It)))),(It=In?pT(e,a):gT(e,a))&&(Vt=fc(z,"onBeforeInput"),0<Vt.length&&(lt=new _i("onBeforeInput","beforeinput",null,a,Q),$.push({event:lt,listeners:Vt}),lt.data=It)),ob($,e,z,a,Q)}h_($,n)})}function dl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function fc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Fn(e,a),h!=null&&o.unshift(dl(e,h,f)),h=Fn(e,n),h!=null&&o.push(dl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function hb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function d_(e,n,a,o,h){for(var f=n._reactName,y=[];a!==null&&a!==o;){var E=a,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=Fn(a,f),z!=null&&y.unshift(dl(a,z,I))):h||(z=Fn(a,f),z!=null&&y.push(dl(a,z,I)))),a=a.return}y.length!==0&&e.push({event:n,listeners:y})}var fb=/\r\n?/g,db=/\u0000|\uFFFD/g;function m_(e){return(typeof e=="string"?e:""+e).replace(fb,`
`).replace(db,"")}function p_(e,n){return n=m_(n),m_(e)===n}function Wt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||on(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&on(e,""+o);break;case"className":pn(e,"class",o);break;case"tabIndex":pn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(e,a,o);break;case"style":Oo(e,o,f);break;case"data":if(n!=="object"){pn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ca(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Wt(e,n,"name",h.name,h,null),Wt(e,n,"formEncType",h.formEncType,h,null),Wt(e,n,"formMethod",h.formMethod,h,null),Wt(e,n,"formTarget",h.formTarget,h,null)):(Wt(e,n,"encType",h.encType,h,null),Wt(e,n,"method",h.method,h,null),Wt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ca(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ca(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),oa(e,"popover",o);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":oa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=fu.get(a)||a,oa(e,a,o))}}function _d(e,n,a,o,h,f){switch(a){case"style":Oo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?on(e,o):(typeof o=="number"||typeof o=="bigint")&&on(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Ve]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):oa(e,a,o)}}}function He(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Wt(e,n,f,y,a,null)}}h&&Wt(e,n,"srcSet",a.srcSet,a,null),o&&Wt(e,n,"src",a.src,a,null);return;case"input":Ot("invalid",e);var E=f=y=h=null,I=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":y=Q;break;case"checked":I=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Wt(e,n,o,Q,a,null)}}uu(e,f,E,I,z,y,h,!1);return;case"select":Ot("invalid",e),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:Wt(e,n,h,E,a,null)}n=f,a=y,e.multiple=!!o,n!=null?hr(e,!!o,n,!1):a!=null&&hr(e,!!o,a,!0);return;case"textarea":Ot("invalid",e),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Wt(e,n,y,E,a,null)}fr(e,o,h,f);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Wt(e,n,I,o,a,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<fl.length;o++)Ot(fl[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Wt(e,n,z,o,a,null)}return;default:if(ua(n)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&_d(e,n,Q,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Wt(e,n,E,o,a,null))}function mb(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,I=null,z=null,Q=null;for(H in a){var $=a[H];if(a.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=$;default:o.hasOwnProperty(H)||Wt(e,n,H,null,o,$)}}for(var j in o){var H=o[j];if($=a[j],o.hasOwnProperty(j)&&(H!=null||$!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Q=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==$&&Wt(e,n,j,H,o,$)}}la(e,y,E,I,z,Q,f,h);return;case"select":H=y=E=j=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||Wt(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==I&&Wt(e,n,h,f,o,I)}n=E,a=y,o=H,j!=null?hr(e,!!a,j,!1):!!o!=!!a&&(n!=null?hr(e,!!a,n,!0):hr(e,!!a,a?[]:"",!1));return;case"textarea":H=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,n,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Wt(e,n,y,h,o,f)}cu(e,j,H);return;case"option":for(var ot in a)if(j=a[ot],a.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:Wt(e,n,ot,null,o,j)}for(I in o)if(j=o[I],H=a[I],o.hasOwnProperty(I)&&j!==H&&(j!=null||H!=null))switch(I){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Wt(e,n,I,j,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)j=a[pt],a.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&Wt(e,n,pt,null,o,j);for(z in o)if(j=o[z],H=a[z],o.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Wt(e,n,z,j,o,H)}return;default:if(ua(n)){for(var te in a)j=a[te],a.hasOwnProperty(te)&&j!==void 0&&!o.hasOwnProperty(te)&&_d(e,n,te,void 0,o,j);for(Q in o)j=o[Q],H=a[Q],!o.hasOwnProperty(Q)||j===H||j===void 0&&H===void 0||_d(e,n,Q,j,o,H);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&Wt(e,n,k,null,o,j);for($ in o)j=o[$],H=a[$],!o.hasOwnProperty($)||j===H||j==null&&H==null||Wt(e,n,$,j,o,H)}function g_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&g_(y)){for(y=0,E=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],z=I.startTime;if(z>E)break;var Q=I.transferSize,$=I.initiatorType;Q&&g_($)&&(I=I.responseEnd,y+=Q*(I<E?1:(E-z)/(I-z)))}if(--o,n+=8*(f+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var vd=null,Ed=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function y_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function __(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Td(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bd=null;function gb(){var e=window.event;return e&&e.type==="popstate"?e===bd?!1:(bd=e,!0):(bd=null,!1)}var v_=typeof setTimeout=="function"?setTimeout:void 0,yb=typeof clearTimeout=="function"?clearTimeout:void 0,E_=typeof Promise=="function"?Promise:void 0,_b=typeof queueMicrotask=="function"?queueMicrotask:typeof E_<"u"?function(e){return E_.resolve(null).then(e).catch(vb)}:v_;function vb(e){setTimeout(function(){throw e})}function kr(e){return e==="head"}function T_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Fa(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")ml(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ml(a);for(var f=a.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[li]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&ml(e.ownerDocument.body);a=h}while(a);Fa(n)}function b_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Ad(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ad(a),aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Eb(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[li])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function Tb(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Vn(e.nextSibling),e===null))return null;return e}function A_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function Sd(e){return e.data==="$?"||e.data==="$~"}function wd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function bb(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Rd=null;function S_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Vn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function w_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function R_(e,n,a){switch(n=dc(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ml(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);aa(e)}var kn=new Map,I_=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ji=tt.d;tt.d={f:Ab,r:Sb,D:wb,C:Rb,L:Ib,m:Cb,X:Nb,S:xb,M:Db};function Ab(){var e=Ji.f(),n=sc();return e||n}function Sb(e){var n=Sn(e);n!==null&&n.tag===5&&n.type==="form"?Fg(n):Ji.r(e)}var Ba=typeof document>"u"?null:document;function C_(e,n,a){var o=Ba;if(o&&typeof n=="string"&&n){var h=an(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),I_.has(h)||(I_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),Te(n),o.head.appendChild(n)))}}function wb(e){Ji.D(e),C_("dns-prefetch",e,null)}function Rb(e,n){Ji.C(e,n),C_("preconnect",e,n)}function Ib(e,n,a){Ji.L(e,n,a);var o=Ba;if(o&&e&&n){var h='link[rel="preload"][as="'+an(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(e)+'"]';var f=h;switch(n){case"style":f=qa(e);break;case"script":f=Ha(e)}kn.has(f)||(e=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(pl(f))||n==="script"&&o.querySelector(gl(f))||(n=o.createElement("link"),He(n,"link",e),Te(n),o.head.appendChild(n)))}}function Cb(e,n){Ji.m(e,n);var a=Ba;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+an(o)+'"][href="'+an(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ha(e)}if(!kn.has(f)&&(e=A({rel:"modulepreload",href:e},n),kn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gl(f)))return}o=a.createElement("link"),He(o,"link",e),Te(o),a.head.appendChild(o)}}}function xb(e,n,a){Ji.S(e,n,a);var o=Ba;if(o&&e){var h=ci(o).hoistableStyles,f=qa(e);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(pl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},a),(a=kn.get(f))&&Id(e,a);var I=y=o.createElement("link");Te(I),He(I,"link",e),I._p=new Promise(function(z,Q){I.onload=z,I.onerror=Q}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function Nb(e,n){Ji.X(e,n);var a=Ba;if(a&&e){var o=ci(a).hoistableScripts,h=Ha(e),f=o.get(h);f||(f=a.querySelector(gl(h)),f||(e=A({src:e,async:!0},n),(n=kn.get(h))&&Cd(e,n),f=a.createElement("script"),Te(f),He(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Db(e,n){Ji.M(e,n);var a=Ba;if(a&&e){var o=ci(a).hoistableScripts,h=Ha(e),f=o.get(h);f||(f=a.querySelector(gl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=kn.get(h))&&Cd(e,n),f=a.createElement("script"),Te(f),He(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function x_(e,n,a,o){var h=(h=Rt.current)?mc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=qa(a.href),a=ci(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=qa(a.href);var f=ci(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(pl(e)))&&!f._p&&(y.instance=f,y.state.loading=5),kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(e,a),f||Ob(h,e,a,y.state))),n&&o===null)throw Error(s(528,""));return y}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ha(a),a=ci(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function qa(e){return'href="'+an(e)+'"'}function pl(e){return'link[rel="stylesheet"]['+e+"]"}function N_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Ob(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",a),Te(n),e.head.appendChild(n))}function Ha(e){return'[src="'+an(e)+'"]'}function gl(e){return"script[async]"+e}function D_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+an(a.href)+'"]');if(o)return n.instance=o,Te(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),He(o,"style",h),pc(o,a.precedence,e),n.instance=o;case"stylesheet":h=qa(a.href);var f=e.querySelector(pl(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;o=N_(a),(h=kn.get(h))&&Id(o,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var y=f;return y._p=new Promise(function(E,I){y.onload=E,y.onerror=I}),He(f,"link",o),n.state.loading|=4,pc(f,a.precedence,e),n.instance=f;case"script":return f=Ha(a.src),(h=e.querySelector(gl(f)))?(n.instance=h,Te(h),h):(o=a,(h=kn.get(f))&&(o=A({},a),Cd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,pc(o,a.precedence,e));return n.instance}function pc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Id(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gc=null;function O_(e,n,a){if(gc===null){var o=new Map,h=gc=new Map;h.set(a,o)}else h=gc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[li]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function M_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function Mb(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function V_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Vb(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=qa(o.href),f=n.querySelector(pl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Te(f);return}f=n.ownerDocument||n,o=N_(o),(h=kn.get(h))&&Id(o,h),f=f.createElement("link"),Te(f);var y=f;y._p=new Promise(function(E,I){y.onload=E,y.onerror=I}),He(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=yc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var xd=0;function kb(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&xd===0&&(xd=62500*pb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>xd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(Ub,e),_c=null,yc.call(e))}function Ub(e,n){if(!(n.state.loading&4)){var a=_c.get(e);if(a)var o=a.get(null);else{a=new Map,_c.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=yc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var yl={$$typeof:ht,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function Lb(e,n,a,o,h,f,y,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function k_(e,n,a,o,h,f,y,E,I,z,Q,$){return e=new Lb(e,n,a,y,I,z,Q,$,E),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),e.current=f,f.stateNode=e,n=lf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},ff(f),e}function U_(e){return e?(e=Ea,e):Ea}function L_(e,n,a,o,h,f){h=U_(h),o.context===null?o.context=h:o.pendingContext=h,o=Sr(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=wr(e,o,n),a!==null&&(fn(a,e,n),Xo(a,e,n))}function P_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Nd(e,n){P_(e,n),(e=e.alternate)&&P_(e,n)}function z_(e){if(e.tag===13||e.tag===31){var n=Is(e,67108864);n!==null&&fn(n,e,67108864),Nd(e,67108864)}}function j_(e){if(e.tag===13||e.tag===31){var n=bn();n=ps(n);var a=Is(e,n);a!==null&&fn(a,e,n),Nd(e,n)}}var Ec=!0;function Pb(e,n,a,o){var h=q.T;q.T=null;var f=tt.p;try{tt.p=2,Dd(e,n,a,o)}finally{tt.p=f,q.T=h}}function zb(e,n,a,o){var h=q.T;q.T=null;var f=tt.p;try{tt.p=8,Dd(e,n,a,o)}finally{tt.p=f,q.T=h}}function Dd(e,n,a,o){if(Ec){var h=Od(o);if(h===null)yd(e,n,o,Tc,a),q_(e,o);else if(Bb(h,e,n,a,o))o.stopPropagation();else if(q_(e,o),n&4&&-1<jb.indexOf(e)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=ri(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var I=1<<31-fe(y);E.entanglements[1]|=I,y&=~I}Ai(f),(Gt&6)===0&&(ic=tn()+500,hl(0))}}break;case 31:case 13:E=Is(f,2),E!==null&&fn(E,f,2),sc(),Nd(f,2)}if(f=Od(o),f===null&&yd(e,n,o,Tc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else yd(e,n,o,null,a)}}function Od(e){return e=wn(e),Md(e)}var Tc=null;function Md(e){if(Tc=null,e=ui(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Tc=e,null}function B_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hs()){case Eo:return 2;case To:return 8;case ur:case Ph:return 32;case Wl:return 268435456;default:return 32}default:return 32}}var Vd=!1,Ur=null,Lr=null,Pr=null,_l=new Map,vl=new Map,zr=[],jb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q_(e,n){switch(e){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":_l.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(n.pointerId)}}function El(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&z_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Bb(e,n,a,o,h){switch(n){case"focusin":return Ur=El(Ur,e,n,a,o,h),!0;case"dragenter":return Lr=El(Lr,e,n,a,o,h),!0;case"mouseover":return Pr=El(Pr,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return _l.set(f,El(_l.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,vl.set(f,El(vl.get(f)||null,e,n,a,o,h)),!0}return!1}function H_(e){var n=ui(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Bn(e.priority,function(){j_(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,Bn(e.priority,function(){j_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Od(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Mo=o,a.target.dispatchEvent(o),Mo=null}else return n=Sn(a),n!==null&&z_(n),e.blockedOn=a,!1;n.shift()}return!0}function F_(e,n,a){bc(e)&&a.delete(n)}function qb(){Vd=!1,Ur!==null&&bc(Ur)&&(Ur=null),Lr!==null&&bc(Lr)&&(Lr=null),Pr!==null&&bc(Pr)&&(Pr=null),_l.forEach(F_),vl.forEach(F_)}function Ac(e,n){e.blockedOn===n&&(e.blockedOn=null,Vd||(Vd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,qb)))}var Sc=null;function G_(e){Sc!==e&&(Sc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Md(o||a)===null)continue;break}var f=Sn(a);f!==null&&(e.splice(n,3),n-=3,Of(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Fa(e){function n(I){return Ac(I,e)}Ur!==null&&Ac(Ur,e),Lr!==null&&Ac(Lr,e),Pr!==null&&Ac(Pr,e),_l.forEach(n),vl.forEach(n);for(var a=0;a<zr.length;a++){var o=zr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<zr.length&&(a=zr[0],a.blockedOn===null);)H_(a),a.blockedOn===null&&zr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[Ve]||null;if(typeof f=="function")y||G_(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Ve]||null)E=y.formAction;else if(Md(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),G_(a)}}}function Q_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function kd(e){this._internalRoot=e}wc.prototype.render=kd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=bn();L_(a,o,e,n,null,null)},wc.prototype.unmount=kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;L_(e.current,2,null,e,null,null),sc(),n[oi]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var n=su();e={blockedOn:null,target:e,priority:n};for(var a=0;a<zr.length&&n!==0&&n<zr[a].priority;a++);zr.splice(a,0,e),a===0&&H_(e)}};var Y_=t.version;if(Y_!=="19.2.0")throw Error(s(527,Y_,"19.2.0"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=_(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Hb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{zn=Rc.inject(Hb),Pe=Rc}catch{}}return bl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",h=ty,f=ey,y=ny;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=k_(e,1,!1,null,null,a,o,null,h,f,y,Q_),e[oi]=n.current,gd(e),new kd(n)},bl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=ty,y=ey,E=ny,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=k_(e,1,!0,n,a??null,o,h,I,f,y,E,Q_),n.context=U_(null),a=n.current,o=bn(),o=ps(o),h=Sr(o),h.callback=null,wr(a,h,o),a=o,n.current.lanes=a,ds(n,a),Ai(n),e[oi]=n.current,gd(e),new wc(n)},bl.version="19.2.0",bl}var i0;function eA(){if(i0)return Pd.exports;i0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Pd.exports=tA(),Pd.exports}var nA=eA();const iA=()=>{};var r0={};const Pv=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},rA=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],d=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,b=c>>2,A=(c&3)<<4|g>>4;let x=(g&15)<<2|_>>6,G=_&63;p||(G=64,d||(x=64)),s.push(i[b],i[A],i[x],i[G])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Pv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):rA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||A==null)throw new sA;const x=c<<2|g>>4;if(s.push(x),_!==64){const G=g<<4&240|_>>2;if(s.push(G),A!==64){const W=_<<6&192|A;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class sA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aA=function(r){const t=Pv(r);return zv.encodeByteArray(t,!0)},Fc=function(r){return aA(r).replace(/\./g,"")},jv=function(r){try{return zv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function oA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lA=()=>oA().__FIREBASE_DEFAULTS__,uA=()=>{if(typeof process>"u"||typeof r0>"u")return;const r=r0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},cA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&jv(r[1]);return t&&JSON.parse(t)},hh=()=>{try{return iA()||lA()||uA()||cA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Bv=r=>hh()?.emulatorHosts?.[r],hA=r=>{const t=Bv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},qv=()=>hh()?.config,Hv=r=>hh()?.[`_${r}`];class fA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}function uo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Fv(r){return(await fetch(r,{credentials:"include"})).ok}function dA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const Il={};function mA(){const r={prod:[],emulator:[]};for(const t of Object.keys(Il))Il[t]?r.emulator.push(t):r.prod.push(t);return r}function pA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let s0=!1;function Gv(r,t){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||Il[r]===t||Il[r]||s0)return;Il[r]=t;function i(x){return`__firebase__banner__${x}`}const s="__firebase__banner",c=mA().prod.length>0;function d(){const x=document.getElementById(s);x&&x.remove()}function g(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,G){x.setAttribute("width","24"),x.setAttribute("id",G),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{s0=!0,d()},x}function b(x,G){x.setAttribute("id",G),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function A(){const x=pA(s),G=i("text"),W=document.getElementById(G)||document.createElement("span"),Z=i("learnmore"),F=document.getElementById(Z)||document.createElement("a"),nt=i("preprendIcon"),ut=document.getElementById(nt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ht=x.element;g(ht),b(F,Z);const Nt=_();p(ut,nt),ht.append(ut,W,F,Nt),document.body.appendChild(ht)}c?(W.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function yA(){const r=hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _A(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function EA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TA(){const r=We();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function bA(){return!yA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AA(){try{return typeof indexedDB=="object"}catch{return!1}}function SA(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const wA="FirebaseError";class ar extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=wA,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?RA(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ar(l,g,s)}}function RA(r,t){return r.replace(IA,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const IA=/\{\$([^}]+)}/g;function CA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Gs(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(a0(c)&&a0(d)){if(!Gs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function a0(r){return r!==null&&typeof r=="object"}function Hl(r){const t=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function xA(r,t){const i=new NA(r,t);return i.subscribe.bind(i)}class NA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");DA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=qd),l.error===void 0&&(l.error=qd),l.complete===void 0&&(l.complete=qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function qd(){}function rn(r){return r&&r._delegate?r._delegate:r}class Qs{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const js="[DEFAULT]";class OA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new fA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(VA(t))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=js){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=js){return this.instances.has(t)}getOptions(t=js){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:MA(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=js){return this.component?this.component.multipleInstances?t:js:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MA(r){return r===js?void 0:r}function VA(r){return r.instantiationMode==="EAGER"}class kA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new OA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const UA={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},LA=kt.INFO,PA={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},zA=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=PA[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Cm{constructor(t){this.name=t,this._logLevel=LA,this._logHandler=zA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?UA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const jA=(r,t)=>t.some(i=>r instanceof i);let o0,l0;function BA(){return o0||(o0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qA(){return l0||(l0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qv=new WeakMap,tm=new WeakMap,Yv=new WeakMap,Hd=new WeakMap,xm=new WeakMap;function HA(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Yr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Qv.set(i,r)}).catch(()=>{}),xm.set(t,r),t}function FA(r){if(tm.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});tm.set(r,t)}let em={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return tm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Yv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Yr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function GA(r){em=r(em)}function QA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(Fd(this),t,...i);return Yv.set(s,t.sort?t.sort():[t]),Yr(s)}:qA().includes(r)?function(...t){return r.apply(Fd(this),t),Yr(Qv.get(this))}:function(...t){return Yr(r.apply(Fd(this),t))}}function YA(r){return typeof r=="function"?QA(r):(r instanceof IDBTransaction&&FA(r),jA(r,BA())?new Proxy(r,em):r)}function Yr(r){if(r instanceof IDBRequest)return HA(r);if(Hd.has(r))return Hd.get(r);const t=YA(r);return t!==r&&(Hd.set(r,t),xm.set(t,r)),t}const Fd=r=>xm.get(r);function KA(r,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Yr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Yr(d.result),p.oldVersion,p.newVersion,Yr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const XA=["get","getKey","getAll","getAllKeys","count"],$A=["put","add","delete","clear"],Gd=new Map;function u0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Gd.get(t))return Gd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=$A.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||XA.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&p.done]))[0]};return Gd.set(t,c),c}GA(r=>({...r,get:(t,i,s)=>u0(t,i)||r.get(t,i,s),has:(t,i)=>!!u0(t,i)||r.has(t,i)}));class JA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ZA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function ZA(r){return r.getComponent()?.type==="VERSION"}const nm="@firebase/app",c0="0.14.6";const er=new Cm("@firebase/app"),WA="@firebase/app-compat",tS="@firebase/analytics-compat",eS="@firebase/analytics",nS="@firebase/app-check-compat",iS="@firebase/app-check",rS="@firebase/auth",sS="@firebase/auth-compat",aS="@firebase/database",oS="@firebase/data-connect",lS="@firebase/database-compat",uS="@firebase/functions",cS="@firebase/functions-compat",hS="@firebase/installations",fS="@firebase/installations-compat",dS="@firebase/messaging",mS="@firebase/messaging-compat",pS="@firebase/performance",gS="@firebase/performance-compat",yS="@firebase/remote-config",_S="@firebase/remote-config-compat",vS="@firebase/storage",ES="@firebase/storage-compat",TS="@firebase/firestore",bS="@firebase/ai",AS="@firebase/firestore-compat",SS="firebase",wS="12.6.0";const im="[DEFAULT]",RS={[nm]:"fire-core",[WA]:"fire-core-compat",[eS]:"fire-analytics",[tS]:"fire-analytics-compat",[iS]:"fire-app-check",[nS]:"fire-app-check-compat",[rS]:"fire-auth",[sS]:"fire-auth-compat",[aS]:"fire-rtdb",[oS]:"fire-data-connect",[lS]:"fire-rtdb-compat",[uS]:"fire-fn",[cS]:"fire-fn-compat",[hS]:"fire-iid",[fS]:"fire-iid-compat",[dS]:"fire-fcm",[mS]:"fire-fcm-compat",[pS]:"fire-perf",[gS]:"fire-perf-compat",[yS]:"fire-rc",[_S]:"fire-rc-compat",[vS]:"fire-gcs",[ES]:"fire-gcs-compat",[TS]:"fire-fst",[AS]:"fire-fst-compat",[bS]:"fire-vertex","fire-js":"fire-js",[SS]:"fire-js-all"};const Gc=new Map,IS=new Map,rm=new Map;function h0(r,t){try{r.container.addComponent(t)}catch(i){er.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function eo(r){const t=r.name;if(rm.has(t))return er.debug(`There were multiple attempts to register component ${t}.`),!1;rm.set(t,r);for(const i of Gc.values())h0(i,r);for(const i of IS.values())h0(i,r);return!0}function Nm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Jn(r){return r==null?!1:r.settings!==void 0}const CS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new ql("app","Firebase",CS);class xS{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}const co=wS;function Kv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s={name:im,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Kr.create("bad-app-name",{appName:String(l)});if(i||(i=qv()),!i)throw Kr.create("no-options");const c=Gc.get(l);if(c){if(Gs(i,c.options)&&Gs(s,c.config))return c;throw Kr.create("duplicate-app",{appName:l})}const d=new kA(l);for(const p of rm.values())d.addComponent(p);const g=new xS(i,s,d);return Gc.set(l,g),g}function Xv(r=im){const t=Gc.get(r);if(!t&&r===im&&qv())return Kv();if(!t)throw Kr.create("no-app",{appName:r});return t}function Xr(r,t,i){let s=RS[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),er.warn(d.join(" "));return}eo(new Qs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const NS="firebase-heartbeat-database",DS=1,Ml="firebase-heartbeat-store";let Qd=null;function $v(){return Qd||(Qd=KA(NS,DS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ml)}catch(i){console.warn(i)}}}}).catch(r=>{throw Kr.create("idb-open",{originalErrorMessage:r.message})})),Qd}async function OS(r){try{const i=(await $v()).transaction(Ml),s=await i.objectStore(Ml).get(Jv(r));return await i.done,s}catch(t){if(t instanceof ar)er.warn(t.message);else{const i=Kr.create("idb-get",{originalErrorMessage:t?.message});er.warn(i.message)}}}async function f0(r,t){try{const s=(await $v()).transaction(Ml,"readwrite");await s.objectStore(Ml).put(t,Jv(r)),await s.done}catch(i){if(i instanceof ar)er.warn(i.message);else{const s=Kr.create("idb-set",{originalErrorMessage:i?.message});er.warn(s.message)}}}function Jv(r){return`${r.name}!${r.options.appId}`}const MS=1024,VS=30;class kS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new LS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=d0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>VS){const l=PS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){er.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=d0(),{heartbeatsToSend:i,unsentEntries:s}=US(this._heartbeatsCache.heartbeats),l=Fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return er.warn(t),""}}}function d0(){return new Date().toISOString().substring(0,10)}function US(r,t=MS){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),m0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),m0(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class LS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AA()?SA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await OS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return f0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return f0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function m0(r){return Fc(JSON.stringify({version:2,heartbeats:r})).length}function PS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}function zS(r){eo(new Qs("platform-logger",t=>new JA(t),"PRIVATE")),eo(new Qs("heartbeat",t=>new kS(t),"PRIVATE")),Xr(nm,c0,r),Xr(nm,c0,"esm2020"),Xr("fire-js","")}zS("");var jS="firebase",BS="12.6.0";Xr(jS,BS,"app");function Zv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qS=Zv,Wv=new ql("auth","Firebase",Zv());const Qc=new Cm("@firebase/auth");function HS(r,...t){Qc.logLevel<=kt.WARN&&Qc.warn(`Auth (${co}): ${r}`,...t)}function Vc(r,...t){Qc.logLevel<=kt.ERROR&&Qc.error(`Auth (${co}): ${r}`,...t)}function nr(r,...t){throw Dm(r,...t)}function Ri(r,...t){return Dm(r,...t)}function tE(r,t,i){const s={...qS(),[t]:i};return new ql("auth","Firebase",s).create(t,{appName:r.name})}function $r(r){return tE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dm(r,...t){if(typeof r!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return Wv.create(r,...t)}function yt(r,t,...i){if(!r)throw Dm(t,...i)}function Zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Vc(t),new Error(t)}function ir(r,t){r||Zi(t)}function sm(){return typeof self<"u"&&self.location?.href||""}function FS(){return p0()==="http:"||p0()==="https:"}function p0(){return typeof self<"u"&&self.location?.protocol||null}function GS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FS()||vA()||"connection"in navigator)?navigator.onLine:!0}function QS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Fl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ir(i>t,"Short delay should be less than long delay!"),this.isMobile=gA()||EA()}get(){return GS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Om(r,t){ir(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class eE{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const YS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const KS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XS=new Fl(3e4,6e4);function fh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function $s(r,t,i,s,l={}){return nE(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=Hl({key:r.config.apiKey,...d}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:p,...c};return _A()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&uo(r.emulatorConfig.host)&&(_.credentials="include"),eE.fetch()(await rE(r,r.config.apiHost,i,g),_)})}async function nE(r,t,i){r._canInitEmulator=!1;const s={...YS,...t};try{const l=new $S(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ic(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Ic(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw Ic(r,"user-disabled",d);const b=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw tE(r,b,_);nr(r,b)}}catch(l){if(l instanceof ar)throw l;nr(r,"network-request-failed",{message:String(l)})}}async function iE(r,t,i,s,l={}){const c=await $s(r,t,i,s,l);return"mfaPendingCredential"in c&&nr(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function rE(r,t,i,s){const l=`${t}${i}?${s}`,c=r,d=c.config.emulator?Om(r.config,l):`${r.config.apiScheme}://${l}`;return KS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class $S{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Ri(this.auth,"network-request-failed")),XS.get())})}}function Ic(r,t,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Ri(r,t,s);return l.customData._tokenResponse=i,l}async function JS(r,t){return $s(r,"POST","/v1/accounts:delete",t)}async function Yc(r,t){return $s(r,"POST","/v1/accounts:lookup",t)}function Cl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ZS(r,t=!1){const i=rn(r),s=await i.getIdToken(t),l=Mm(s);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:Cl(Yd(l.auth_time)),issuedAtTime:Cl(Yd(l.iat)),expirationTime:Cl(Yd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Yd(r){return Number(r)*1e3}function Mm(r){const[t,i,s]=r.split(".");if(t===void 0||i===void 0||s===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=jv(i);return l?JSON.parse(l):(Vc("Failed to decode base64 JWT payload"),null)}catch(l){return Vc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function g0(r){const t=Mm(r);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function no(r,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof ar&&WS(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function WS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class tw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class am{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kc(r){const t=r.auth,i=await r.getIdToken(),s=await no(r,Yc(t,{idToken:i}));yt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?sE(l.providerUserInfo):[],d=nw(r.providerData,c),g=r.isAnonymous,p=!(r.email&&l.passwordHash)&&!d?.length,_=g?p:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function ew(r){const t=rn(r);await Kc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function nw(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function sE(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function iw(r,t){const i=await nE(r,{},async()=>{const s=Hl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await rE(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return r.emulatorConfig&&uo(r.emulatorConfig.host)&&(p.credentials="include"),eE.fetch()(d,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function rw(r,t){return $s(r,"POST","/v2/accounts:revokeToken",fh(r,t))}class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):g0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=g0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await iw(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new $a;return s&&(yt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function Br(r,t){yt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Zn{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new tw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new am(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await no(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return ZS(this,t)}reload(){return ew(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Kc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject($r(this.auth));const t=await this.getIdToken();return await no(this,JS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,p=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:x,isAnonymous:G,providerData:W,stsTokenManager:Z}=i;yt(A&&Z,t,"internal-error");const F=$a.fromJSON(this.name,Z);yt(typeof A=="string",t,"internal-error"),Br(s,t.name),Br(l,t.name),yt(typeof x=="boolean",t,"internal-error"),yt(typeof G=="boolean",t,"internal-error"),Br(c,t.name),Br(d,t.name),Br(g,t.name),Br(p,t.name),Br(_,t.name),Br(b,t.name);const nt=new Zn({uid:A,auth:t,email:l,emailVerified:x,displayName:s,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:F,createdAt:_,lastLoginAt:b});return W&&Array.isArray(W)&&(nt.providerData=W.map(ut=>({...ut}))),p&&(nt._redirectEventId=p),nt}static async _fromIdTokenResponse(t,i,s=!1){const l=new $a;l.updateFromServerResponse(i);const c=new Zn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Kc(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?sE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new $a;g.updateFromIdToken(s);const p=new Zn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,_),p}}const y0=new Map;function Wi(r){ir(r instanceof Function,"Expected a class definition");let t=y0.get(r);return t?(ir(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,y0.set(r,t),t)}class aE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}aE.type="NONE";const _0=aE;function kc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ja{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=kc(this.userKey,l.apiKey,c),this.fullPersistenceKey=kc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Yc(this.auth,{idToken:t}).catch(()=>{});return i?Zn._fromGetAccountInfoResponse(this.auth,i,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new Ja(Wi(_0),t,s);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Wi(_0);const d=kc(s,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const b=await _._get(d);if(b){let A;if(typeof b=="string"){const x=await Yc(t,{idToken:b}).catch(()=>{});if(!x)break;A=await Zn._fromGetAccountInfoResponse(t,x,b)}else A=Zn._fromJSON(t,b);_!==c&&(g=A),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Ja(c,t,s):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ja(c,t,s))}}function v0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(cE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(oE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fE(t))return"Blackberry";if(dE(t))return"Webos";if(lE(t))return"Safari";if((t.includes("chrome/")||uE(t))&&!t.includes("edge/"))return"Chrome";if(hE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function oE(r=We()){return/firefox\//i.test(r)}function lE(r=We()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function uE(r=We()){return/crios\//i.test(r)}function cE(r=We()){return/iemobile/i.test(r)}function hE(r=We()){return/android/i.test(r)}function fE(r=We()){return/blackberry/i.test(r)}function dE(r=We()){return/webos/i.test(r)}function Vm(r=We()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function sw(r=We()){return Vm(r)&&!!window.navigator?.standalone}function aw(){return TA()&&document.documentMode===10}function mE(r=We()){return Vm(r)||hE(r)||dE(r)||fE(r)||/windows phone/i.test(r)||cE(r)}function pE(r,t=[]){let i;switch(r){case"Browser":i=v0(We());break;case"Worker":i=`${v0(We())}-${r}`;break;default:i=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${co}/${s}`}class ow{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function lw(r,t={}){return $s(r,"GET","/v2/passwordPolicy",fh(r,t))}const uw=6;class cw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??uw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class hw{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E0(this),this.idTokenSubscription=new E0(this),this.beforeStateQueue=new ow(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Wi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ja.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Yc(this,{idToken:t}),s=await Zn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Kc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=QS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Jn(this.app))return Promise.reject($r(this));const i=t?rn(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Jn(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await lw(this),i=new cw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ql("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await rw(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Wi(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[Wi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,s,l);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=pE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&HS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function dh(r){return rn(r)}class E0{constructor(t){this.auth=t,this.observer=null,this.addObserver=xA(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fw(r){km=r}function dw(r){return km.loadJS(r)}function mw(){return km.gapiScript}function pw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function gw(r,t){const i=Nm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Gs(c,t??{}))return l;nr(l,"already-initialized")}return i.initialize({options:t})}function yw(r,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(Wi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function _w(r,t,i){const s=dh(r);yt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=gE(t),{host:d,port:g}=vw(t),p=g===null?"":`:${g}`,_={url:`${c}//${d}${p}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){yt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),yt(Gs(_,s.config.emulator)&&Gs(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,uo(d)?(Fv(`${c}//${d}${p}`),Gv("Auth",!0)):Ew()}function gE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function vw(r){const t=gE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:T0(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:T0(d)}}}function T0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Ew(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class yE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,i){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function Za(r,t){return iE(r,"POST","/v1/accounts:signInWithIdp",fh(r,t))}const Tw="http://localhost";class Ys extends yE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ys(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):nr("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new Ys(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Za(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Za(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Za(t,i)}buildRequest(){const t={requestUri:Tw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Hl(i)}return t}}class _E{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Gl extends _E{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class qr extends Gl{constructor(){super("facebook.com")}static credential(t){return Ys._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qr.credential(t.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";class Hr extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ys._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Hr.credential(i,s)}catch{return null}}}Hr.GOOGLE_SIGN_IN_METHOD="google.com";Hr.PROVIDER_ID="google.com";class Fr extends Gl{constructor(){super("github.com")}static credential(t){return Ys._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fr.credential(t.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";class Gr extends Gl{constructor(){super("twitter.com")}static credential(t,i){return Ys._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Gr.credential(i,s)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";async function bw(r,t){return iE(r,"POST","/v1/accounts:signUp",fh(r,t))}class ts{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await Zn._fromIdTokenResponse(t,s,l),d=b0(s);return new ts({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=b0(s);return new ts({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function b0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function Aw(r){if(Jn(r.app))return Promise.reject($r(r));const t=dh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ts({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await bw(t,{returnSecureToken:!0}),s=await ts._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(s.user),s}class Xc extends ar{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new Xc(t,i,s,l)}}function vE(r,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(r,c,t,s):c})}async function Sw(r,t,i=!1){const s=await no(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ts._forOperation(r,"link",s)}async function ww(r,t,i=!1){const{auth:s}=r;if(Jn(s.app))return Promise.reject($r(s));const l="reauthenticate";try{const c=await no(r,vE(s,l,t,r),i);yt(c.idToken,s,"internal-error");const d=Mm(c.idToken);yt(d,s,"internal-error");const{sub:g}=d;return yt(r.uid===g,s,"user-mismatch"),ts._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&nr(s,"user-mismatch"),c}}async function Rw(r,t,i=!1){if(Jn(r.app))return Promise.reject($r(r));const s="signIn",l=await vE(r,s,t),c=await ts._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function Iw(r,t){return $s(r,"POST","/v1/accounts:update",t)}async function Cw(r,{displayName:t,photoURL:i}){if(t===void 0&&i===void 0)return;const s=rn(r),c={idToken:await s.getIdToken(),displayName:t,photoUrl:i,returnSecureToken:!0},d=await no(s,Iw(s.auth,c));s.displayName=d.displayName||null,s.photoURL=d.photoUrl||null;const g=s.providerData.find(({providerId:p})=>p==="password");g&&(g.displayName=s.displayName,g.photoURL=s.photoURL),await s._updateTokensIfNecessary(d)}function xw(r,t,i,s){return rn(r).onIdTokenChanged(t,i,s)}function Nw(r,t,i){return rn(r).beforeAuthStateChanged(t,i)}function Dw(r,t,i,s){return rn(r).onAuthStateChanged(t,i,s)}const $c="__sak";class EE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem($c,"1"),this.storage.removeItem($c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ow=1e3,Mw=10;class TE extends EE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);aw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Mw):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},Ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}TE.type="LOCAL";const Vw=TE;class bE extends EE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}bE.type="SESSION";const AE=bE;function kw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class mh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new mh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),p=await kw(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mh.receivers=[];function Um(r="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return r+i}class Uw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const _=Um("",20);l.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(A){const x=A;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(x.data.response);break;default:clearTimeout(b),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ii(){return window}function Lw(r){Ii().location.href=r}function SE(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function Pw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zw(){return navigator?.serviceWorker?.controller||null}function jw(){return SE()?self:null}const wE="firebaseLocalStorageDb",Bw=1,Jc="firebaseLocalStorage",RE="fbase_key";class Ql{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ph(r,t){return r.transaction([Jc],t?"readwrite":"readonly").objectStore(Jc)}function qw(){const r=indexedDB.deleteDatabase(wE);return new Ql(r).toPromise()}function om(){const r=indexedDB.open(wE,Bw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Jc,{keyPath:RE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Jc)?t(s):(s.close(),await qw(),t(await om()))})})}async function A0(r,t,i){const s=ph(r,!0).put({[RE]:t,value:i});return new Ql(s).toPromise()}async function Hw(r,t){const i=ph(r,!1).get(t),s=await new Ql(i).toPromise();return s===void 0?null:s.value}function S0(r,t){const i=ph(r,!0).delete(t);return new Ql(i).toPromise()}const Fw=800,Gw=3;class IE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>Gw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance(jw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Pw(),!this.activeServiceWorker)return;this.sender=new Uw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||zw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await om();return await A0(t,$c,"1"),await S0(t,$c),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>A0(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>Hw(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>S0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=ph(l,!1).getAll();return new Ql(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Fw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IE.type="LOCAL";const Qw=IE;new Fl(3e4,6e4);function Yw(r,t){return t?Wi(t):(yt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Lm extends yE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Za(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Za(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Za(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Kw(r){return Rw(r.auth,new Lm(r),r.bypassAuthState)}function Xw(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),ww(i,new Lm(r),r.bypassAuthState)}async function $w(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),Sw(i,new Lm(r),r.bypassAuthState)}class CE{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Kw;case"linkViaPopup":case"linkViaRedirect":return $w;case"reauthViaPopup":case"reauthViaRedirect":return Xw;default:nr(this.auth,"internal-error")}}resolve(t){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jw=new Fl(2e3,1e4);class Xa extends CE{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const t=Um();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Jw.get())};t()}}Xa.currentPopupAction=null;const Zw="pendingRedirect",Uc=new Map;class Ww extends CE{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Uc.get(this.auth._key());if(!t){try{const s=await t2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Uc.set(this.auth._key(),t)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t2(r,t){const i=i2(t),s=n2(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function e2(r,t){Uc.set(r._key(),t)}function n2(r){return Wi(r._redirectPersistence)}function i2(r){return kc(Zw,r.config.apiKey,r.name)}async function r2(r,t,i=!1){if(Jn(r.app))return Promise.reject($r(r));const s=dh(r),l=Yw(s,t),d=await new Ww(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const s2=600*1e3;class a2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!o2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!xE(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ri(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=s2&&this.cachedEventUids.clear(),this.cachedEventUids.has(w0(t))}saveEventToCache(t){this.cachedEventUids.add(w0(t)),this.lastProcessedEventTime=Date.now()}}function w0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function xE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function o2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xE(r);default:return!1}}async function l2(r,t={}){return $s(r,"GET","/v1/projects",t)}const u2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c2=/^https?/;async function h2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await l2(r);for(const i of t)try{if(f2(i))return}catch{}nr(r,"unauthorized-domain")}function f2(r){const t=sm(),{protocol:i,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!c2.test(i))return!1;if(u2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const d2=new Fl(3e4,6e4);function R0(){const r=Ii().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function m2(r){return new Promise((t,i)=>{function s(){R0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{R0(),i(Ri(r,"network-request-failed"))},timeout:d2.get()})}if(Ii().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ii().gapi?.load)s();else{const l=pw("iframefcb");return Ii()[l]=()=>{gapi.load?s():i(Ri(r,"network-request-failed"))},dw(`${mw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Lc=null,t})}let Lc=null;function p2(r){return Lc=Lc||m2(r),Lc}const g2=new Fl(5e3,15e3),y2="__/auth/iframe",_2="emulator/auth/iframe",v2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T2(r){const t=r.config;yt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Om(t,_2):`https://${r.config.authDomain}/${y2}`,s={apiKey:t.apiKey,appName:r.name,v:co},l=E2.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Hl(s).slice(1)}`}async function b2(r){const t=await p2(r),i=Ii().gapi;return yt(i,r,"internal-error"),t.open({where:document.body,url:T2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v2,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Ri(r,"network-request-failed"),g=Ii().setTimeout(()=>{c(d)},g2.get());function p(){Ii().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(d)})}))}const A2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S2=500,w2=600,R2="_blank",I2="http://localhost";class I0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C2(r,t,i,s=S2,l=w2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p={...A2,width:s.toString(),height:l.toString(),top:c,left:d},_=We().toLowerCase();i&&(g=uE(_)?R2:i),oE(_)&&(t=t||I2,p.scrollbars="yes");const b=Object.entries(p).reduce((x,[G,W])=>`${x}${G}=${W},`,"");if(sw(_)&&g!=="_self")return x2(t||"",g),new I0(null);const A=window.open(t||"",g,b);yt(A,r,"popup-blocked");try{A.focus()}catch{}return new I0(A)}function x2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const N2="__/auth/handler",D2="emulator/auth/handler",O2=encodeURIComponent("fac");async function C0(r,t,i,s,l,c){yt(r.config.authDomain,r,"auth-domain-config-required"),yt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:co,eventId:l};if(t instanceof _E){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",CA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof Gl){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const p=await r._getAppCheckToken(),_=p?`#${O2}=${encodeURIComponent(p)}`:"";return`${M2(r)}?${Hl(g).slice(1)}${_}`}function M2({config:r}){return r.emulator?Om(r,D2):`https://${r.authDomain}/${N2}`}const Kd="webStorageSupport";class V2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AE,this._completeRedirectFn=r2,this._overrideRedirectResult=e2}async _openPopup(t,i,s,l){ir(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await C0(t,i,s,sm(),l);return C2(t,c,Um())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await C0(t,i,s,sm(),l);return Lw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ir(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await b2(t),s=new a2(t);return i.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Kd,{type:Kd},l=>{const c=l?.[0]?.[Kd];c!==void 0&&i(!!c),nr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=h2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return mE()||lE()||Vm()}}const k2=V2;var x0="@firebase/auth",N0="1.11.1";class U2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function L2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function P2(r){eo(new Qs("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pE(r)},_=new hw(s,l,c,p);return yw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),eo(new Qs("auth-internal",t=>{const i=dh(t.getProvider("auth").getImmediate());return(s=>new U2(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(x0,N0,L2(r)),Xr(x0,N0,"esm2020")}const z2=300,j2=Hv("authIdTokenMaxAge")||z2;let D0=null;const B2=r=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>j2)return;const l=i?.token;D0!==l&&(D0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function q2(r=Xv()){const t=Nm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=gw(r,{popupRedirectResolver:k2,persistence:[Qw,Vw,AE]}),s=Hv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=B2(c.toString());Nw(i,d,()=>d(i.currentUser)),xw(i,g=>d(g))}}const l=Bv("auth");return l&&_w(i,`http://${l}`),i}function H2(){return document.getElementsByTagName("head")?.[0]??document}fw({loadJS(r){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=Ri("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",H2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});P2("Browser");var O0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Jr,NE;(function(){var r;function t(C,w){function R(){}R.prototype=w.prototype,C.F=w.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(V,N,U){for(var S=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)S[xt-2]=arguments[xt];return w.prototype[N].apply(V,S)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,w,R){R||(R=0);const V=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)V[N]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(N=0;N<16;++N)V[N]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=C.g[0],R=C.g[1],N=C.g[2];let U=C.g[3],S;S=w+(U^R&(N^U))+V[0]+3614090360&4294967295,w=R+(S<<7&4294967295|S>>>25),S=U+(N^w&(R^N))+V[1]+3905402710&4294967295,U=w+(S<<12&4294967295|S>>>20),S=N+(R^U&(w^R))+V[2]+606105819&4294967295,N=U+(S<<17&4294967295|S>>>15),S=R+(w^N&(U^w))+V[3]+3250441966&4294967295,R=N+(S<<22&4294967295|S>>>10),S=w+(U^R&(N^U))+V[4]+4118548399&4294967295,w=R+(S<<7&4294967295|S>>>25),S=U+(N^w&(R^N))+V[5]+1200080426&4294967295,U=w+(S<<12&4294967295|S>>>20),S=N+(R^U&(w^R))+V[6]+2821735955&4294967295,N=U+(S<<17&4294967295|S>>>15),S=R+(w^N&(U^w))+V[7]+4249261313&4294967295,R=N+(S<<22&4294967295|S>>>10),S=w+(U^R&(N^U))+V[8]+1770035416&4294967295,w=R+(S<<7&4294967295|S>>>25),S=U+(N^w&(R^N))+V[9]+2336552879&4294967295,U=w+(S<<12&4294967295|S>>>20),S=N+(R^U&(w^R))+V[10]+4294925233&4294967295,N=U+(S<<17&4294967295|S>>>15),S=R+(w^N&(U^w))+V[11]+2304563134&4294967295,R=N+(S<<22&4294967295|S>>>10),S=w+(U^R&(N^U))+V[12]+1804603682&4294967295,w=R+(S<<7&4294967295|S>>>25),S=U+(N^w&(R^N))+V[13]+4254626195&4294967295,U=w+(S<<12&4294967295|S>>>20),S=N+(R^U&(w^R))+V[14]+2792965006&4294967295,N=U+(S<<17&4294967295|S>>>15),S=R+(w^N&(U^w))+V[15]+1236535329&4294967295,R=N+(S<<22&4294967295|S>>>10),S=w+(N^U&(R^N))+V[1]+4129170786&4294967295,w=R+(S<<5&4294967295|S>>>27),S=U+(R^N&(w^R))+V[6]+3225465664&4294967295,U=w+(S<<9&4294967295|S>>>23),S=N+(w^R&(U^w))+V[11]+643717713&4294967295,N=U+(S<<14&4294967295|S>>>18),S=R+(U^w&(N^U))+V[0]+3921069994&4294967295,R=N+(S<<20&4294967295|S>>>12),S=w+(N^U&(R^N))+V[5]+3593408605&4294967295,w=R+(S<<5&4294967295|S>>>27),S=U+(R^N&(w^R))+V[10]+38016083&4294967295,U=w+(S<<9&4294967295|S>>>23),S=N+(w^R&(U^w))+V[15]+3634488961&4294967295,N=U+(S<<14&4294967295|S>>>18),S=R+(U^w&(N^U))+V[4]+3889429448&4294967295,R=N+(S<<20&4294967295|S>>>12),S=w+(N^U&(R^N))+V[9]+568446438&4294967295,w=R+(S<<5&4294967295|S>>>27),S=U+(R^N&(w^R))+V[14]+3275163606&4294967295,U=w+(S<<9&4294967295|S>>>23),S=N+(w^R&(U^w))+V[3]+4107603335&4294967295,N=U+(S<<14&4294967295|S>>>18),S=R+(U^w&(N^U))+V[8]+1163531501&4294967295,R=N+(S<<20&4294967295|S>>>12),S=w+(N^U&(R^N))+V[13]+2850285829&4294967295,w=R+(S<<5&4294967295|S>>>27),S=U+(R^N&(w^R))+V[2]+4243563512&4294967295,U=w+(S<<9&4294967295|S>>>23),S=N+(w^R&(U^w))+V[7]+1735328473&4294967295,N=U+(S<<14&4294967295|S>>>18),S=R+(U^w&(N^U))+V[12]+2368359562&4294967295,R=N+(S<<20&4294967295|S>>>12),S=w+(R^N^U)+V[5]+4294588738&4294967295,w=R+(S<<4&4294967295|S>>>28),S=U+(w^R^N)+V[8]+2272392833&4294967295,U=w+(S<<11&4294967295|S>>>21),S=N+(U^w^R)+V[11]+1839030562&4294967295,N=U+(S<<16&4294967295|S>>>16),S=R+(N^U^w)+V[14]+4259657740&4294967295,R=N+(S<<23&4294967295|S>>>9),S=w+(R^N^U)+V[1]+2763975236&4294967295,w=R+(S<<4&4294967295|S>>>28),S=U+(w^R^N)+V[4]+1272893353&4294967295,U=w+(S<<11&4294967295|S>>>21),S=N+(U^w^R)+V[7]+4139469664&4294967295,N=U+(S<<16&4294967295|S>>>16),S=R+(N^U^w)+V[10]+3200236656&4294967295,R=N+(S<<23&4294967295|S>>>9),S=w+(R^N^U)+V[13]+681279174&4294967295,w=R+(S<<4&4294967295|S>>>28),S=U+(w^R^N)+V[0]+3936430074&4294967295,U=w+(S<<11&4294967295|S>>>21),S=N+(U^w^R)+V[3]+3572445317&4294967295,N=U+(S<<16&4294967295|S>>>16),S=R+(N^U^w)+V[6]+76029189&4294967295,R=N+(S<<23&4294967295|S>>>9),S=w+(R^N^U)+V[9]+3654602809&4294967295,w=R+(S<<4&4294967295|S>>>28),S=U+(w^R^N)+V[12]+3873151461&4294967295,U=w+(S<<11&4294967295|S>>>21),S=N+(U^w^R)+V[15]+530742520&4294967295,N=U+(S<<16&4294967295|S>>>16),S=R+(N^U^w)+V[2]+3299628645&4294967295,R=N+(S<<23&4294967295|S>>>9),S=w+(N^(R|~U))+V[0]+4096336452&4294967295,w=R+(S<<6&4294967295|S>>>26),S=U+(R^(w|~N))+V[7]+1126891415&4294967295,U=w+(S<<10&4294967295|S>>>22),S=N+(w^(U|~R))+V[14]+2878612391&4294967295,N=U+(S<<15&4294967295|S>>>17),S=R+(U^(N|~w))+V[5]+4237533241&4294967295,R=N+(S<<21&4294967295|S>>>11),S=w+(N^(R|~U))+V[12]+1700485571&4294967295,w=R+(S<<6&4294967295|S>>>26),S=U+(R^(w|~N))+V[3]+2399980690&4294967295,U=w+(S<<10&4294967295|S>>>22),S=N+(w^(U|~R))+V[10]+4293915773&4294967295,N=U+(S<<15&4294967295|S>>>17),S=R+(U^(N|~w))+V[1]+2240044497&4294967295,R=N+(S<<21&4294967295|S>>>11),S=w+(N^(R|~U))+V[8]+1873313359&4294967295,w=R+(S<<6&4294967295|S>>>26),S=U+(R^(w|~N))+V[15]+4264355552&4294967295,U=w+(S<<10&4294967295|S>>>22),S=N+(w^(U|~R))+V[6]+2734768916&4294967295,N=U+(S<<15&4294967295|S>>>17),S=R+(U^(N|~w))+V[13]+1309151649&4294967295,R=N+(S<<21&4294967295|S>>>11),S=w+(N^(R|~U))+V[4]+4149444226&4294967295,w=R+(S<<6&4294967295|S>>>26),S=U+(R^(w|~N))+V[11]+3174756917&4294967295,U=w+(S<<10&4294967295|S>>>22),S=N+(w^(U|~R))+V[2]+718787259&4294967295,N=U+(S<<15&4294967295|S>>>17),S=R+(U^(N|~w))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(N+(S<<21&4294967295|S>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+U&4294967295}s.prototype.v=function(C,w){w===void 0&&(w=C.length);const R=w-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<w;){if(N==0)for(;U<=R;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<w;)if(V[N++]=C.charCodeAt(U++),N==this.blockSize){l(this,V),N=0;break}}else for(;U<w;)if(V[N++]=C[U++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=w},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)C[w++]=this.g[R]>>>V&255;return C};function c(C,w){var R=g;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=w(C)}function d(C,w){this.h=w;const R=[];let V=!0;for(let N=C.length-1;N>=0;N--){const U=C[N]|0;V&&U==w||(R[N]=U,V=!1)}this.g=R}var g={};function p(C){return-128<=C&&C<128?c(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return F(_(-C));const w=[];let R=1;for(let V=0;C>=R;V++)w[V]=C/R|0,R*=4294967296;return new d(w,0)}function b(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return F(b(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(w,8));let V=A;for(let U=0;U<C.length;U+=8){var N=Math.min(8,C.length-U);const S=parseInt(C.substring(U,U+N),w);N<8?(N=_(Math.pow(w,N)),V=V.j(N).add(_(S))):(V=V.j(R),V=V.add(_(S)))}return V}var A=p(0),x=p(1),G=p(16777216);r=d.prototype,r.m=function(){if(Z(this))return-F(this).m();let C=0,w=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);C+=(V>=0?V:4294967296+V)*w,w*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(Z(this))return"-"+F(this).toString(C);const w=_(Math.pow(C,6));var R=this;let V="";for(;;){const N=Nt(R,w).g;R=nt(R,N.j(w));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=N,W(R))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function Z(C){return C.h==-1}r.l=function(C){return C=nt(this,C),Z(C)?-1:W(C)?0:1};function F(C){const w=C.g.length,R=[];for(let V=0;V<w;V++)R[V]=~C.g[V];return new d(R,~C.h).add(x)}r.abs=function(){return Z(this)?F(this):this},r.add=function(C){const w=Math.max(this.g.length,C.g.length),R=[];let V=0;for(let N=0;N<=w;N++){let U=V+(this.i(N)&65535)+(C.i(N)&65535),S=(U>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=S>>>16,U&=65535,S&=65535,R[N]=S<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function nt(C,w){return C.add(F(w))}r.j=function(C){if(W(this)||W(C))return A;if(Z(this))return Z(C)?F(this).j(F(C)):F(F(this).j(C));if(Z(C))return F(this.j(F(C)));if(this.l(G)<0&&C.l(G)<0)return _(this.m()*C.m());const w=this.g.length+C.g.length,R=[];for(var V=0;V<2*w;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const U=this.i(V)>>>16,S=this.i(V)&65535,xt=C.i(N)>>>16,Qt=C.i(N)&65535;R[2*V+2*N]+=S*Qt,ut(R,2*V+2*N),R[2*V+2*N+1]+=U*Qt,ut(R,2*V+2*N+1),R[2*V+2*N+1]+=S*xt,ut(R,2*V+2*N+1),R[2*V+2*N+2]+=U*xt,ut(R,2*V+2*N+2)}for(C=0;C<w;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=w;C<2*w;C++)R[C]=0;return new d(R,0)};function ut(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function ht(C,w){this.g=C,this.h=w}function Nt(C,w){if(W(w))throw Error("division by zero");if(W(C))return new ht(A,A);if(Z(C))return w=Nt(F(C),w),new ht(F(w.g),F(w.h));if(Z(w))return w=Nt(C,F(w)),new ht(F(w.g),w.h);if(C.g.length>30){if(Z(C)||Z(w))throw Error("slowDivide_ only works with positive integers.");for(var R=x,V=w;V.l(C)<=0;)R=Bt(R),V=Bt(V);var N=wt(R,1),U=wt(V,1);for(V=wt(V,2),R=wt(R,2);!W(V);){var S=U.add(V);S.l(C)<=0&&(N=N.add(R),U=S),V=wt(V,1),R=wt(R,1)}return w=nt(C,N.j(w)),new ht(N,w)}for(N=A;C.l(w)>=0;){for(R=Math.max(1,Math.floor(C.m()/w.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(R),S=U.j(w);Z(S)||S.l(C)>0;)R-=V,U=_(R),S=U.j(w);W(U)&&(U=x),N=N.add(U),C=nt(C,S)}return new ht(N,C)}r.B=function(C){return Nt(this,C).h},r.and=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)&C.i(V);return new d(R,this.h&C.h)},r.or=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)|C.i(V);return new d(R,this.h|C.h)},r.xor=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)^C.i(V);return new d(R,this.h^C.h)};function Bt(C){const w=C.g.length+1,R=[];for(let V=0;V<w;V++)R[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(R,C.h)}function wt(C,w){const R=w>>5;w%=32;const V=C.g.length-R,N=[];for(let U=0;U<V;U++)N[U]=w>0?C.i(U+R)>>>w|C.i(U+R+1)<<32-w:C.i(U+R);return new d(N,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,NE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,Jr=d}).apply(typeof O0<"u"?O0:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var DE,Al,OE,Pc,lm,ME,VE,kE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var v=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function p(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=p,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var et=Array(arguments.length-2),At=2;At<arguments.length;At++)et[At-2]=arguments[At];return m.prototype[L].apply(T,et)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let et=0;et<B;et++)u[v+et]=L[et]}else u.push(L)}}class Z{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function F(u){d.setTimeout(()=>{throw u},0)}function nt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ut{constructor(){this.h=this.g=null}add(m,v){const T=ht.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ht=new Z(()=>new Nt,u=>u.reset());class Nt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Bt,wt=!1,C=new ut,w=()=>{const u=Promise.resolve(void 0);Bt=()=>{u.then(R)}};function R(){for(var u;u=nt();){try{u.h.call(u.g)}catch(v){F(v)}var m=ht;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}wt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function S(u){return/^[\s\xa0]*$/.test(u)}function xt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(xt,N),xt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&xt.Z.h.call(this)},xt.prototype.h=function(){xt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Qt="closure_listenable_"+(Math.random()*1e6|0),q=0;function tt(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++q,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function bt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ct(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const et=Rt(u,m,T,L);return et>-1?(m=u[et],v||(m.fa=!1)):(m=new tt(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ct(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Rt(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),Ne={};function ae(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ae(u,m[B],v,T,L);return null}return v=vo(v),u&&u[Qt]?u.J(m,v,g(T)?!!T.capture:!1,L):us(u,m,v,!1,T,L)}function us(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const et=g(L)?!!L.capture:!!L;let At=cs(u);if(At||(u[zt]=At=new at(u)),v=At.add(m,v,T,et,B),v.proxy)return v;if(T=ea(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(ni(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ea(){function u(v){return m.call(u.src,u.listener,v)}const m=yo;return u}function na(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)na(u,m[B],v,T,L);else T=g(T)?!!T.capture:!!T,v=vo(v),u&&u[Qt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Rt(m,v,T,L),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=cs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Rt(m,v,T,L)),(v=u>-1?m[u]:null)&&ia(v))}function ia(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Qt])_t(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(ni(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=cs(m))?(_t(v,u),v.h==0&&(v.src=null,m[zt]=null)):ct(u)}}}function ni(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function yo(u,m){if(u.da)u=!0;else{m=new xt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ia(u),u=v.call(T,m)}return u}function cs(u){return u=u[zt],u instanceof at?u:null}var _o="__closure_events_fn_"+(Math.random()*1e9>>>0);function vo(u){return typeof u=="function"?u:(u[_o]||(u[_o]=function(m){return u.handleEvent(m)}),u[_o])}function _e(){V.call(this),this.i=new at(this),this.M=this,this.G=null}A(_e,V),_e.prototype[Qt]=!0,_e.prototype.removeEventListener=function(u,m,v,T){na(this,u,m,v,T)};function De(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),it(m,L)}L=!0;let B,et;if(v)for(et=v.length-1;et>=0;et--)B=m.g=v[et],L=lr(B,T,!0,m)&&L;if(B=m.g=u,L=lr(B,T,!0,m)&&L,L=lr(B,T,!1,m)&&L,v)for(et=0;et<v.length;et++)B=m.g=v[et],L=lr(B,T,!1,m)&&L}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ct(v[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},_e.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function lr(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const et=m[B];if(et&&!et.da&&et.capture==v){const At=et.listener,de=et.ha||et.src;et.fa&&_t(u.i,et),L=At.call(de,T)!==!1&&L}}return L&&!T.defaultPrevented}function Lh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Zl(u){u.g=Lh(()=>{u.g=null,u.i&&(u.i=!1,Zl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(u){V.call(this),this.h=u,this.g={}}A(hs,V);var Eo=[];function To(u){bt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ia(m)},u),u.g={}}hs.prototype.N=function(){hs.Z.N.call(this),To(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=d.JSON.stringify,Ph=d.JSON.parse,Wl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tu(){}function eu(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){N.call(this,"d")}A(Pe,N);function An(){N.call(this,"c")}A(An,N);var fe={},nu=null;function ra(){return nu=nu||new _e}fe.Ia="serverreachability";function iu(u){N.call(this,fe.Ia,u)}A(iu,N);function ii(u){const m=ra();De(m,new iu(m))}fe.STAT_EVENT="statevent";function fs(u,m){N.call(this,fe.STAT_EVENT,u),this.stat=m}A(fs,N);function ve(u){const m=ra();De(m,new fs(m,u))}fe.Ja="timingevent";function ri(u,m){N.call(this,fe.Ja,u),this.size=m}A(ri,N);function si(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function zh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var et="",At=B.split("&");for(let Ft=0;Ft<At.length;Ft++){var de=At[Ft].split("=");if(de.length>1){const oe=de[0];de=de[1];const In=oe.split("_");et=In.length>=2&&In[1]=="type"?et+(oe+"="+de+"&"):et+(oe+"=redacted&")}}}else et=null;else et=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+et})}function ru(u,m,v,T,L,B,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+et})}function ai(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jh(u,v)+(T?" "+T:"")})}function ds(u,m){u.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function jh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return ur(B)}catch{return m}}var ms={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ao;function ps(){}A(ps,tu),ps.prototype.g=function(){return new XMLHttpRequest},Ao=new ps;function Mi(u){return encodeURIComponent(String(u))}function su(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Bn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new hs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Ee={},Ve={};function oi(u,m,v){u.M=1,u.A=gs(be(m)),u.u=v,u.R=!0,sa(u,null)}function sa(u,m){u.F=Date.now(),li(u),u.B=be(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ua(v.i,"t",T),u.C=0,v=u.j.L,u.h=new qn,u.g=Eu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Eo[0]=L.toString()),L=Eo);for(let B=0;B<L.length;B++){const et=ae(v,L[B],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ii(),zh(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Gn(this.g),de=this.g.ya(),Ft=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||At!=4||de==7||(de==8||Ft<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=Bh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(T)){var B=T;break e}}B=null}if(u=B)ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,u);else{this.o=!1,this.m=3,ve(12),mn(this),Sn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=ou(this,v),oe==Ve){At==4&&(this.m=4,ve(14),u=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Ee){this.m=4,ve(15),ai(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ai(this.i,this.l,oe,null),ci(this,oe);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ai(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),Sn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Po(et),et.P=!0,ve(11))}}else ai(this.i,this.l,v,null),ci(this,v);At==4&&mn(this),this.o&&!this.K&&(At==4?gu(this.j,this):(this.o=!1,li(this)))}else ki(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),mn(this),Sn(this)}}}catch{}finally{}};function Bh(u){if(!au(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const T=m.length,L=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ve:(v=Number(m.substring(v,T)),isNaN(v)?Ee:(T+=1,T+v>m.length?Ve:(m=m.slice(T,T+v),u.C=T+v,m)))}Bn.prototype.cancel=function(){this.K=!0,mn(this)};function li(u){u.T=Date.now()+u.H,aa(u,u.H)}function aa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=si(_(u.aa,u),m)}function ui(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ds(this.i,this.B),this.M!=2&&(ii(),ve(17)),mn(this),this.m=2,Sn(this)):aa(this,this.T-u)};function Sn(u){u.j.I==0||u.K||gu(u.j,u)}function mn(u){ui(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,To(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||fi(v.h,u))){if(!u.L&&fi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ma(v),yr(v);else break t;As(v),ve(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=si(_(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((u.L||v.g==u)&&ma(v),!S(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Ft=L[m];const oe=Ft[0];if(!(oe<=v.K))if(v.K=oe,Ft=Ft[1],v.I==2)if(Ft[0]=="c"){v.M=Ft[1],v.ba=Ft[2];const In=Ft[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const vi=Ft[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Qn=Ft[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(T=1.5*Qn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Yn=u.g;if(Yn){const Ss=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var B=T.h;B.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ro(B,B.h),B.h=null))}if(T.G){const pa=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;pa&&(T.wa=pa,Kt(T.J,T.G,pa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var et=u;if(T.na=vu(T,T.L?T.ba:null,T.W),et.L){Io(T.h,et);var At=et,de=T.O;de&&(At.H=de),At.D&&(ui(At),li(At)),T.g=et}else mu(T);v.i.length>0&&yi(v)}else Ft[0]!="stop"&&Ft[0]!="close"||_i(v,7);else v.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?_i(v,7):Uo(v):Ft[0]!="noop"&&v.l&&v.l.qa(Ft),v.A=0)}}ii(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function So(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function hi(u){return u.h?1:u.g?u.g.size:0}function fi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ro(u,m){u.g?u.g.add(m):u.h=m}function Io(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}So.prototype.cancel=function(){if(this.i=Co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Co(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof pn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,cr(this,u.u),this.h=u.h,xo(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(lu))?(this.l=!1,ke(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),cr(this,m[4]),this.h=di(m[5]||"",!0),xo(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new fr(null,this.l))}pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ys(m,la,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ys(m,la,!0),"@"),u.push(Mi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ys(v,v.charAt(0)=="/"?No:uu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ys(v,cu)),u.join("")},pn.prototype.resolve=function(u){const m=be(this);let v=!!u.j;v?ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)cr(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let et=0;et<L.length;){const At=L[et++];At=="."?T&&et==L.length&&B.push(""):At==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&et==L.length&&B.push("")):(B.push(At),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?xo(m,fu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function be(u){return new pn(u)}function ke(u,m,v){u.j=v?di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function cr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function xo(u,m,v){m instanceof fr?(u.i=m,ca(u.i,u.l)):(v||(m=ys(m,hr)),u.i=new fr(m,u.l))}function Kt(u,m,v){u.i.set(m,v)}function gs(u){return Kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ys(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,an),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function an(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var la=/[#\/\?@]/g,uu=/[#\?:]/g,No=/[#\?]/g,hr=/[#\?@]/g,cu=/#/g;function fr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function on(u){u.g||(u.g=new Map,u.h=0,u.i&&oa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=fr.prototype,r.add=function(u,m){on(this),this.i=null,u=dr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function hu(u,m){on(u),m=dr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Do(u,m){return on(u),m=dr(u,m),u.g.has(m)}r.forEach=function(u,m){on(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Oo(u,m){on(u);let v=[];if(typeof m=="string")Do(u,m)&&(v=v.concat(u.g.get(dr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return on(this),this.i=null,u=dr(this,u),Do(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Oo(this,u),u.length>0?String(u[0]):m):m};function ua(u,m,v){hu(u,m),v.length>0&&(u.i=null,u.g.set(dr(u,m),G(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Mi(v);v=Oo(this,v);for(let B=0;B<v.length;B++){let et=L;v[B]!==""&&(et+="="+Mi(v[B])),u.push(et)}}return this.i=u.join("&")};function fu(u){const m=new fr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function dr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ca(u,m){m&&!u.j&&(on(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(hu(this,T),ua(this,L,v))},u)),u.j=m}function Hn(u,m){const v=new jn;if(d.Image){const T=new Image;T.onload=b(wn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(wn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(wn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(wn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Mo(u,m){const v=new jn,T=new AbortController,L=setTimeout(()=>{T.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),wn(v,"TestPingServer: error",!1,m)})}function wn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function mr(){this.g=new Wl}function mi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(mi,tu),mi.prototype.g=function(){return new _s(this.i,this.h)};function _s(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(_s,_e),r=_s.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Fn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ha(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ha(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?pr(this):Fn(this),this.readyState==3&&ha(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,pr(this))},r.Na=function(u){this.g&&(this.response=u,pr(this))},r.ga=function(){this.g&&pr(this)};function pr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Fn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return bt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function vs(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Rn(v),typeof u=="string"?v!=null&&Mi(v):Kt(u,m,v))}function Jt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Jt,_e);var pi=/^https?$/i,Vo=["POST","PUT"];r=Jt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ao.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Es(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Vo,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of v)this.g.setRequestHeader(B,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Es(this,B)}};function Es(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ko(u),Vi(u)}function ko(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Vi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),Jt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ts(this):this.Xa())},r.Xa=function(){Ts(this)};function Ts(u){if(u.h&&typeof c<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let et=String(u.D).match(lu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!pi.test(et?et.toLowerCase():"")}v=T}if(v)De(u,"complete"),De(u,"success");else{u.o=6;try{var L=Gn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",ko(u)}}finally{Vi(u)}}}}function Vi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||De(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ph(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ki(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(S(u[T]))continue;var v=su(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Ct(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function gr(u){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,u),this.Za=gi("retryDelaySeedMs",1e4,u),this.Ta=gi("forwardChannelMaxRetries",2,u),this.va=gi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new So(u&&u.concurrentRequestLimit),this.Ba=new mr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=gr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){ve(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=vu(this,null,this.W),yi(this)};function Uo(u){if(fa(u),u.I==3){var m=u.V++,v=be(u.J);if(Kt(v,"SID",u.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),bs(u,v),m=new Bn(u,u.j,m),m.M=2,m.A=gs(be(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}_u(u)}function yr(u){u.g&&(Po(u),u.g.cancel(),u.g=null)}function fa(u){yr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ma(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function yi(u){if(!wo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Bt||w(),wt||(Bt(),wt=!0),C.add(m,u),u.D=0}}function da(u,m){return hi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=si(_(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Bn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=du(this,L,m),v=be(this.J),Kt(v,"RID",u),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),bs(this,v),B&&(this.R?m="headers="+Mi(Rn(B))+"&"+m:this.u&&vs(v,this.u,B)),Ro(this.h,L),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),L.U=!0,oi(L,v,null)):oi(L,v,m),this.I=2}}else this.I==3&&(u?Lo(this,u):this.i.length==0||wo(this.h)||Lo(this))};function Lo(u,m){var v;m?v=m.l:v=u.V++;const T=be(u.J);Kt(T,"SID",u.M),Kt(T,"RID",v),Kt(T,"AID",u.K),bs(u,T),u.u&&u.o&&vs(T,u.u,u.o),v=new Bn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ro(u.h,v),oi(v,T,m)}function bs(u,m){u.H&&bt(u.H,function(v,T){Kt(m,T,v)}),u.l&&bt({},function(v,T){Kt(m,T,v)})}function du(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let At=-1;for(;;){const de=["count="+v];At==-1?v>0?(At=L[0].g,de.push("ofs="+At)):At=0:de.push("ofs="+At);let Ft=!0;for(let oe=0;oe<v;oe++){var B=L[oe].g;const In=L[oe].map;if(B-=At,B<0)At=Math.max(0,L[oe].g-100),Ft=!1;else try{B="req"+B+"_"||"";try{var et=In instanceof Map?In:Object.entries(In);for(const[vi,Qn]of et){let Yn=Qn;g(Qn)&&(Yn=ur(Qn)),de.push(B+vi+"="+encodeURIComponent(Yn))}}catch(vi){throw de.push(B+"type="+encodeURIComponent("_badmap")),vi}}catch{T&&T(In)}}if(Ft){et=de.join("&");break t}}et=void 0}return u=u.i.splice(0,v),m.G=u,et}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Bt||w(),wt||(Bt(),wt=!0),C.add(m,u),u.A=0}}function As(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=si(_(u.Da,u),yu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=si(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),yr(this),pu(this))};function Po(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Kt(m,"RID","rpc"),Kt(m,"SID",u.M),Kt(m,"AID",u.K),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Kt(m,"TO",u.ia),Kt(m,"TYPE","xmlhttp"),bs(u,m),u.u&&u.o&&vs(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=gs(be(m)),v.u=null,v.R=!0,sa(v,u)}r.Va=function(){this.C!=null&&(this.C=null,yr(this),As(this),ve(19))};function ma(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var v=null;if(u.g==m){ma(u),Po(u),u.g=null;var T=2}else if(fi(u.h,m))v=m.G,Io(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=ra(),De(T,new ri(T,v)),yi(u)}else mu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&da(u,m)||T==2&&As(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function yu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new pn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(T,"https"),gs(T),L?Hn(T.toString(),v):Mo(T.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),_u(u),fa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=Co(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,v){var T=v instanceof pn?be(v):new pn(v);if(T.g!="")m&&(T.g=m+"."+T.g),cr(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new pn(null);T&&ke(B,T),m&&(B.g=m),L&&cr(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Kt(T,v,m),Kt(T,"VER",u.ka),bs(u,T),T}function Eu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Jt(new mi({ab:v})):new Jt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}r=Tu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _r(){}_r.prototype.g=function(u,m){return new en(u,m)};function en(u,m){_e.call(this),this.g=new gr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!S(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!S(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ui(this)}A(en,_e),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Uo(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ur(u),u=v);m.i.push(new Te(m.Ya++,u)),m.I==3&&yi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,en.Z.N.call(this)};function bu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(bu,Pe);function Au(){An.call(this),this.status=1}A(Au,An);function Ui(u){this.g=u}A(Ui,Tu),Ui.prototype.ra=function(){De(this.g,"a")},Ui.prototype.qa=function(u){De(this.g,new bu(u))},Ui.prototype.pa=function(u){De(this.g,new Au)},Ui.prototype.oa=function(){De(this.g,"b")},_r.prototype.createWebChannel=_r.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,kE=function(){return new _r},VE=function(){return ra()},ME=fe,lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ms.NO_ERROR=0,ms.TIMEOUT=8,ms.HTTP_ERROR=6,Pc=ms,bo.COMPLETE="complete",OE=bo,eu.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,Al=eu,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,DE=Jt}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const M0="@firebase/firestore",V0="4.9.2";class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let ho="12.3.0";const Ks=new Cm("@firebase/firestore");function Ga(){return Ks.logLevel}function st(r,...t){if(Ks.logLevel<=kt.DEBUG){const i=t.map(Pm);Ks.debug(`Firestore (${ho}): ${r}`,...i)}}function rr(r,...t){if(Ks.logLevel<=kt.ERROR){const i=t.map(Pm);Ks.error(`Firestore (${ho}): ${r}`,...i)}}function io(r,...t){if(Ks.logLevel<=kt.WARN){const i=t.map(Pm);Ks.warn(`Firestore (${ho}): ${r}`,...i)}}function Pm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function gt(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,UE(r,s,i)}function UE(r,t,i){let s=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw rr(s),new Error(s)}function Yt(r,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||UE(t,l,s)}function Tt(r,t){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends ar{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class LE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class F2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class G2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Q2{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Yt(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new tr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const p=c;t.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new tr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Yt(typeof s.accessToken=="string",31837,{l:s}),new LE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class Y2{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class K2{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new Y2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class k0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Yt(this.o===void 0,3512);const s=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new k0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new k0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class zm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=$2(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Ut(r,t){return r<t?-1:r>t?1:0}function um(r,t){const i=Math.min(r.length,t.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=t.charAt(s);if(l!==c)return Xd(l)===Xd(c)?Ut(l,c):Xd(l)?1:-1}return Ut(r.length,t.length)}const J2=55296,Z2=57343;function Xd(r){const t=r.charCodeAt(0);return t>=J2&&t<=Z2}function ro(r,t,i){return r.length===t.length&&r.every(((s,l)=>i(s,t[l])))}const U0="__name__";class Si{constructor(t,i,s){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&gt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=Si.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ut(t.length,i.length)}static compareSegments(t,i){const s=Si.isNumericId(t),l=Si.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Si.extractNumericId(t).compare(Si.extractNumericId(i)):um(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Jr.fromString(t.substring(4,t.length-2))}}class ne extends Si{construct(t,i,s){return new ne(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new rt(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const W2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends Si{construct(t,i,s){return new Ge(t,i,s)}static isValidIdentifier(t){return W2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===U0}static keyField(){return new Ge([U0])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new rt(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new rt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new rt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new rt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(ne.fromString(t))}static fromName(t){return new mt(ne.fromString(t).popFirst(5))}static empty(){return new mt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ne.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new ne(t.slice()))}}function PE(r,t,i){if(!i)throw new rt(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function tR(r,t,i,s){if(t===!0&&s===!0)throw new rt(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function L0(r){if(!mt.isDocumentKey(r))throw new rt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function P0(r){if(mt.isDocumentKey(r))throw new rt(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function zE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function gh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function Pn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new rt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=gh(r);throw new rt(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function eR(r,t){if(t<=0)throw new rt(X.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${t}.`)}function xe(r,t){const i={typeString:r};return t&&(i.value=t),i}function Yl(r,t){if(!zE(r))throw new rt(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new rt(X.INVALID_ARGUMENT,i);return!0}const z0=-62135596800,j0=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*j0);return new se(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<z0)throw new rt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j0}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Yl(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-z0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:xe("string",se._jsonSchemaVersion),seconds:xe("number"),nanoseconds:xe("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new se(0,0))}static max(){return new vt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Vl=-1;function nR(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(s===1e9?new se(i+1,0):new se(i,s));return new es(l,mt.empty(),t)}function iR(r){return new es(r.readTime,r.key,Vl)}class es{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new es(vt.min(),mt.empty(),Vl)}static max(){return new es(vt.max(),mt.empty(),Vl)}}function rR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,t.documentKey),i!==0?i:Ut(r.largestBatchId,t.largestBatchId))}const sR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function fo(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==sR)throw r;st("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,s)=>{i(t)}))}static reject(t){return new J(((i,s)=>{s(t)}))}static waitFor(t){return new J(((i,s)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(p=>s(p)))})),d=!0,c===l&&i()}))}static or(t){let i=J.resolve(!1);for(const s of t)i=i.next((l=>l?J.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new J(((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;i(t[_]).next((b=>{d[_]=b,++g,g===c&&s(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new J(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function oR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function mo(r){return r.name==="IndexedDbTransactionError"}class yh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}yh.ce=-1;const jm=-1;function _h(r){return r==null}function Zc(r){return r===0&&1/r==-1/0}function lR(r){return typeof r=="number"&&Number.isInteger(r)&&!Zc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const jE="";function uR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=B0(t)),t=cR(r.get(i),t);return B0(t)}function cR(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case jE:i+="";break;default:i+=c}}return i}function B0(r){return r+jE+""}function q0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Js(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function BE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xc(this.root,t,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xc(this.root,t,this.comparator,!0)}}class xc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new Fe(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new H0(this.data.getIterator())}getIteratorFrom(t){return new H0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class H0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Wn{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new Wn([])}unionWith(t){let i=new Me(Ge.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Wn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ro(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class qE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new qE("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const hR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(r){if(Yt(!!r,39018),typeof r=="string"){let t=0;const i=hR.exec(r);if(Yt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function is(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}const HE="server_timestamp",FE="__type__",GE="__previous_value__",QE="__local_write_time__";function Bm(r){return(r?.mapValue?.fields||{})[FE]?.stringValue===HE}function vh(r){const t=r.mapValue.fields[GE];return Bm(t)?vh(t):t}function kl(r){const t=ns(r.mapValue.fields[QE].timestampValue);return new se(t.seconds,t.nanos)}class fR{constructor(t,i,s,l,c,d,g,p,_,b){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=b}}const Wc="(default)";class Ul{constructor(t,i){this.projectId=t,this.database=i||Wc}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(t){return t instanceof Ul&&t.projectId===this.projectId&&t.database===this.database}}const YE="__type__",dR="__max__",Nc={mapValue:{}},KE="__vector__",th="value";function rs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Bm(r)?4:pR(r)?9007199254740991:mR(r)?10:11:gt(28295,{value:r})}function Oi(r,t){if(r===t)return!0;const i=rs(r);if(i!==rs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return kl(r).isEqual(kl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ns(l.timestampValue),g=ns(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return is(l.bytesValue).isEqual(is(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),g=ge(c.doubleValue);return d===g?Zc(d)===Zc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return ro(r.arrayValue.values||[],t.arrayValue.values||[],Oi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(q0(d)!==q0(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!Oi(d[p],g[p])))return!1;return!0})(r,t);default:return gt(52216,{left:r})}}function Ll(r,t){return(r.values||[]).find((i=>Oi(i,t)))!==void 0}function so(r,t){if(r===t)return 0;const i=rs(r),s=rs(t);if(i!==s)return Ut(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ge(c.integerValue||c.doubleValue),p=ge(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(r,t);case 3:return F0(r.timestampValue,t.timestampValue);case 4:return F0(kl(r),kl(t));case 5:return um(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=is(c),p=is(d);return g.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const b=Ut(g[_],p[_]);if(b!==0)return b}return Ut(g.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Ut(ge(c.latitude),ge(d.latitude));return g!==0?g:Ut(ge(c.longitude),ge(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return G0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},p=d.fields||{},_=g[th]?.arrayValue,b=p[th]?.arrayValue,A=Ut(_?.values?.length||0,b?.values?.length||0);return A!==0?A:G0(_,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Nc.mapValue&&d===Nc.mapValue)return 0;if(c===Nc.mapValue)return 1;if(d===Nc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=d.fields||{},b=Object.keys(_);p.sort(),b.sort();for(let A=0;A<p.length&&A<b.length;++A){const x=um(p[A],b[A]);if(x!==0)return x;const G=so(g[p[A]],_[b[A]]);if(G!==0)return G}return Ut(p.length,b.length)})(r.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function F0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ut(r,t);const i=ns(r),s=ns(t),l=Ut(i.seconds,s.seconds);return l!==0?l:Ut(i.nanos,s.nanos)}function G0(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=so(i[l],s[l]);if(c)return c}return Ut(i.length,s.length)}function ao(r){return cm(r)}function cm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=ns(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return is(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=cm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${cm(i.fields[d])}`;return l+"}"})(r.mapValue):gt(61005,{value:r})}function zc(r){switch(rs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=vh(r);return t?16+zc(t):16;case 5:return 2*r.stringValue.length;case 6:return is(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+zc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Js(s.fields,((c,d)=>{l+=c.length+zc(d)})),l})(r.mapValue);default:throw gt(13486,{value:r})}}function Q0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function hm(r){return!!r&&"integerValue"in r}function qm(r){return!!r&&"arrayValue"in r}function Y0(r){return!!r&&"nullValue"in r}function K0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function jc(r){return!!r&&"mapValue"in r}function mR(r){return(r?.mapValue?.fields||{})[YE]?.stringValue===KE}function xl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Js(r.mapValue.fields,((i,s)=>t.mapValue.fields[i]=xl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=xl(r.arrayValue.values[i]);return t}return{...r}}function pR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===dR}class Un{constructor(t){this.value=t}static empty(){return new Un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!jc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=xl(i)}setAll(t){let i=Ge.emptyPath(),s={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=xl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Oi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){Js(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new Un(xl(this.value))}}function XE(r){const t=[];return Js(r.fields,((i,s)=>{const l=new Ge([i]);if(jc(s)){const c=XE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Wn(t)}class Ze{constructor(t,i,s,l,c,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ze(t,0,vt.min(),vt.min(),vt.min(),Un.empty(),0)}static newFoundDocument(t,i,s,l){return new Ze(t,1,i,vt.min(),s,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,vt.min(),vt.min(),Un.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,vt.min(),vt.min(),Un.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eh{constructor(t,i){this.position=t,this.inclusive=i}}function X0(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=mt.comparator(mt.fromName(d.referenceValue),i.key):s=so(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function $0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Oi(r.position[i],t.position[i]))return!1;return!0}class Pl{constructor(t,i="asc"){this.field=t,this.dir=i}}function gR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class $E{}class Ce extends $E{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new _R(t,i,s):i==="array-contains"?new TR(t,s):i==="in"?new bR(t,s):i==="not-in"?new AR(t,s):i==="array-contains-any"?new SR(t,s):new Ce(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new vR(t,s):new ER(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(so(i,this.value)):i!==null&&rs(this.value)===rs(i)&&this.matchesComparison(so(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends $E{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ei(t,i)}matches(t){return JE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function JE(r){return r.op==="and"}function ZE(r){return yR(r)&&JE(r)}function yR(r){for(const t of r.filters)if(t instanceof ei)return!1;return!0}function fm(r){if(r instanceof Ce)return r.field.canonicalString()+r.op.toString()+ao(r.value);if(ZE(r))return r.filters.map((t=>fm(t))).join(",");{const t=r.filters.map((i=>fm(i))).join(",");return`${r.op}(${t})`}}function WE(r,t){return r instanceof Ce?(function(s,l){return l instanceof Ce&&s.op===l.op&&s.field.isEqual(l.field)&&Oi(s.value,l.value)})(r,t):r instanceof ei?(function(s,l){return l instanceof ei&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,g)=>c&&WE(d,l.filters[g])),!0):!1})(r,t):void gt(19439)}function t1(r){return r instanceof Ce?(function(i){return`${i.field.canonicalString()} ${i.op} ${ao(i.value)}`})(r):r instanceof ei?(function(i){return i.op.toString()+" {"+i.getFilters().map(t1).join(" ,")+"}"})(r):"Filter"}class _R extends Ce{constructor(t,i,s){super(t,i,s),this.key=mt.fromName(s.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class vR extends Ce{constructor(t,i){super(t,"in",i),this.keys=e1("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class ER extends Ce{constructor(t,i){super(t,"not-in",i),this.keys=e1("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function e1(r,t){return(t.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class TR extends Ce{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return qm(i)&&Ll(i.arrayValue,this.value)}}class bR extends Ce{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ll(this.value.arrayValue,i)}}class AR extends Ce{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ll(this.value.arrayValue,i)}}class SR extends Ce{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!qm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Ll(this.value.arrayValue,s)))}}class wR{constructor(t,i=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function J0(r,t=null,i=[],s=[],l=null,c=null,d=null){return new wR(r,t,i,s,l,c,d)}function Hm(r){const t=Tt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>fm(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),_h(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>ao(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>ao(s))).join(",")),t.Te=i}return t.Te}function Fm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!gR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!WE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!$0(r.startAt,t.startAt)&&$0(r.endAt,t.endAt)}function dm(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class po{constructor(t,i=null,s=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function RR(r,t,i,s,l,c,d,g){return new po(r,t,i,s,l,c,d,g)}function Eh(r){return new po(r)}function Z0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function n1(r){return r.collectionGroup!==null}function Nl(r){const t=Tt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(Ge.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Pl(c,s))})),i.has(Ge.keyField().canonicalString())||t.Ie.push(new Pl(Ge.keyField(),s))}return t.Ie}function Ci(r){const t=Tt(r);return t.Ee||(t.Ee=IR(t,Nl(r))),t.Ee}function IR(r,t){if(r.limitType==="F")return J0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Pl(l.field,c)}));const i=r.endAt?new eh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new eh(r.startAt.position,r.startAt.inclusive):null;return J0(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function mm(r,t){const i=r.filters.concat([t]);return new po(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function nh(r,t,i){return new po(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Th(r,t){return Fm(Ci(r),Ci(t))&&r.limitType===t.limitType}function i1(r){return`${Hm(Ci(r))}|lt:${r.limitType}`}function Qa(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>t1(l))).join(", ")}]`),_h(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>ao(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>ao(l))).join(",")),`Target(${s})`})(Ci(r))}; limitType=${r.limitType})`}function bh(r,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):mt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,t)&&(function(s,l){for(const c of Nl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,g,p){const _=X0(d,g,p);return d.inclusive?_<=0:_<0})(s.startAt,Nl(s),l)||s.endAt&&!(function(d,g,p){const _=X0(d,g,p);return d.inclusive?_>=0:_>0})(s.endAt,Nl(s),l))})(r,t)}function CR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function r1(r){return(t,i)=>{let s=!1;for(const l of Nl(r)){const c=xR(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function xR(r,t,i){const s=r.field.isKeyField()?mt.comparator(t.key,i.key):(function(c,d,g){const p=d.data.field(c),_=g.data.field(c);return p!==null&&_!==null?so(p,_):gt(42886)})(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt(19790,{direction:r.dir})}}class Zs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Js(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return BE(this.inner)}size(){return this.innerSize}}const NR=new ue(mt.comparator);function sr(){return NR}const s1=new ue(mt.comparator);function Sl(...r){let t=s1;for(const i of r)t=t.insert(i.key,i);return t}function a1(r){let t=s1;return r.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Bs(){return Dl()}function o1(){return Dl()}function Dl(){return new Zs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const DR=new ue(mt.comparator),OR=new Me(mt.comparator);function Lt(...r){let t=OR;for(const i of r)t=t.add(i);return t}const MR=new Me(Ut);function VR(){return MR}function Gm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(t)?"-0":t}}function l1(r){return{integerValue:""+r}}function kR(r,t){return lR(t)?l1(t):Gm(r,t)}class Ah{constructor(){this._=void 0}}function UR(r,t,i){return r instanceof zl?(function(l,c){const d={fields:{[FE]:{stringValue:HE},[QE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Bm(c)&&(c=vh(c)),c&&(d.fields[GE]=c),{mapValue:d}})(i,t):r instanceof jl?c1(r,t):r instanceof Bl?h1(r,t):(function(l,c){const d=u1(l,c),g=W0(d)+W0(l.Ae);return hm(d)&&hm(l.Ae)?l1(g):Gm(l.serializer,g)})(r,t)}function LR(r,t,i){return r instanceof jl?c1(r,t):r instanceof Bl?h1(r,t):i}function u1(r,t){return r instanceof ih?(function(s){return hm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class zl extends Ah{}class jl extends Ah{constructor(t){super(),this.elements=t}}function c1(r,t){const i=f1(t);for(const s of r.elements)i.some((l=>Oi(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Bl extends Ah{constructor(t){super(),this.elements=t}}function h1(r,t){let i=f1(t);for(const s of r.elements)i=i.filter((l=>!Oi(l,s)));return{arrayValue:{values:i}}}class ih extends Ah{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function W0(r){return ge(r.integerValue||r.doubleValue)}function f1(r){return qm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class PR{constructor(t,i){this.field=t,this.transform=i}}function zR(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof jl&&l instanceof jl||s instanceof Bl&&l instanceof Bl?ro(s.elements,l.elements,Oi):s instanceof ih&&l instanceof ih?Oi(s.Ae,l.Ae):s instanceof zl&&l instanceof zl})(r.transform,t.transform)}class jR{constructor(t,i){this.version=t,this.transformResults=i}}class ti{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ti}static exists(t){return new ti(void 0,t)}static updateTime(t){return new ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Sh{}function d1(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Qm(r.key,ti.none()):new Kl(r.key,r.data,ti.none());{const i=r.data,s=Un.empty();let l=new Me(Ge.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Ws(r.key,s,new Wn(l.toArray()),ti.none())}}function BR(r,t,i){r instanceof Kl?(function(l,c,d){const g=l.value.clone(),p=ev(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof Ws?(function(l,c,d){if(!Bc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=ev(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(m1(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ol(r,t,i,s){return r instanceof Kl?(function(c,d,g,p){if(!Bc(c.precondition,d))return g;const _=c.value.clone(),b=nv(c.fieldTransforms,p,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,s):r instanceof Ws?(function(c,d,g,p){if(!Bc(c.precondition,d))return g;const _=nv(c.fieldTransforms,p,d),b=d.data;return b.setAll(m1(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,s):(function(c,d,g){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function qR(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=u1(s.transform,l||null);c!=null&&(i===null&&(i=Un.empty()),i.set(s.field,c))}return i||null}function tv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&ro(s,l,((c,d)=>zR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Kl extends Sh{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ws extends Sh{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function m1(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}})),t}function ev(r,t,i){const s=new Map;Yt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,LR(d,g,i[l]))}return s}function nv(r,t,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,UR(c,d,t))}return s}class Qm extends Sh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HR extends Sh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FR{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&BR(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Ol(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Ol(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=o1();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const p=d1(d,g);p!==null&&s.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(vt.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&ro(this.mutations,t.mutations,((i,s)=>tv(i,s)))&&ro(this.baseMutations,t.baseMutations,((i,s)=>tv(i,s)))}}class Ym{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){Yt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return DR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Ym(t,i,s,l)}}class GR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class QR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ie,jt;function YR(r){switch(r){case X.OK:return gt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function p1(r){if(r===void 0)return rr("GRPC error has no .code"),X.UNKNOWN;switch(r){case Ie.OK:return X.OK;case Ie.CANCELLED:return X.CANCELLED;case Ie.UNKNOWN:return X.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return X.INTERNAL;case Ie.UNAVAILABLE:return X.UNAVAILABLE;case Ie.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ie.NOT_FOUND:return X.NOT_FOUND;case Ie.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ie.ABORTED:return X.ABORTED;case Ie.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ie.DATA_LOSS:return X.DATA_LOSS;default:return gt(39323,{code:r})}}(jt=Ie||(Ie={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function KR(){return new TextEncoder}const XR=new Jr([4294967295,4294967295],0);function iv(r){const t=KR().encode(r),i=new NE;return i.update(t),new Uint8Array(i.digest())}function rv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Jr([i,s],0),new Jr([l,c],0)]}class Km{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new wl(`Invalid padding: ${i}`);if(s<0)throw new wl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new wl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Jr.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(Jr.fromNumber(s)));return l.compare(XR)===1&&(l=new Jr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=iv(t),[s,l]=rv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Km(c,l,i);return s.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=iv(t),[s,l]=rv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wh{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,Xl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new wh(vt.min(),l,new ue(Ut),sr(),Lt())}}class Xl{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Xl(s,i,Lt(),Lt(),Lt())}}class qc{constructor(t,i,s,l){this.be=t,this.removedTargetIds=i,this.key=s,this.De=l}}class g1{constructor(t,i){this.targetId=t,this.Ce=i}}class y1{constructor(t,i,s=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class sv{constructor(){this.ve=0,this.Fe=av(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),i=Lt(),s=Lt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:gt(38017,{changeType:c})}})),new Xl(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=av()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $R{constructor(t){this.Ge=t,this.ze=new Map,this.je=sr(),this.Je=Dc(),this.He=Dc(),this.Ye=new ue(Ut)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(dm(c))if(s===0){const d=new mt(c.path);this.et(i,d,Ze.newNoDocument(d,vt.min()))}else Yt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(t),p=g?this.ct(g,t,d):1;if(p!==0){this.it(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=is(s).toUint8Array()}catch(p){if(p instanceof qE)return io("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Km(d,l,c)}catch(p){return io(p instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&dm(g.target)){const p=new mt(g.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,Ze.newNoDocument(p,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=Lt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new wh(t,i,this.Ye,this.je,s);return this.je=sr(),this.Je=Dc(),this.He=Dc(),this.Ye=new ue(Ut),l}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new sv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Ut),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Ut),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new sv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Dc(){return new ue(mt.comparator)}function av(){return new ue(mt.comparator)}const JR={asc:"ASCENDING",desc:"DESCENDING"},ZR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WR={and:"AND",or:"OR"};class tI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function pm(r,t){return r.useProto3Json||_h(t)?t:{value:t}}function rh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _1(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function eI(r,t){return rh(r,t.toTimestamp())}function xi(r){return Yt(!!r,49232),vt.fromTimestamp((function(i){const s=ns(i);return new se(s.seconds,s.nanos)})(r))}function Xm(r,t){return gm(r,t).canonicalString()}function gm(r,t){const i=(function(l){return new ne(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function v1(r){const t=ne.fromString(r);return Yt(S1(t),10190,{key:t.toString()}),t}function ym(r,t){return Xm(r.databaseId,t.path)}function $d(r,t){const i=v1(t);if(i.get(1)!==r.databaseId.projectId)throw new rt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new rt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(T1(i))}function E1(r,t){return Xm(r.databaseId,t)}function nI(r){const t=v1(r);return t.length===4?ne.emptyPath():T1(t)}function _m(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function T1(r){return Yt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ov(r,t,i){return{name:ym(r,t),fields:i.value.mapValue.fields}}function iI(r,t){let i;if("targetChange"in t){t.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(Yt(b===void 0||typeof b=="string",58123),Ke.fromBase64String(b||"")):(Yt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ke.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const b=_.code===void 0?X.UNKNOWN:p1(_.code);return new rt(b,_.message||"")})(d);i=new y1(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=$d(r,s.document.name),c=xi(s.document.updateTime),d=s.document.createTime?xi(s.document.createTime):vt.min(),g=new Un({mapValue:{fields:s.document.fields}}),p=Ze.newFoundDocument(l,c,d,g),_=s.targetIds||[],b=s.removedTargetIds||[];i=new qc(_,b,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=$d(r,s.document),c=s.readTime?xi(s.readTime):vt.min(),d=Ze.newNoDocument(l,c),g=s.removedTargetIds||[];i=new qc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=$d(r,s.document),c=s.removedTargetIds||[];i=new qc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new QR(l,c),g=s.targetId;i=new g1(g,d)}}return i}function rI(r,t){let i;if(t instanceof Kl)i={update:ov(r,t.key,t.value)};else if(t instanceof Qm)i={delete:ym(r,t.key)};else if(t instanceof Ws)i={update:ov(r,t.key,t.data),updateMask:dI(t.fieldMask)};else{if(!(t instanceof HR))return gt(16599,{Vt:t.type});i={verify:ym(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const g=d.transform;if(g instanceof zl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Bl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ih)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw gt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:eI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(r,t.precondition)),i}function sI(r,t){return r&&r.length>0?(Yt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?xi(l.updateTime):xi(c);return d.isEqual(vt.min())&&(d=xi(c)),new jR(d,l.transformResults||[])})(i,t)))):[]}function aI(r,t){return{documents:[E1(r,t.path)]}}function oI(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=E1(r,l);const c=(function(_){if(_.length!==0)return A1(ei.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(x){return{field:Ya(x.field),direction:cI(x.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=pm(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function lI(r){let t=nI(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Yt(s===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const x=b1(A);return x instanceof ei&&ZE(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((x=>(function(W){return new Pl(Ka(W.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(x)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let x;return x=typeof A=="object"?A.value:A,_h(x)?null:x})(i.limit));let p=null;i.startAt&&(p=(function(A){const x=!!A.before,G=A.values||[];return new eh(G,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const x=!A.before,G=A.values||[];return new eh(G,x)})(i.endAt)),RR(t,l,d,c,g,"F",p,_)}function uI(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function b1(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ka(i.unaryFilter.field);return Ce.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ka(i.unaryFilter.field);return Ce.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ka(i.unaryFilter.field);return Ce.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ka(i.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ce.create(Ka(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ei.create(i.compositeFilter.filters.map((s=>b1(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(r):gt(30097,{filter:r})}function cI(r){return JR[r]}function hI(r){return ZR[r]}function fI(r){return WR[r]}function Ya(r){return{fieldPath:r.canonicalString()}}function Ka(r){return Ge.fromServerFormat(r.fieldPath)}function A1(r){return r instanceof Ce?(function(i){if(i.op==="=="){if(K0(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NAN"}};if(Y0(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(K0(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NAN"}};if(Y0(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(i.field),op:hI(i.op),value:i.value}}})(r):r instanceof ei?(function(i){const s=i.getFilters().map((l=>A1(l)));return s.length===1?s[0]:{compositeFilter:{op:fI(i.op),filters:s}}})(r):gt(54877,{filter:r})}function dI(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function S1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Qr{constructor(t,i,s,l,c=vt.min(),d=vt.min(),g=Ke.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class mI{constructor(t){this.yt=t}}function pI(r){const t=lI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?nh(t,t.limit,"L"):t}class gI{constructor(){this.Cn=new yI}addToCollectionParentIndex(t,i){return this.Cn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(es.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(es.min())}updateCollectionGroup(t,i,s){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class yI{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Me(ne.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Me(ne.comparator)).toArray()}}const lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},w1=41943040;class dn{static withCacheSize(t){return new dn(t,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(w1,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class oo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new oo(0)}static cr(){return new oo(-1)}}const uv="LruGarbageCollector",_I=1048576;function cv([r,t],[i,s]){const l=Ut(r,i);return l===0?Ut(t,s):l}class vI{constructor(t){this.Ir=t,this.buffer=new Me(cv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();cv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class EI{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(uv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){mo(i)?st(uv,"Ignoring IndexedDB error during garbage collection: ",i):await fo(i)}await this.Vr(3e5)}))}}class TI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(yh.ce);const s=new vI(i);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(lv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,l,c,d,g,p,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(s=A,g=Date.now(),this.removeTargets(t,s,i)))).next((A=>(c=A,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((A=>(_=Date.now(),Ga()<=kt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${A} documents in `+(_-p)+`ms
Total Duration: ${_-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function bI(r,t){return new TI(r,t)}class AI{constructor(){this.changes=new Zs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?J.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class SI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class wI{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&Ol(s.mutation,l,Wn.empty(),se.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Lt()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Lt()){const l=Bs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=Sl();return c.forEach(((g,p)=>{d=d.insert(g,p.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=Bs();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Lt())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,s,l){let c=sr();const d=Dl(),g=(function(){return Dl()})();return i.forEach(((p,_)=>{const b=s.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof Ws)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Ol(b.mutation,_,b.mutation.getFieldMask(),se.now())):d.set(_.key,Wn.empty())})),this.recalculateAndSaveOverlays(t,c).next((p=>(p.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>g.set(_,new SI(b,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const s=Dl();let l=new ue(((d,g)=>d-g)),c=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((p=>{const _=i.get(p);if(_===null)return;let b=s.get(p)||Wn.empty();b=g.applyToLocalView(_,b),s.set(p,b);const A=(l.get(g.batchId)||Lt()).add(p);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,b=p.value,A=o1();b.forEach((x=>{if(!c.has(x)){const G=d1(i.get(x),s.get(x));G!==null&&A.set(x,G),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,A))}return J.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):n1(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):J.resolve(Bs());let g=Vl,p=c;return d.next((_=>J.forEach(_,((b,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(b)?J.resolve():this.remoteDocumentCache.getEntry(t,b).next((x=>{p=p.insert(b,x)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,p,_,Lt()))).next((b=>({batchId:g,changes:a1(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((s=>{let l=Sl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=Sl();return this.indexManager.getCollectionParents(t,c).next((g=>J.forEach(g,(p=>{const _=(function(A,x){return new po(x,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next((b=>{b.forEach(((A,x)=>{d=d.insert(A,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((p,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,Ze.newInvalidDocument(b)))}));let g=Sl();return d.forEach(((p,_)=>{const b=c.get(p);b!==void 0&&Ol(b.mutation,_,Wn.empty(),se.now()),bh(i,_)&&(g=g.insert(p,_))})),g}))}}class RI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:xi(l.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:pI(l.bundledQuery),readTime:xi(l.readTime)}})(i)),J.resolve()}}class II{constructor(){this.overlays=new ue(mt.comparator),this.qr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Bs();return J.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.St(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(t,i,s){const l=Bs(),c=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return J.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new ue(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let b=c.get(_.largestBatchId);b===null&&(b=Bs(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const g=Bs(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,b)=>g.set(_,b))),!(g.size()>=l)););return J.resolve(g)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new GR(i,s));let c=this.qr.get(i);c===void 0&&(c=Lt(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class CI{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class $m{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new Le(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((s=>this.removeReference(s,i)))}jr(t){const i=new mt(new ne([])),s=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new mt(new ne([])),s=new Le(i,t),l=new Le(i,t+1);let c=Lt();return this.Ur.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return mt.comparator(t.key,i.key)||Ut(t.Yr,i.Yr)}static Kr(t,i){return Ut(t.Yr,i.Yr)||mt.comparator(t.key,i.key)}}class xI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new FR(c,i,s,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Le(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?jm:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Me(Ut);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{s=s.add(g.Yr)}))})),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;mt.isDocumentKey(c)||(c=c.child(""));const d=new Le(new mt(c),0);let g=new Me(Ut);return this.Zr.forEachWhile((p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Yr)),!0)}),d),J.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Yt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,i){const s=new Le(i,0),l=this.Zr.firstAfterOrEqual(s);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class NI{constructor(t){this.ri=t,this.docs=(function(){return new ue(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return J.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let s=sr();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),J.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=sr();const d=i.path,g=new mt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:b}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||rR(iR(b),s)<=0||(l.has(b.key)||bh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,s,l){gt(9500)}ii(t,i){return J.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new DI(this)}getSize(t){return J.resolve(this.size)}}class DI extends AI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),J.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class OI{constructor(t){this.persistence=t,this.si=new Zs((i=>Hm(i)),Fm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new $m,this.targetCount=0,this.ai=oo.ur()}forEachTarget(t,i){return this.si.forEach(((s,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),J.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new oo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.Pr(i),J.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return J.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),J.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return J.resolve(s)}containsKey(t,i){return J.resolve(this._i.containsKey(i))}}class R1{constructor(t,i){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new CI,this.referenceDelegate=t(this),this.Pi=new OI(this),this.indexManager=new gI,this.remoteDocumentCache=(function(l){return new NI(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new mI(i),this.Ii=new RI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new II,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new xI(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){st("MemoryPersistence","Starting transaction:",t);const l=new MI(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return J.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,i))))}}class MI extends aR{constructor(t){super(),this.currentSequenceNumber=t}}class Jm{constructor(t){this.persistence=t,this.Ri=new $m,this.Vi=null}static mi(t){return new Jm(t)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),J.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(s=>{const l=mt.fromPath(s);return this.gi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class sh{constructor(t,i){this.persistence=t,this.pi=new Zs((s=>uR(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=bI(this,i)}static mi(t,i){return new sh(t,i)}Ei(){}di(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}wr(t){let i=0;return this.pr(t,(s=>{i++})).next((()=>i))}pr(t,i){return J.forEach(this.pi,((s,l)=>this.br(t,s,l).next((c=>c?J.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(s++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),J.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=zc(t.data.value)),i}br(t,i,s){return J.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return J.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Zm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=l}static As(t,i){let s=Lt(),l=Lt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Zm(t,i.fromCache,s,l)}}class VI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class kI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return bA()?8:oR(We())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new VI;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,s,l){return s.documentReadCount<this.fs?(Ga()<=kt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Ga()<=kt.DEBUG&&st("QueryEngine","Query:",Qa(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Ga()<=kt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ci(i))):J.resolve())}ys(t,i){if(Z0(i))return J.resolve(null);let s=Ci(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=nh(i,null,"F"),s=Ci(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Lt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,s).next((p=>{const _=this.Ds(i,g);return this.Cs(i,_,d,p.readTime)?this.ys(t,nh(i,null,"F")):this.vs(t,_,i,p)}))))})))))}ws(t,i,s,l){return Z0(i)||l.isEqual(vt.min())?J.resolve(null):this.ps.getDocuments(t,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,l)?J.resolve(null):(Ga()<=kt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qa(i)),this.vs(t,d,i,nR(l,Vl)).next((g=>g)))}))}Ds(t,i){let s=new Me(r1(t));return i.forEach(((l,c)=>{bh(t,c)&&(s=s.add(c))})),s}Cs(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,s){return Ga()<=kt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Qa(i)),this.ps.getDocumentsMatchingQuery(t,i,es.min(),s)}vs(t,i,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Wm="LocalStore",UI=3e8;class LI{constructor(t,i,s,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ue(Ut),this.xs=new Zs((c=>Hm(c)),Fm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new wI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function PI(r,t,i,s){return new LI(r,t,i,s)}async function I1(r,t){const i=Tt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],g=[];let p=Lt();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}for(const _ of c){g.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}return i.localDocuments.getDocuments(s,p).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function zI(r,t){const i=Tt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,_,b){const A=_.batch,x=A.keys();let G=J.resolve();return x.forEach((W=>{G=G.next((()=>b.getEntry(p,W))).next((Z=>{const F=_.docVersions.get(W);Yt(F!==null,48541),Z.version.compareTo(F)<0&&(A.applyToRemoteDocument(Z,_),Z.isValidDocument()&&(Z.setReadTime(_.commitVersion),b.addEntry(Z)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(p,A)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let p=Lt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function C1(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function jI(r,t){const i=Tt(r),s=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((b,A)=>{const x=l.get(A);if(!x)return;g.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,A))));let G=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?G=G.withResumeToken(Ke.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):b.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(b.resumeToken,s)),l=l.insert(A,G),(function(Z,F,nt){return Z.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=UI?!0:nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0})(x,G,b)&&g.push(i.Pi.updateTargetData(c,G))}));let p=sr(),_=Lt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(BI(c,d,t.documentUpdates).next((b=>{p=b.ks,_=b.qs}))),!s.isEqual(vt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(b)}return J.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,p,_))).next((()=>p))})).then((c=>(i.Ms=l,c)))}function BI(r,t,i){let s=Lt(),l=Lt();return i.forEach((c=>s=s.add(c))),t.getEntries(r,s).next((c=>{let d=sr();return i.forEach(((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(vt.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):st(Wm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)})),{ks:d,qs:l}}))}function qI(r,t){const i=Tt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=jm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function HI(r,t){const i=Tt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,t).next((c=>c?(l=c,J.resolve(l)):i.Pi.allocateTargetId(s).next((d=>(l=new Qr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s}))}async function vm(r,t,i){const s=Tt(r),l=s.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!mo(d))throw d;st(Wm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function hv(r,t,i){const s=Tt(r);let l=vt.min(),c=Lt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,_,b){const A=Tt(p),x=A.xs.get(b);return x!==void 0?J.resolve(A.Ms.get(x)):A.Pi.getTargetData(_,b)})(s,d,Ci(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((p=>{c=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:Lt()))).next((g=>(FI(s,CR(t),g),{documents:g,Qs:c})))))}function FI(r,t,i){let s=r.Os.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(t,s)}class fv{constructor(){this.activeTargetIds=VR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class GI{constructor(){this.Mo=new fv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new fv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class QI{Oo(t){}shutdown(){}}const dv="ConnectivityMonitor";class mv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(dv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(dv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function Em(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const Jd="RestConnection",YI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Wc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,i,s,l,c){const d=Em(),g=this.zo(t,i.toUriEncodedString());st(Jd,`Sending RPC '${t}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,c);const{host:_}=new URL(g),b=uo(_);return this.Jo(t,g,p,s,b).then((A=>(st(Jd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw io(Jd,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",s),A}))}Ho(t,i,s,l,c,d){return this.Go(t,i,s,l,c)}jo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const s=YI[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class XI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const $e="WebChannelConnection";class $I extends KI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,l,c){const d=Em();return new Promise(((g,p)=>{const _=new DE;_.setWithCredentials(!0),_.listenOnce(OE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Pc.NO_ERROR:const A=_.getResponseJson();st($e,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case Pc.TIMEOUT:st($e,`RPC '${t}' ${d} timed out`),p(new rt(X.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const x=_.getStatus();if(st($e,`RPC '${t}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const W=G?.error;if(W&&W.status&&W.message){const Z=(function(nt){const ut=nt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ut)>=0?ut:X.UNKNOWN})(W.status);p(new rt(Z,W.message))}else p(new rt(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new rt(X.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st($e,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);st($e,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",b,s,15)}))}T_(t,i,s){const l=Em(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=kE(),g=VE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const b=c.join("");st($e,`Creating RPC '${t}' stream ${l}: ${b}`,p);const A=d.createWebChannel(b,p);this.I_(A);let x=!1,G=!1;const W=new XI({Yo:F=>{G?st($e,`Not sending because RPC '${t}' stream ${l} is closed:`,F):(x||(st($e,`Opening RPC '${t}' stream ${l} transport.`),A.open(),x=!0),st($e,`RPC '${t}' stream ${l} sending:`,F),A.send(F))},Zo:()=>A.close()}),Z=(F,nt,ut)=>{F.listen(nt,(ht=>{try{ut(ht)}catch(Nt){setTimeout((()=>{throw Nt}),0)}}))};return Z(A,Al.EventType.OPEN,(()=>{G||(st($e,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),Z(A,Al.EventType.CLOSE,(()=>{G||(G=!0,st($e,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(A))})),Z(A,Al.EventType.ERROR,(F=>{G||(G=!0,io($e,`RPC '${t}' stream ${l} transport errored. Name:`,F.name,"Message:",F.message),W.a_(new rt(X.UNAVAILABLE,"The operation could not be completed")))})),Z(A,Al.EventType.MESSAGE,(F=>{if(!G){const nt=F.data[0];Yt(!!nt,16349);const ut=nt,ht=ut?.error||ut[0]?.error;if(ht){st($e,`RPC '${t}' stream ${l} received error:`,ht);const Nt=ht.status;let Bt=(function(w){const R=Ie[w];if(R!==void 0)return p1(R)})(Nt),wt=ht.message;Bt===void 0&&(Bt=X.INTERNAL,wt="Unknown error status: "+Nt+" with message "+ht.message),G=!0,W.a_(new rt(Bt,wt)),A.close()}else st($e,`RPC '${t}' stream ${l} received:`,nt),W.u_(nt)}})),Z(g,ME.STAT_EVENT,(F=>{F.stat===lm.PROXY?st($e,`RPC '${t}' stream ${l} detected buffering proxy`):F.stat===lm.NOPROXY&&st($e,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Zd(){return typeof document<"u"?document:null}function Rh(r){return new tI(r,!0)}class x1{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const pv="PersistentStream";class N1{constructor(t,i,s,l,c,d,g,p){this.Mi=t,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new x1(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(rr(i.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new rt(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(pv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(st(pv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class JI extends N1{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=iI(this.serializer,t),s=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?xi(d.readTime):vt.min()})(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=_m(this.serializer),i.addTarget=(function(c,d){let g;const p=d.target;if(g=dm(p)?{documents:aI(c,p)}:{query:oI(c,p).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=_1(c,d.resumeToken);const _=pm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=rh(c,d.snapshotVersion.toTimestamp());const _=pm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const s=uI(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=_m(this.serializer),i.removeTarget=t,this.q_(i)}}class ZI extends N1{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=sI(t.writeResults,t.commitTime),s=xi(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=_m(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>rI(this.serializer,s)))};this.q_(i)}}class WI{}class tC extends WI{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,gm(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt(X.UNKNOWN,c.toString())}))}Ho(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,gm(i,s),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class eC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rr(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xs="RemoteStore";class nC{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{ta(this)&&(st(Xs,"Restarting streams for network reachability change."),await(async function(p){const _=Tt(p);_.Ea.add(4),await $l(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ih(_)})(this))}))})),this.Ra=new eC(s,l)}}async function Ih(r){if(ta(r))for(const t of r.da)await t(!0)}async function $l(r){for(const t of r.da)await t(!1)}function D1(r,t){const i=Tt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),ip(i)?np(i):go(i).O_()&&ep(i,t))}function tp(r,t){const i=Tt(r),s=go(i);i.Ia.delete(t),s.O_()&&O1(i,t),i.Ia.size===0&&(s.O_()?s.L_():ta(i)&&i.Ra.set("Unknown"))}function ep(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}go(r).Y_(t)}function O1(r,t){r.Va.Ue(t),go(r).Z_(t)}function np(r){r.Va=new $R({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),go(r).start(),r.Ra.ua()}function ip(r){return ta(r)&&!go(r).x_()&&r.Ia.size>0}function ta(r){return Tt(r).Ea.size===0}function M1(r){r.Va=void 0}async function iC(r){r.Ra.set("Online")}async function rC(r){r.Ia.forEach(((t,i)=>{ep(r,t)}))}async function sC(r,t){M1(r),ip(r)?(r.Ra.ha(t),np(r)):r.Ra.set("Unknown")}async function aC(r,t,i){if(r.Ra.set("Online"),t instanceof y1&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,t)}catch(s){st(Xs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await ah(r,s)}else if(t instanceof qc?r.Va.Ze(t):t instanceof g1?r.Va.st(t):r.Va.tt(t),!i.isEqual(vt.min()))try{const s=await C1(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(p.resumeToken,d))}})),g.targetMismatches.forEach(((p,_)=>{const b=c.Ia.get(p);if(!b)return;c.Ia.set(p,b.withResumeToken(Ke.EMPTY_BYTE_STRING,b.snapshotVersion)),O1(c,p);const A=new Qr(b.target,p,_,b.sequenceNumber);ep(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){st(Xs,"Failed to raise snapshot:",s),await ah(r,s)}}async function ah(r,t,i){if(!mo(t))throw t;r.Ea.add(1),await $l(r),r.Ra.set("Offline"),i||(i=()=>C1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Xs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ih(r)}))}function V1(r,t){return t().catch((i=>ah(r,i,t)))}async function Ch(r){const t=Tt(r),i=ss(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:jm;for(;oC(t);)try{const l=await qI(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,lC(t,l)}catch(l){await ah(t,l)}k1(t)&&U1(t)}function oC(r){return ta(r)&&r.Ta.length<10}function lC(r,t){r.Ta.push(t);const i=ss(r);i.O_()&&i.X_&&i.ea(t.mutations)}function k1(r){return ta(r)&&!ss(r).x_()&&r.Ta.length>0}function U1(r){ss(r).start()}async function uC(r){ss(r).ra()}async function cC(r){const t=ss(r);for(const i of r.Ta)t.ea(i.mutations)}async function hC(r,t,i){const s=r.Ta.shift(),l=Ym.from(s,t,i);await V1(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Ch(r)}async function fC(r,t){t&&ss(r).X_&&await(async function(s,l){if((function(d){return YR(d)&&d!==X.ABORTED})(l.code)){const c=s.Ta.shift();ss(s).B_(),await V1(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ch(s)}})(r,t),k1(r)&&U1(r)}async function gv(r,t){const i=Tt(r);i.asyncQueue.verifyOperationInProgress(),st(Xs,"RemoteStore received new credentials");const s=ta(i);i.Ea.add(3),await $l(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ih(i)}async function dC(r,t){const i=Tt(r);t?(i.Ea.delete(2),await Ih(i)):t||(i.Ea.add(2),await $l(i),i.Ra.set("Unknown"))}function go(r){return r.ma||(r.ma=(function(i,s,l){const c=Tt(i);return c.sa(),new JI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:iC.bind(null,r),t_:rC.bind(null,r),r_:sC.bind(null,r),H_:aC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),ip(r)?np(r):r.Ra.set("Unknown")):(await r.ma.stop(),M1(r))}))),r.ma}function ss(r){return r.fa||(r.fa=(function(i,s,l){const c=Tt(i);return c.sa(),new ZI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:uC.bind(null,r),r_:fC.bind(null,r),ta:cC.bind(null,r),na:hC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Ch(r)):(await r.fa.stop(),r.Ta.length>0&&(st(Xs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class rp{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,g=new rp(t,i,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sp(r,t){if(rr("AsyncQueue",`${t}: ${r}`),mo(r))return new rt(X.UNAVAILABLE,`${t}: ${r}`);throw r}class Wa{static emptySet(t){return new Wa(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||mt.comparator(i.key,s.key):(i,s)=>mt.comparator(i.key,s.key),this.keyedMap=Sl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Wa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Wa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class yv{constructor(){this.ga=new ue(mt.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class lo{constructor(t,i,s,l,c,d,g,p,_){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new lo(t,i,Wa.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Th(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class mC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class pC{constructor(){this.queries=_v(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Tt(i),c=l.queries;l.queries=_v(),c.forEach(((d,g)=>{for(const p of g.Sa)p.onError(s)}))})(this,new rt(X.ABORTED,"Firestore shutting down"))}}function _v(){return new Zs((r=>i1(r)),Th)}async function ap(r,t){const i=Tt(r);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(s=2):(c=new mC,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=sp(d,`Initialization of query '${Qa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&lp(i)}async function op(r,t){const i=Tt(r),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function gC(r,t){const i=Tt(r);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(s=!0);d.wa=l}}s&&lp(i)}function yC(r,t,i){const s=Tt(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(t)}function lp(r){r.Ca.forEach((t=>{t.next()}))}var Tm,vv;(vv=Tm||(Tm={})).Ma="default",vv.Cache="cache";class up{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new lo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Tm.Cache}}class L1{constructor(t){this.key=t}}class P1{constructor(t){this.key=t}}class _C{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=r1(t),this.tu=new Wa(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new yv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,A)=>{const x=l.get(b),G=bh(this.query,A)?A:null,W=!!x&&this.mutatedKeys.has(x.key),Z=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let F=!1;x&&G?x.data.isEqual(G.data)?W!==Z&&(s.track({type:3,doc:G}),F=!0):this.su(x,G)||(s.track({type:2,doc:G}),F=!0,(p&&this.eu(G,p)>0||_&&this.eu(G,_)<0)&&(g=!0)):!x&&G?(s.track({type:0,doc:G}),F=!0):x&&!G&&(s.track({type:1,doc:x}),F=!0,(p||_)&&(g=!0)),F&&(G?(d=d.add(G),c=Z?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),s.track({type:1,doc:b})}return{tu:d,iu:s,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,A)=>(function(G,W){const Z=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:F})}};return Z(G)-Z(W)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(s),l=l??!1;const g=i&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,_=p!==this.Za;return this.Za=p,d.length!==0||_?{snapshot:new lo(this.query,t.tu,c,d,t.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return t.forEach((s=>{this.Xa.has(s)||i.push(new P1(s))})),this.Xa.forEach((s=>{t.has(s)||i.push(new L1(s))})),i}cu(t){this.Ya=t.Qs,this.Xa=Lt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cp="SyncEngine";class vC{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class EC{constructor(t){this.key=t,this.hu=!1}}class TC{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Zs((g=>i1(g)),Th),this.Iu=new Map,this.Eu=new Set,this.du=new ue(mt.comparator),this.Au=new Map,this.Ru=new $m,this.Vu={},this.mu=new Map,this.fu=oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bC(r,t,i=!0){const s=F1(r);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await z1(s,t,i,!0),l}async function AC(r,t){const i=F1(r);await z1(i,t,!0,!1)}async function z1(r,t,i,s){const l=await HI(r.localStore,Ci(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await SC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&D1(r.remoteStore,l),g}async function SC(r,t,i,s,l){r.pu=(A,x,G)=>(async function(Z,F,nt,ut){let ht=F.view.ru(nt);ht.Cs&&(ht=await hv(Z.localStore,F.query,!1).then((({documents:C})=>F.view.ru(C,ht))));const Nt=ut&&ut.targetChanges.get(F.targetId),Bt=ut&&ut.targetMismatches.get(F.targetId)!=null,wt=F.view.applyChanges(ht,Z.isPrimaryClient,Nt,Bt);return Tv(Z,F.targetId,wt.au),wt.snapshot})(r,A,x,G);const c=await hv(r.localStore,t,!0),d=new _C(t,c.Qs),g=d.ru(c.documents),p=Xl.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,p);Tv(r,i,_.au);const b=new vC(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function wC(r,t,i){const s=Tt(r),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!Th(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await vm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&tp(s.remoteStore,l.targetId),bm(s,l.targetId)})).catch(fo)):(bm(s,l.targetId),await vm(s.localStore,l.targetId,!0))}async function RC(r,t){const i=Tt(r),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),tp(i.remoteStore,s.targetId))}async function IC(r,t,i){const s=VC(r);try{const l=await(function(d,g){const p=Tt(d),_=se.now(),b=g.reduce(((G,W)=>G.add(W.key)),Lt());let A,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let W=sr(),Z=Lt();return p.Ns.getEntries(G,b).next((F=>{W=F,W.forEach(((nt,ut)=>{ut.isValidDocument()||(Z=Z.add(nt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(G,W))).next((F=>{A=F;const nt=[];for(const ut of g){const ht=qR(ut,A.get(ut.key).overlayedDocument);ht!=null&&nt.push(new Ws(ut.key,ht,XE(ht.value.mapValue),ti.exists(!0)))}return p.mutationQueue.addMutationBatch(G,_,nt,g)})).next((F=>{x=F;const nt=F.applyToLocalDocumentSet(A,Z);return p.documentOverlayCache.saveOverlays(G,F.batchId,nt)}))})).then((()=>({batchId:x.batchId,changes:a1(A)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,g,p){let _=d.Vu[d.currentUser.toKey()];_||(_=new ue(Ut)),_=_.insert(g,p),d.Vu[d.currentUser.toKey()]=_})(s,l.batchId,i),await Jl(s,l.changes),await Ch(s.remoteStore)}catch(l){const c=sp(l,"Failed to persist write");i.reject(c)}}async function j1(r,t){const i=Tt(r);try{const s=await jI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Yt(d.hu,14607):l.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await Jl(i,s,t)}catch(s){await fo(s)}}function Ev(r,t,i){const s=Tt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const p=Tt(d);p.onlineState=g;let _=!1;p.queries.forEach(((b,A)=>{for(const x of A.Sa)x.va(g)&&(_=!0)})),_&&lp(p)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function CC(r,t,i){const s=Tt(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new ue(mt.comparator);d=d.insert(c,Ze.newNoDocument(c,vt.min()));const g=Lt().add(c),p=new wh(vt.min(),new Map,new ue(Ut),d,g);await j1(s,p),s.du=s.du.remove(c),s.Au.delete(t),hp(s)}else await vm(s.localStore,t,!1).then((()=>bm(s,t,i))).catch(fo)}async function xC(r,t){const i=Tt(r),s=t.batch.batchId;try{const l=await zI(i.localStore,t);q1(i,s,null),B1(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Jl(i,l)}catch(l){await fo(l)}}async function NC(r,t,i){const s=Tt(r);try{const l=await(function(d,g){const p=Tt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return p.mutationQueue.lookupMutationBatch(_,g).next((A=>(Yt(A!==null,37113),b=A.keys(),p.mutationQueue.removeMutationBatch(_,A)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,b,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>p.localDocuments.getDocuments(_,b)))}))})(s.localStore,t);q1(s,t,i),B1(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Jl(s,l)}catch(l){await fo(l)}}function B1(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function q1(r,t,i){const s=Tt(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function bm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||H1(r,s)}))}function H1(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(tp(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),hp(r))}function Tv(r,t,i){for(const s of i)s instanceof L1?(r.Ru.addReference(s.key,t),DC(r,s)):s instanceof P1?(st(cp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||H1(r,s.key)):gt(19791,{wu:s})}function DC(r,t){const i=t.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(st(cp,"New document in limbo: "+i),r.Eu.add(s),hp(r))}function hp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new mt(ne.fromString(t)),s=r.fu.next();r.Au.set(s,new EC(i)),r.du=r.du.insert(i,s),D1(r.remoteStore,new Qr(Ci(Eh(i.path)),s,"TargetPurposeLimboResolution",yh.ce))}}async function Jl(r,t,i){const s=Tt(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,p)=>{d.push(s.pu(p,t,i).then((_=>{if((_||i)&&s.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(_){l.push(_);const b=Zm.As(p.targetId,_);c.push(b)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(p,_){const b=Tt(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(_,(x=>J.forEach(x.Es,(G=>b.persistence.referenceDelegate.addReference(A,x.targetId,G))).next((()=>J.forEach(x.ds,(G=>b.persistence.referenceDelegate.removeReference(A,x.targetId,G)))))))))}catch(A){if(!mo(A))throw A;st(Wm,"Failed to update sequence numbers: "+A)}for(const A of _){const x=A.targetId;if(!A.fromCache){const G=b.Ms.get(x),W=G.snapshotVersion,Z=G.withLastLimboFreeSnapshotVersion(W);b.Ms=b.Ms.insert(x,Z)}}})(s.localStore,c))}async function OC(r,t){const i=Tt(r);if(!i.currentUser.isEqual(t)){st(cp,"User change. New user:",t.toKey());const s=await I1(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((p=>{p.reject(new rt(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Jl(i,s.Ls)}}function MC(r,t){const i=Tt(r),s=i.Au.get(t);if(s&&s.hu)return Lt().add(s.key);{let l=Lt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function F1(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=j1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=MC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CC.bind(null,t),t.Pu.H_=gC.bind(null,t.eventManager),t.Pu.yu=yC.bind(null,t.eventManager),t}function VC(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=NC.bind(null,t),t}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Rh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return PI(this.persistence,new kI,t.initialUser,this.serializer)}Cu(t){return new R1(Jm.mi,this.serializer)}Du(t){return new GI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class kC extends oh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Yt(this.persistence.referenceDelegate instanceof sh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new EI(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new R1((s=>sh.mi(s,i)),this.serializer)}}class Am{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ev(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=OC.bind(null,this.syncEngine),await dC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new pC})()}createDatastore(t){const i=Rh(t.databaseInfo.databaseId),s=(function(c){return new $I(c)})(t.databaseInfo);return(function(c,d,g,p){return new tC(c,d,g,p)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,g){return new nC(s,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Ev(this.syncEngine,i,0)),(function(){return mv.v()?new mv:new QI})())}createSyncEngine(t,i){return(function(l,c,d,g,p,_,b){const A=new TC(l,c,d,g,p,_);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Tt(i);st(Xs,"RemoteStore shutting down."),s.Ea.add(5),await $l(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Am.provider={build:()=>new Am};class fp{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):rr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const as="FirestoreClient";class UC{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{st(as,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(st(as,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=sp(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Wd(r,t){r.asyncQueue.verifyOperationInProgress(),st(as,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await I1(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function bv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await LC(r);st(as,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((s=>gv(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>gv(t.remoteStore,l))),r._onlineComponents=t}async function LC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(as,"Using user provided OfflineComponentProvider");try{await Wd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;io("Error using user provided cache. Falling back to memory cache: "+i),await Wd(r,new oh)}}else st(as,"Using default OfflineComponentProvider"),await Wd(r,new kC(void 0));return r._offlineComponents}async function G1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(as,"Using user provided OnlineComponentProvider"),await bv(r,r._uninitializedComponentsProvider._online)):(st(as,"Using default OnlineComponentProvider"),await bv(r,new Am))),r._onlineComponents}function PC(r){return G1(r).then((t=>t.syncEngine))}async function lh(r){const t=await G1(r),i=t.eventManager;return i.onListen=bC.bind(null,t.syncEngine),i.onUnlisten=wC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=AC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=RC.bind(null,t.syncEngine),i}function zC(r,t,i={}){const s=new tr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,p,_){const b=new fp({next:x=>{b.Nu(),d.enqueueAndForget((()=>op(c,A)));const G=x.docs.has(g);!G&&x.fromCache?_.reject(new rt(X.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&x.fromCache&&p&&p.source==="server"?_.reject(new rt(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),A=new up(Eh(g.path),b,{includeMetadataChanges:!0,qa:!0});return ap(c,A)})(await lh(r),r.asyncQueue,t,i,s))),s.promise}function jC(r,t,i={}){const s=new tr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,p,_){const b=new fp({next:x=>{b.Nu(),d.enqueueAndForget((()=>op(c,A))),x.fromCache&&p.source==="server"?_.reject(new rt(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),A=new up(g,b,{includeMetadataChanges:!0,qa:!0});return ap(c,A)})(await lh(r),r.asyncQueue,t,i,s))),s.promise}function Q1(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const Av=new Map;const Y1="firestore.googleapis.com",Sv=!0;class wv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Y1,this.ssl=Sv}else this.host=t.host,this.ssl=t.ssl??Sv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=w1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<_I)throw new rt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}tR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Q1(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xh{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new F2;switch(s.type){case"firstParty":return new K2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Av.get(i);s&&(st("ComponentProvider","Removing Datastore"),Av.delete(i),s.terminate())})(this),Promise.resolve()}}function BC(r,t,i,s={}){r=Pn(r,xh);const l=uo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;l&&(Fv(`https://${g}`),Gv("Firestore",!0)),c.host!==Y1&&c.host!==g&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:g,ssl:l,emulatorOptions:s};if(!Gs(p,d)&&(r._setSettings(p),s.mockUserToken)){let _,b;if(typeof s.mockUserToken=="string")_=s.mockUserToken,b=Je.MOCK_USER;else{_=dA(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new rt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Je(A)}r._authCredentials=new G2(new LE(_,b))}}class or{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new or(this.firestore,t,this._query)}}class ye{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ye(this.firestore,t,this._key)}toJSON(){return{type:ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(Yl(i,ye._jsonSchema))return new ye(t,s||null,new mt(ne.fromString(i.referencePath)))}}ye._jsonSchemaVersion="firestore/documentReference/1.0",ye._jsonSchema={type:xe("string",ye._jsonSchemaVersion),referencePath:xe("string")};class Zr extends or{constructor(t,i,s){super(t,i,Eh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ye(this.firestore,null,new mt(t))}withConverter(t){return new Zr(this.firestore,t,this._path)}}function wi(r,t,...i){if(r=rn(r),PE("collection","path",t),r instanceof xh){const s=ne.fromString(t,...i);return P0(s),new Zr(r,null,s)}{if(!(r instanceof ye||r instanceof Zr))throw new rt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...i));return P0(s),new Zr(r.firestore,null,s)}}function os(r,t,...i){if(r=rn(r),arguments.length===1&&(t=zm.newId()),PE("doc","path",t),r instanceof xh){const s=ne.fromString(t,...i);return L0(s),new ye(r,null,new mt(s))}{if(!(r instanceof ye||r instanceof Zr))throw new rt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...i));return L0(s),new ye(r.firestore,r instanceof Zr?r.converter:null,new mt(s))}}const Rv="AsyncQueue";class Iv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new x1(this,"async_queue_retry"),this._c=()=>{const s=Zd();s&&st(Rv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=Zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new tr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!mo(t))throw t;st(Rv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,rr("INTERNAL UNHANDLED ERROR: ",Cv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=rp.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:Cv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Cv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function xv(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ls extends xh{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new Iv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Iv(t),this._firestoreClient=void 0,await t}}}function qC(r,t){const i=typeof r=="object"?r:Xv(),s=typeof r=="string"?r:Wc,l=Nm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=hA("firestore");c&&BC(l,...c)}return l}function Nh(r){if(r._terminated)throw new rt(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||HC(r),r._firestoreClient}function HC(r){const t=r._freezeSettings(),i=(function(l,c,d,g){return new fR(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Q1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new UC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Ke.fromBase64String(t))}catch(i){throw new rt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ln(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Yl(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:xe("string",Ln._jsonSchemaVersion),bytes:xe("string")};class dp{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class mp{constructor(t){this._methodName=t}}class Ni{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(t){if(Yl(t,Ni._jsonSchema))return new Ni(t.latitude,t.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:xe("string",Ni._jsonSchemaVersion),latitude:xe("number"),longitude:xe("number")};class Di{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Yl(t,Di._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Di(t.vectorValues);throw new rt(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:xe("string",Di._jsonSchemaVersion),vectorValues:xe("object")};const FC=/^__.*__$/;class GC{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new Ws(t,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(t,this.data,i,this.fieldTransforms)}}function K1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:r})}}class pp{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new pp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return uh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(K1(this.Ac)&&FC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class QC{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Rh(t)}Cc(t,i,s,l=!1){return new pp({Ac:t,methodName:i,Dc:s,path:Ge.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gp(r){const t=r._freezeSettings(),i=Rh(r._databaseId);return new QC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function X1(r,t,i,s,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);Z1("Data must be an object, but it was:",d,s);const g=$1(s,d);let p,_;if(c.merge)p=new Wn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const x=KC(t,A,i);if(!d.contains(x))throw new rt(X.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);$C(b,x)||b.push(x)}p=new Wn(b),_=d.fieldTransforms.filter((A=>p.covers(A.field)))}else p=null,_=d.fieldTransforms;return new GC(new Un(g),p,_)}class yp extends mp{_toFieldTransform(t){return new PR(t.path,new zl)}isEqual(t){return t instanceof yp}}function YC(r,t,i,s=!1){return _p(i,r.Cc(s?4:3,t))}function _p(r,t){if(J1(r=rn(r)))return Z1("Unsupported field value:",t,r),$1(r,t);if(r instanceof mp)return(function(s,l){if(!K1(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const g of s){let p=_p(g,l.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(r,t)}return(function(s,l){if((s=rn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return kR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=se.fromDate(s);return{timestampValue:rh(l.serializer,c)}}if(s instanceof se){const c=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:rh(l.serializer,c)}}if(s instanceof Ni)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ln)return{bytesValue:_1(l.serializer,s._byteString)};if(s instanceof ye){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Xm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Di)return(function(d,g){return{mapValue:{fields:{[YE]:{stringValue:KE},[th]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Gm(g.serializer,_)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${gh(s)}`)})(r,t)}function $1(r,t){const i={};return BE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Js(r,((s,l)=>{const c=_p(l,t.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function J1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof Ni||r instanceof Ln||r instanceof ye||r instanceof mp||r instanceof Di)}function Z1(r,t,i){if(!J1(i)||!zE(i)){const s=gh(i);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function KC(r,t,i){if((t=rn(t))instanceof dp)return t._internalPath;if(typeof t=="string")return W1(r,t);throw uh("Field path arguments must be of type string or ",r,!1,void 0,i)}const XC=new RegExp("[~\\*/\\[\\]]");function W1(r,t,i){if(t.search(XC)>=0)throw uh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new dp(...t.split("."))._internalPath}catch{throw uh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function uh(r,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${l}`),p+=")"),new rt(X.INVALID_ARGUMENT,g+r+p)}function $C(r,t){return r.some((i=>i.isEqual(t)))}class tT{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new JC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Dh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class JC extends tT{data(){return super.data()}}function Dh(r,t){return typeof t=="string"?W1(r,t):t instanceof dp?t._internalPath:t._delegate._internalPath}function eT(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vp{}class Ep extends vp{}function Oh(r,t,...i){let s=[];t instanceof vp&&s.push(t),s=s.concat(i),(function(c){const d=c.filter((p=>p instanceof Tp)).length,g=c.filter((p=>p instanceof Mh)).length;if(d>1||d>0&&g>0)throw new rt(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Mh extends Ep{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new Mh(t,i,s)}_apply(t){const i=this._parse(t);return rT(t._query,i),new or(t.firestore,t.converter,mm(t._query,i))}_parse(t){const i=gp(t.firestore);return(function(c,d,g,p,_,b,A){let x;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new rt(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Dv(A,b);const W=[];for(const Z of A)W.push(Nv(p,c,Z));x={arrayValue:{values:W}}}else x=Nv(p,c,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Dv(A,b),x=YC(g,d,A,b==="in"||b==="not-in");return Ce.create(_,b,x)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function Sm(r,t,i){const s=t,l=Dh("where",r);return Mh._create(l,s,i)}class Tp extends vp{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Tp(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ei.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const p of g)rT(d,p),d=mm(d,p)})(t._query,i),new or(t.firestore,t.converter,mm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bp extends Ep{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new bp(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new rt(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new rt(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pl(c,d)})(t._query,this._field,this._direction);return new or(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new po(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function nT(r,t="asc"){const i=t,s=Dh("orderBy",r);return bp._create(s,i)}class Ap extends Ep{constructor(t,i,s){super(),this.type=t,this._limit=i,this._limitType=s}static _create(t,i,s){return new Ap(t,i,s)}_apply(t){return new or(t.firestore,t.converter,nh(t._query,this._limit,this._limitType))}}function iT(r){return eR("limit",r),Ap._create("limit",r,"F")}function Nv(r,t,i){if(typeof(i=rn(i))=="string"){if(i==="")throw new rt(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!n1(t)&&i.indexOf("/")!==-1)throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(ne.fromString(i));if(!mt.isDocumentKey(s))throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Q0(r,new mt(s))}if(i instanceof ye)return Q0(r,i._key);throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gh(i)}.`)}function Dv(r,t){if(!Array.isArray(r)||r.length===0)throw new rt(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function rT(r,t){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new rt(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class ZC{convertValue(t,i="none"){switch(rs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(is(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Js(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[th].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new Di(i)}convertGeoPoint(t){return new Ni(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=vh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(kl(t));default:return null}}convertTimestamp(t){const i=ns(t);return new se(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=ne.fromString(t);Yt(S1(s),9688,{name:t});const l=new Ul(s.get(1),s.get(3)),c=new mt(s.popFirst(5));return l.isEqual(i)||rr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function sT(r,t,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,s}class Rl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Hs extends tT{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(Dh("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Hs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Hs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hs._jsonSchema={type:xe("string",Hs._jsonSchemaVersion),bundleSource:xe("string","DocumentSnapshot"),bundleName:xe("string"),bundle:xe("string")};class Hc extends Hs{data(t={}){return super.data(t)}}class Fs{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Rl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new Hc(this._firestore,this._userDataWriter,s.key,s,new Rl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const p=new Hc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Rl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const p=new Hc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Rl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:WC(g.type),doc:p,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fs._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function WC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}function aT(r){r=Pn(r,ye);const t=Pn(r.firestore,ls);return zC(Nh(t),r._key).then((i=>oT(t,r,i)))}Fs._jsonSchemaVersion="firestore/querySnapshot/1.0",Fs._jsonSchema={type:xe("string",Fs._jsonSchemaVersion),bundleSource:xe("string","QuerySnapshot"),bundleName:xe("string"),bundle:xe("string")};class Sp extends ZC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ye(this.firestore,null,i)}}function wp(r){r=Pn(r,or);const t=Pn(r.firestore,ls),i=Nh(t),s=new Sp(t);return eT(r._query),jC(i,r._query).then((l=>new Fs(t,s,r,l)))}function Rp(r,t,i){r=Pn(r,ye);const s=Pn(r.firestore,ls),l=sT(r.converter,t,i);return Ip(s,[X1(gp(s),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,ti.none())])}function wm(r){return Ip(Pn(r.firestore,ls),[new Qm(r._key,ti.none())])}function Mc(r,t){const i=Pn(r.firestore,ls),s=os(r),l=sT(r.converter,t);return Ip(i,[X1(gp(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,ti.exists(!1))]).then((()=>s))}function Vh(r,...t){r=rn(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||xv(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(xv(t[s])){const p=t[s];t[s]=p.next?.bind(p),t[s+1]=p.error?.bind(p),t[s+2]=p.complete?.bind(p)}let c,d,g;if(r instanceof ye)d=Pn(r.firestore,ls),g=Eh(r._key.path),c={next:p=>{t[s]&&t[s](oT(d,r,p))},error:t[s+1],complete:t[s+2]};else{const p=Pn(r,or);d=Pn(p.firestore,ls),g=p._query;const _=new Sp(d);c={next:b=>{t[s]&&t[s](new Fs(d,_,p,b))},error:t[s+1],complete:t[s+2]},eT(r._query)}return(function(_,b,A,x){const G=new fp(x),W=new up(b,G,A);return _.asyncQueue.enqueueAndForget((async()=>ap(await lh(_),W))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>op(await lh(_),W)))}})(Nh(d),g,l,c)}function Ip(r,t){return(function(s,l){const c=new tr;return s.asyncQueue.enqueueAndForget((async()=>IC(await PC(s),l,c))),c.promise})(Nh(r),t)}function oT(r,t,i){const s=i.docs.get(t._key),l=new Sp(r);return new Hs(r,l,t._key,s,new Rl(i.hasPendingWrites,i.fromCache),t.converter)}function qs(){return new yp("serverTimestamp")}(function(t,i=!0){(function(l){ho=l})(co),eo(new Qs("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new ls(new Q2(s.getProvider("auth-internal")),new X2(d,s.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new rt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(_.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Xr(M0,V0,t),Xr(M0,V0,"esm2020")})();const tx=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ex=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,s)=>s?s.toUpperCase():i.toLowerCase()),Ov=r=>{const t=ex(r);return t.charAt(0).toUpperCase()+t.slice(1)},lT=(...r)=>r.filter((t,i,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===i).join(" ").trim(),nx=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var ix={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rx=dt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...g},p)=>dt.createElement("svg",{ref:p,...ix,width:t,height:t,stroke:r,strokeWidth:s?Number(i)*24/Number(t):i,className:lT("lucide",l),...!c&&!nx(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,b])=>dt.createElement(_,b)),...Array.isArray(c)?c:[c]]));const sn=(r,t)=>{const i=dt.forwardRef(({className:s,...l},c)=>dt.createElement(rx,{ref:c,iconNode:t,className:lT(`lucide-${tx(Ov(r))}`,`lucide-${r}`,s),...l}));return i.displayName=Ov(r),i};const sx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Mv=sn("arrow-right",sx);const ax=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],uT=sn("book",ax);const ox=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],cT=sn("circle-alert",ox);const lx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ux=sn("circle-check",lx);const cx=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],hx=sn("graduation-cap",cx);const fx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Wr=sn("loader-circle",fx);const dx=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],mx=sn("menu",dx);const px=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],gx=sn("refresh-cw",px);const yx=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],hT=sn("send",yx);const _x=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],vx=sn("sparkles",_x);const Ex=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Tx=sn("star",Ex);const bx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Rm=sn("trash-2",bx);const Ax=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Sx=sn("users",Ax);const wx=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Rx=sn("volume-2",wx);const Ix=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vv=sn("x",Ix),kh=({className:r,style:t})=>M.jsxs("svg",{viewBox:"0 0 100 100",className:r,style:t,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[M.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"6",fill:"none"}),M.jsx("text",{x:"50",y:"72",fontSize:"55",textAnchor:"middle",fill:"currentColor",fontFamily:"sans-serif",fontWeight:"900",children:"P"})]}),Cx=r=>{const t=["#ffadad","#ffd6a5","#fdffb6","#caffbf","#9bf6ff","#a0c4ff","#bdb2ff","#ffc6ff"];let i=0;if(!r)return t[0];for(let s=0;s<r.length;s++)i=r.charCodeAt(s)+((i<<5)-i);return t[Math.abs(i)%t.length]},ch=({url:r,name:t,size:i=40,className:s=""})=>r?M.jsx("img",{src:r,alt:t,className:`avatar-img ${s}`,style:{width:i,height:i,borderRadius:"50%",objectFit:"cover"}}):M.jsx("div",{className:`avatar-placeholder ${s}`,style:{width:i,height:i,borderRadius:"50%",background:Cx(t),color:"#111",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:i*.4},children:t?t[0].toUpperCase():"?"}),xx=r=>{if(!r||typeof r.toDate!="function")return"Sending...";const t=r.toDate(),i={hour:"2-digit",minute:"2-digit",hour12:!0,timeZoneName:"short"};return t.toLocaleString(void 0,i)},Nx={apiKey:"AIzaSyD9Re5PPlvlqbDSu2zaDtL8qP5I98OUfCE",authDomain:"poly-ch.firebaseapp.com",projectId:"poly-ch",storageBucket:"poly-ch.firebasestorage.app",messagingSenderId:"903667685982",appId:"1:903667685982:web:18d709a19d18f9c5fcf2cf"},fT=Kv(Nx),kv=q2(fT),Qe=qC(fT),Ye="poly-local-dev",to=[{code:"en-US",name:"English",flag:""},{code:"es-ES",name:"Spanish",flag:""},{code:"fr-FR",name:"French",flag:""},{code:"de-DE",name:"German",flag:""},{code:"ja-JP",name:"Japanese",flag:""},{code:"ko-KR",name:"Korean",flag:""},{code:"zh-CN",name:"Chinese",flag:""},{code:"ru-RU",name:"Russian",flag:""},{code:"it-IT",name:"Italian",flag:""},{code:"pt-BR",name:"Portuguese",flag:""},{code:"hi-IN",name:"Hindi",flag:""}],Uh="https://geminiproxy-el6dny43aa-uc.a.run.app",Dx=async(r,t)=>{if(!r||!r.trim()||t==="English")return{translated:r,error:null};try{const i=await fetch(Uh,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"translate",text:r,targetLang:t})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const s=await i.json();return{translated:s.translatedText||r,error:s.error||null}}catch(i){return console.error("Translation API Error:",i),{translated:r,error:"Translation service failed."}}},Ox=async r=>{if(!r||!r.trim())return{result:"",error:null};try{const t=await fetch(Uh,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"explain",text:r})});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const i=await t.json();return{result:i.definition||"No definition found.",error:i.error||null}}catch(t){return console.error("Definition API Error:",t),{result:"Could not load definition.",error:"Definition service failed."}}},Mx=async(r,t)=>{try{const i=await fetch(Uh,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"checkGrammar",text:r,lang:t})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const s=await i.json();return{hasError:s.hasError||!1,correction:s.correction||"",reason:s.reason||"",error:s.error||null}}catch(i){return console.error("Grammar Check API Error:",i),{hasError:!1,error:"Grammar check failed."}}},Vx=async(r,t,i,s)=>{try{const l=await fetch(Uh,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"generateAIResponse",userText:r,userName:t,lang:i,context:s})});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const c=await l.json();return{response:c.response,error:c.error||null}}catch(l){return console.error("AI Response API Error:",l),{response:null,error:"AI failed to generate response."}}},kx=async(r,t)=>{const i=new SpeechSynthesisUtterance(r);i.lang=t,window.speechSynthesis.cancel(),window.speechSynthesis.speak(i)},Ux=async(r,t)=>{if(r!==t)try{const i=os(Qe,"artifacts",Ye,"users",t,"dm_notifications",r);await Rp(i,{senderUid:r,timestamp:qs(),trigger:Date.now()},{merge:!0})}catch(i){console.error("Failed to create DM notification:",i)}},Lx=`
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

  * { box-sizing: border-box; }
  body { margin: 0; padding: 0; font-family: 'Inter', sans-serif; background: #f0f2f5; color: #111827; }
  button { cursor: pointer; border: none; background: none; font-family: inherit; }
  input, select, textarea { font-family: inherit; }
  
  /* Layout */
  .app-container { display: flex; height: 100vh; width: 100vw; overflow: hidden; background: linear-gradient(135deg, #f0f9ff 0%, #f0fdf4 100%); }
  .main-area { flex: 1; display: flex; flex-direction: column; position: relative; min-width: 0; background: linear-gradient(to bottom, #ffffff 0%, #f9fafb 100%); height: 100%; box-shadow: -2px 0 10px rgba(0,0,0,0.02); }
  
  /* Sidebar */
  .sidebar { width: 300px; border-right: 1px solid #e5e7eb; display: flex; flex-direction: column; background: #ffffff; height: 100%; z-index: 50; transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 2px 0 15px rgba(0,0,0,0.03); }
  .sidebar.closed { margin-left: -300px; } 
  .sidebar-mobile-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 40; backdrop-filter: blur(4px); animation: fadeIn 0s cubic-bezier(0.1, 0.9, 0.2, 1); }
  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  
  .sidebar-header { height: 70px; display: flex; align-items: center; padding: 0 24px; font-size: 1.3rem; font-weight: 800; background: linear-gradient(135deg, #059669 0%, #047857 100%); color: white; letter-spacing: -0.5px; box-shadow: 0 2px 8px rgba(5, 150, 105, 0.15); }
  .sidebar-content { flex: 1; overflow-y: auto; padding: 16px; }
  .sidebar-section { font-size: 0.7rem; font-weight: 700; color: #9ca3af; text-transform: uppercase; margin: 24px 12px 8px; letter-spacing: 0.8px; }
  .sidebar-footer { padding: 20px; border-top: 1px solid #f3f4f6; display: flex; align-items: center; gap: 12px; background: linear-gradient(to bottom, #f9fafb, #ffffff); }
  
  /* Nav Buttons */
  .nav-btn { width: 100%; display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-radius: 12px; margin-bottom: 4px; text-align: left; transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1); color: #4b5563; font-weight: 500; position: relative; overflow: hidden; }
  .nav-btn::before { content: ''; position: absolute; inset: 0; background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%); opacity: 0; transition: opacity 0.2s; border-radius: 12px; }
  .nav-btn:hover { background: #f9fafb; color: #111; transform: translateX(4px); }
  .nav-btn.active { background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%); color: #059669; font-weight: 600; box-shadow: 0 2px 8px rgba(5, 150, 105, 0.1); }
  .nav-btn.active::before { opacity: 1; }
  .nav-content { display: flex; align-items: center; gap: 12px; position: relative; z-index: 1; }
  .nav-icon { width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; border-radius: 10px; background: #f3f4f6; color: #666; font-size: 0.8rem; font-weight: bold; flex-shrink: 0; transition: all 0.2s; }
  .nav-btn.active .nav-icon { background: linear-gradient(135deg, #059669 0%, #047857 100%); color: #fff; box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3); }
  .nav-btn:hover .nav-icon { background: #e5e7eb; }
  
  /* Right side Nav Actions (Badge + Delete) */
  .nav-right { display: flex; align-items: center; gap: 8px; position: relative; z-index: 2; }
  
  .delete-icon { opacity: 0; transition: all 0.2s; color: #ef4444; padding: 6px; border-radius: 8px; display: flex; align-items: center; }
  .delete-icon:hover { background: #fee2e2; transform: scale(1.1); }
  .nav-btn:hover .delete-icon { opacity: 1; }
  
  .unread-badge { 
    background: #016747ff; 
    color: white; 
    font-size: 0.75rem; 
    font-weight: 700; 
    min-width: 20px; 
    height: 20px; 
    border-radius: 10px; 
    display: flex; 
    align-items: center; 
    justify-content: center;
    padding: 0 6px;
    box-shadow: 0 2px 5px rgba(239, 68, 68, 0.3);
  }
  .nav-btn.active .unread-badge { background: white; color: #059669; border: 1px solid #d1fae5; }

  /* Headers */
  .header { height: 70px; border-bottom: 1px solid #e5e7eb; display: flex; align-items: center; justify-content: space-between; padding: 0 24px; background: white; z-index: 10; box-shadow: 0 1px 3px rgba(0,0,0,0.04); flex-shrink: 0; backdrop-filter: blur(10px); }
  .header-title { font-weight: 700; font-size: 1.15rem; display: flex; align-items: center; gap: 10px; color: #1f2937; }
  .menu-btn { color: #6b7280; margin-right: 16px; transition: color 0.2s; }
  .menu-btn:hover { color: #059669; }
  
  /* Language Selector */
  .lang-container { position: relative; }
  .lang-btn { display: flex; align-items: center; gap: 8px; padding: 10px 18px; border: 1.5px solid #e5e7eb; border-radius: 99px; background: #ffffff; font-size: 0.9rem; font-weight: 600; transition: all 0.2s; color: #374151; box-shadow: 0 2px 4px rgba(0,0,0,0.04); }
  .lang-btn:hover { border-color: #059669; background: #f9fafb; box-shadow: 0 4px 8px rgba(5, 150, 105, 0.1); transform: translateY(-1px); }
  .lang-menu { position: absolute; top: 120%; right: 0; width: 220px; background: white; border: 1px solid #e5e7eb; border-radius: 16px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); overflow: hidden; z-index: 60; max-height: 320px; overflow-y: auto; animation: slideDown 0.2s ease; }
  @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
  .lang-option { width: 100%; padding: 12px 20px; text-align: left; display: flex; align-items: center; gap: 12px; font-size: 0.9rem; color: #374151; transition: all 0.15s; font-weight: 500; }
  .lang-option:hover { background: linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%); color: #059669; }
  
  /* Lobby/Search Grid */
  .lobby-view { padding: 40px; overflow-y: auto; flex: 1; width: 100%; background: linear-gradient(to bottom, #ffffff, #f9fafb); }
  .lobby-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 24px; }
  .lobby-card { padding: 28px; border-radius: 24px; background: white; border: 1.5px solid #f3f4f6; box-shadow: 0 4px 6px rgba(0,0,0,0.02), 0 1px 3px rgba(0,0,0,0.01); transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); cursor: pointer; display: flex; flex-direction: column; position: relative; overflow: hidden; }
  .lobby-card::before { content: ''; position: absolute; inset: 0; background: linear-gradient(135deg, rgba(5, 150, 105, 0.03) 0%, rgba(16, 185, 129, 0.03) 100%); opacity: 0; transition: opacity 0.3s; }
  .lobby-card:hover { transform: translateY(-6px); box-shadow: 0 20px 40px rgba(0,0,0,0.08), 0 8px 16px rgba(0,0,0,0.04); border-color: #d1fae5; }
  .lobby-card:hover::before { opacity: 1; }
  .card-header { display: flex; justify-content: space-between; margin-bottom: 16px; position: relative; z-index: 1; }
  .card-badge { font-size: 0.7rem; font-weight: 700; background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%); color: #059669; padding: 6px 12px; border-radius: 99px; height: fit-content; display: flex; align-items: center; gap: 4px; box-shadow: 0 2px 4px rgba(5, 150, 105, 0.15); }
  .card-title { font-size: 1.3rem; font-weight: 700; margin: 0 0 6px 0; color: #111; position: relative; z-index: 1; }
  .card-subtitle { font-size: 0.9rem; color: #6b7280; display: flex; align-items: center; gap: 6px; position: relative; z-index: 1; }
  .card-meta { margin-top: auto; padding-top: 20px; font-size: 0.85rem; display: flex; flex-direction: column; gap: 10px; color: #4b5563; border-top: 1.5px solid #f3f4f6; position: relative; z-index: 1; }
  .meta-row { display: flex; align-items: center; gap: 8px; }
  .meta-label { font-weight: 700; color: #9ca3af; font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.5px; }
  
  /* Chat Area */
  .chat-view { flex: 1; display: flex; flex-direction: column; height: 100%; width: 100%; background: #fff; overflow: hidden; min-height: 0; position: relative; }
  .chat-messages { flex: 1; overflow-y: auto; padding: 28px; display: flex; flex-direction: column; gap: 16px; background: linear-gradient(to bottom, #fafafa, #ffffff); }
  .load-more-btn { width: 100%; padding: 10px; font-size: 0.85rem; color: #9ca3af; display: flex; justify-content: center; align-items: center; gap: 8px; transition: all 0.2s; border-radius: 12px; font-weight: 500; }
  .load-more-btn:hover { color: #059669; background: #f9fafb; }
  
  .msg-row { display: flex; width: 100%; gap: 12px; align-items: flex-end; margin-bottom: 4px; animation: slideUp 0.3s ease; }
  @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
  .msg-row.me { justify-content: flex-end; }
  .msg-avatar { width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: bold; background: #f4f4f5; color: #666; flex-shrink: 0; box-shadow: 0 2px 4px rgba(0,0,0,0.08); }
  
  /* BUBBLES */
  .msg-bubble { max-width: 75%; padding: 12px 16px; border-radius: 16px; position: relative; font-size: 0.95rem; line-height: 1.5; box-shadow: 0 2px 8px rgba(0,0,0,0.08); transition: all 0.2s; }
  .msg-bubble:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.12); transform: translateY(-1px); }
  .msg-row.me .msg-bubble { background: linear-gradient(135deg, #dcfce7 0%, #d9fdd3 100%); color: #111; border-top-right-radius: 4px; border: 1px solid #bbf7d0; }
  .msg-row.them .msg-bubble { background: #ffffff; color: #111; border: 1px solid #e5e7eb; border-top-left-radius: 4px; }
  
  /*  UPDATED STYLES FOR TIMESTAMP AND META  */
  .msg-meta { 
    display: flex; 
    align-items: flex-end; 
    justify-content: space-between; /* Separates Language/Original text from Time/Audio */
    margin-top: 6px; 
    font-size: 0.7rem; 
    opacity: 0.8; 
  }
  .lang-meta-wrapper { 
    display: flex; 
    flex-direction: column; 
    gap: 2px;
    margin-right: 10px;
  }
  .time-audio-wrapper {
    display: flex;
    align-items: center;
    gap: 8px; /* Space between time and audio icon */
  }
  .timestamp-meta { 
    font-size: 0.65rem; 
    color: #9ca3af; 
    font-weight: 500; 
  }
  /* END UPDATED STYLES */

  .msg-btn { cursor: pointer; opacity: 0.6; transition: all 0.2s; padding: 4px; border-radius: 6px; display: flex; align-items: center; }
  .msg-btn:hover { opacity: 1; background: rgba(0,0,0,0.05); transform: scale(1.1); }
  .correction-btn { position: absolute; top: -20px; right: -10px; background: #ffffff; color: #d97706; border: 1px solid #fcd34d; padding: 4px; border-radius: 50%; cursor: pointer; box-shadow: 0 4px 8px rgba(217, 119, 6, 0.2); z-index: 0; transition: all 0.2s; }
  .msg-row.me .correction-btn { left: -10px; right: auto; }
  .correction-btn:hover { transform: scale(1.15); box-shadow: 0 6px 12px rgba(217, 119, 6, 0.3); }
  
  /* Popup */
  .popup { position: absolute; background: white; border-radius: 20px; padding: 24px; width: 300px; box-shadow: 0 20px 50px rgba(0,0,0,0.15), 0 10px 25px rgba(0,0,0,0.1); z-index: 100; font-size: 0.9rem; border: 1.5px solid #f3f4f6; color: #374151; animation: popIn 0.2s cubic-bezier(0.4, 0, 0.2, 1); }
  @keyframes popIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
  .popup-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; padding-bottom: 14px; border-bottom: 1.5px solid #f3f4f6; }
  .popup-title { font-weight: 700; font-size: 0.75rem; text-transform: uppercase; color: #9ca3af; display: flex; align-items: center; gap: 8px; letter-spacing: 0.5px; }
  .popup-close { color: #9ca3af; cursor: pointer; transition: all 0.2s; padding: 4px; border-radius: 6px; }
  .popup-close:hover { color: #111; background: #f3f4f6; }
  .popup-btn { width: 100%; margin-top: 16px; padding: 12px; background: linear-gradient(135deg, #059669 0%, #047857 100%); color: white; border-radius: 12px; font-size: 0.9rem; font-weight: 600; display: flex; align-items: center; justify-content: center; gap: 8px; transition: all 0.2s; box-shadow: 0 4px 12px rgba(5, 150, 105, 0.2); }
  .popup-btn:hover { opacity: 0.95; transform: translateY(-2px); box-shadow: 0 6px 16px rgba(5, 150, 105, 0.3); }

  /* Input Area */
  .input-area { padding: 20px 24px; background: linear-gradient(to bottom, #f9fafb, #ffffff); display: flex; flex-direction: column; gap: 16px; border-top: 1.5px solid #e5e7eb; flex-shrink: 0; box-shadow: 0 -2px 10px rgba(0,0,0,0.02); }
  .input-toggles { display: flex; justify-content: center; gap: 12px; margin-bottom: 8px; }
  .toggle-btn { padding: 10px 20px; border-radius: 99px; font-size: 0.85rem; font-weight: 600; border: 1.5px solid #e5e7eb; color: #6b7280; background: #fff; transition: all 0.2s; }
  .toggle-btn:hover { border-color: #d1d5db; background: #f9fafb; }
  .toggle-btn.active { background: linear-gradient(135deg, #059669 0%, #047857 100%); color: white; border-color: #059669; box-shadow: 0 4px 12px rgba(5, 150, 105, 0.25); transform: translateY(-2px); }
  
  .input-wrapper { display: flex; gap: 12px; background: white; padding: 10px; border-radius: 28px; box-shadow: 0 4px 12px rgba(0,0,0,0.06); align-items: flex-end; position: relative; border: 1.5px solid #e5e7eb; transition: all 0.2s; }
  .input-wrapper:focus-within { border-color: #059669; box-shadow: 0 6px 16px rgba(5, 150, 105, 0.15); }
  .chat-input { flex: 1; padding: 12px 16px; border: none; outline: none; font-size: 1rem; max-height: 120px; resize: none; background: transparent; color: #000; width: 100%; line-height: 1.5; }
  .send-btn { width: 50px; height: 50px; border-radius: 50%; background: linear-gradient(135deg, #059669 0%, #047857 100%); color: white; display: flex; align-items: center; justify-content: center; transition: all 0.2s; flex-shrink: 0; box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3); }
  .send-btn:hover:not(:disabled) { transform: scale(1.08); box-shadow: 0 6px 16px rgba(5, 150, 105, 0.4); }
  .send-btn:disabled { background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%); cursor: default; box-shadow: none; }
  
  .mic-btn { padding: 10px; color: #9ca3af; cursor: pointer; transition: all 0.2s; border-radius: 10px; }
  .mic-btn:hover { color: #059669; background: #f0fdf4; }
  
  .status-indicator { position: absolute; right: 16px; top: 50%; transform: translateY(-50%); font-size: 0.75rem; color: #059669; background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%); padding: 6px 14px; border-radius: 99px; display: flex; align-items: center; gap: 6px; font-weight: 600; box-shadow: 0 2px 6px rgba(5, 150, 105, 0.15); }
  
  .checking-bubble { background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); color: #92400e; padding: 8px 16px; border-radius: 16px; font-size: 0.8rem; margin: 0 auto; width: fit-content; box-shadow: 0 4px 8px rgba(217, 119, 6, 0.15); border: 1.5px solid #fde68a; display: flex; align-items: center; gap: 8px; font-weight: 600; }

  /* Notebook */
  .notebook-view { padding: 40px; overflow-y: auto; flex: 1; background: linear-gradient(to bottom, #fffbeb, #fefce8); }
  .notebook-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 24px; }
  .vocab-card { background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%); border: 1.5px solid #fde68a; border-radius: 20px; padding: 24px; position: relative; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 0 4px 6px rgba(217, 119, 6, 0.08); }
  .vocab-card:hover { transform: translateY(-4px); box-shadow: 0 12px 24px rgba(217, 119, 6, 0.15); border-color: #fcd34d; }
  .vocab-word { font-size: 1.3rem; font-weight: 700; margin-bottom: 8px; color: #111; }
  .vocab-def { font-size: 0.95rem; color: #4b5563; line-height: 1.6; }
  .vocab-meta { margin-top: 20px; padding-top: 16px; border-top: 1.5px dashed #fde68a; display: flex; justify-content: space-between; align-items: center; font-size: 0.75rem; color: #9ca3af; font-weight: 500; }
  .vocab-delete { cursor: pointer; color: #ef4444; padding: 6px; border-radius: 8px; transition: all 0.2s; }
  .vocab-delete:hover { background: #fee2e2; transform: scale(1.1); }

  @media (max-width: 768px) {
    .sidebar { position: fixed; box-shadow: 10px 0 30px rgba(0,0,0,0.15); }
    .input-area { padding: 16px; }
    .msg-bubble { max-width: 85%; }
    .header-title { font-size: 1rem; }
    .lobby-view { padding: 24px; }
    .notebook-view { padding: 24px; }
    .hidden-md { display: flex; }
    .desktop-header { display: none; }
    .mobile-menu-btn { display: block; }
  }
  @media (min-width: 769px) {
    .sidebar { position: relative; margin-left: 0 !important; }
    .sidebar.closed { margin-left: 0; }
    .mobile-header { display: none; }
    .desktop-header { display: flex; }
    .mobile-menu-btn { display: none; }
  }
  .spin { animation: spin 1s linear infinite; }
  @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
  
  /* Custom Scrollbar */
  ::-webkit-scrollbar { width: 8px; height: 8px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 99px; }
  ::-webkit-scrollbar-thumb:hover { background: #9ca3af; }
`,Px=r=>{const[t,i]=dt.useState(!1),[s,l]=dt.useState(null);return dt.useEffect(()=>{if(!r||r==="ai"||r==="notebook"||r==="user-search"){i(!0);return}const c=os(Qe,"artifacts",Ye,"public","data","users",r),d=Vh(c,g=>{if(g.exists()){const p=g.data();l(p);const _=p.lastActive?.toDate().getTime();i(_?Date.now()-_<3e5:!1)}else i(!1)});return()=>d()},[r]),{isOnline:t,partnerData:s}};function zx(){const[r,t]=dt.useState(null),[i,s]=dt.useState(!0),[l,c]=dt.useState(null),[d,g]=dt.useState(window.location.hash.replace("#","")||"login");return dt.useEffect(()=>{const p=()=>g(window.location.hash.replace("#","")||"login");return window.addEventListener("hashchange",p),()=>window.removeEventListener("hashchange",p)},[]),dt.useEffect(()=>((async()=>{await Aw(kv),s(!1)})(),Dw(kv,async _=>{if(t(_),_){const b=await aT(os(Qe,"artifacts",Ye,"public","data","users",_.uid));b.exists()&&c(b.data())}})),[]),dt.useEffect(()=>{i||(r?.displayName&&l?d==="login"&&(window.location.hash="user-search"):d!=="login"&&(window.location.hash="login"))},[r,i,d,l]),i?M.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#fff"},children:M.jsx(Wr,{className:"spin",color:"#059669",size:32})}):M.jsxs(M.Fragment,{children:[M.jsx("style",{children:Lx}),r?.displayName&&l?M.jsx(Bx,{user:r,userData:l}):M.jsx(jx,{user:r})]})}function jx({user:r}){const[t,i]=dt.useState(""),[s,l]=dt.useState("Spanish"),[c,d]=dt.useState(""),[g,p]=dt.useState(!1),[_,b]=dt.useState(""),A=async x=>{if(x.preventDefault(),!!t.trim()){b(""),p(!0);try{const G=Oh(wi(Qe,"artifacts",Ye,"public","data","users"),Sm("displayName","==",t.trim()));if(!(await wp(G)).empty){b("Username taken."),p(!1);return}await Cw(r,{displayName:t.trim(),photoURL:c}),await Rp(os(Qe,"artifacts",Ye,"public","data","users",r.uid),{displayName:t.trim(),nativeLang:"English",targetLang:s,photoUrl:c,lastActive:qs(),userId:r.uid}),window.location.hash="user-search",window.location.reload()}catch{b("Error joining.")}p(!1)}};return M.jsx("div",{style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",padding:20,background:"#f0f2f5"},children:M.jsxs("div",{style:{width:"100%",maxWidth:"440px",padding:40,background:"white",borderRadius:24,boxShadow:"0 20px 40px -10px rgba(0,0,0,0.1)"},children:[M.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:20,color:"#059669"},children:M.jsx(kh,{style:{width:64,height:64}})}),M.jsx("h1",{style:{fontSize:"2rem",fontWeight:800,marginBottom:8,textAlign:"center",color:"#111"},children:"Poly Chat"}),M.jsx("p",{style:{color:"#6b7280",marginBottom:32,textAlign:"center"},children:"Chat without barriers"}),M.jsxs("form",{onSubmit:A,style:{display:"flex",flexDirection:"column",gap:20},children:[M.jsxs("div",{children:[M.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:700,color:"#9ca3af",marginBottom:6,textTransform:"uppercase"},children:"Display Name"}),M.jsx("input",{className:"chat-input",value:t,onChange:x=>i(x.target.value),placeholder:"e.g. Alex",style:{width:"100%",border:"1px solid #e5e7eb",borderRadius:12}})]}),M.jsxs("div",{children:[M.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:700,color:"#9ca3af",marginBottom:6,textTransform:"uppercase"},children:"I'm Learning"}),M.jsx("select",{className:"chat-input",value:s,onChange:x=>l(x.target.value),style:{width:"100%",border:"1px solid #e5e7eb",borderRadius:12},children:to.map(x=>M.jsxs("option",{value:x.name,children:[x.flag," ",x.name]},x.name))})]}),_&&M.jsxs("p",{style:{color:"#ef4444",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:6},children:[M.jsx(cT,{size:14})," ",_]}),M.jsx("button",{className:"send-btn",style:{width:"100%",borderRadius:12,fontWeight:700,fontSize:"1rem",height:50},disabled:g||!t.trim(),children:g?M.jsx(Wr,{className:"spin"}):"Join"})]})]})})}function Bx({user:r,userData:t}){const[i,s]=dt.useState(t?.targetLang||"Spanish"),[l,c]=dt.useState(to.find(F=>F.name===(t?.targetLang||"Spanish"))?.code||"es-ES"),[d,g]=dt.useState(()=>{try{const F=JSON.parse(localStorage.getItem("poly_channels")||"[]");return Array.isArray(F)?F.filter(nt=>typeof nt=="object"&&nt!==null).map(nt=>({...nt,unread:nt.unread||!1})):[{id:"user-search",name:"Find User",isDm:!1}]}catch{return[]}}),[p,_]=dt.useState("user-search"),[b,A]=dt.useState(!1);dt.useEffect(()=>localStorage.setItem("poly_channels",JSON.stringify(d)),[d]),dt.useEffect(()=>{if(!r||!r.uid)return;const F=async()=>{try{await Rp(os(Qe,"artifacts",Ye,"public","data","users",r.uid),{lastActive:qs()},{merge:!0})}catch{}};F();const nt=setInterval(F,6e4);return()=>clearInterval(nt)},[r]),dt.useEffect(()=>{if(!r||!r.uid)return;const F=wi(Qe,"artifacts",Ye,"users",r.uid,"dm_notifications"),nt=Vh(F,ut=>{ut.docChanges().forEach(async ht=>{const Nt=ht.doc,Bt=Nt.id;if(ht.type==="added"||ht.type==="modified"){const wt=`dm_${[r.uid,Bt].sort().join("_")}`;let C="Unknown User";try{const w=await aT(os(Qe,"artifacts",Ye,"public","data","users",Bt));w.exists()&&(C=w.data().displayName)}catch(w){console.error("Failed to fetch partner name",w)}g(w=>{const R=w.filter(S=>S.id!==wt),V=p===wt,N=w.find(S=>S.id===wt),U=N?N.name:C;return[{id:wt,name:U,isDm:!0,unread:!V},...R]});try{await wm(Nt.ref)}catch(w){console.error("Error deleting notification",w)}}})});return()=>nt()},[r.uid,p]);const x=(F,nt)=>{if(F==="ai"){_("ai"),A(!1);return}if(F==="notebook"){_("notebook"),A(!1);return}const ut=`dm_${[r.uid,F].sort().join("_")}`;g(ht=>{const Nt=ht.filter(Bt=>Bt.id!==ut);return[{id:ut,name:nt,isDm:!0,unread:!1},...Nt]}),_(ut),A(!1)},G=F=>{window.confirm("Delete chat?")&&(g(nt=>nt.filter(ut=>ut.id!==F)),p===F&&_("user-search"))},W=async()=>{if(window.confirm("Reset AI history?")){const F=wi(Qe,"artifacts",Ye,"users",r.uid,"ai_messages");(await wp(F)).forEach(ut=>wm(ut.ref)),p==="ai"&&alert("Chat reset.")}},Z=F=>{if(F==="user-search")return"Find User";if(F==="ai")return"Poly";if(F==="notebook")return"My Notebook";const nt=d.find(ut=>ut.id===F);return nt?nt.name:""};return M.jsxs("div",{className:"app-container",children:[M.jsxs("div",{className:`sidebar ${b?"open":"closed"} mobile-sidebar`,children:[M.jsxs("div",{className:"sidebar-content",children:[M.jsx("div",{className:"sidebar-section",children:"Explore"}),M.jsx("button",{className:`nav-btn ${p==="user-search"?"active":""}`,onClick:()=>{_("user-search"),A(!1)},children:M.jsxs("div",{className:"nav-content",children:[M.jsx("div",{className:"nav-icon",children:M.jsx(Sx,{size:16})})," Find User"]})}),M.jsxs("button",{className:`nav-btn ${p==="ai"?"active":""}`,onClick:()=>{_("ai"),A(!1)},children:[M.jsxs("div",{className:"nav-content",children:[M.jsx("div",{className:"nav-icon",children:M.jsx(kh,{size:16})})," Poly"]}),M.jsx("div",{className:"nav-right",children:M.jsx("div",{className:"delete-icon",onClick:F=>{F.stopPropagation(),W()},title:"Reset AI Chat",children:M.jsx(Rm,{size:14})})})]}),M.jsx("button",{className:`nav-btn ${p==="notebook"?"active":""}`,onClick:()=>{_("notebook"),A(!1)},children:M.jsxs("div",{className:"nav-content",children:[M.jsx("div",{className:"nav-icon",children:M.jsx(uT,{size:16})})," Notebook"]})}),M.jsx("div",{className:"sidebar-section",children:"Chats"}),d.filter(F=>F.isDm).map(F=>M.jsxs("button",{className:`nav-btn ${p===F.id?"active":""}`,onClick:()=>{x(F.id.replace("dm_","").split("_").find(nt=>nt!==r.uid),F.name),A(!1)},children:[M.jsxs("div",{className:"nav-content",children:[M.jsx(ch,{name:F.name,size:32})," ",M.jsx("span",{style:{marginLeft:8},children:F.name})]}),M.jsxs("div",{className:"nav-right",children:[F.unread&&M.jsx("span",{className:"unread-badge",children:"1"}),M.jsx("div",{className:"delete-icon",onClick:nt=>{nt.stopPropagation(),G(F.id)},children:M.jsx(Rm,{size:14})})]})]},F.id))]}),M.jsxs("div",{className:"sidebar-footer",children:[M.jsx(ch,{url:r.photoURL,name:r.displayName,size:36}),M.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[M.jsx("p",{style:{fontSize:"0.85rem",fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",margin:0},children:r.displayName}),M.jsx("p",{style:{fontSize:"0.7rem",color:"#9ca3af",margin:0},children:t.targetLang})]})]})]}),b&&M.jsx("div",{className:"sidebar-mobile-overlay",onClick:()=>A(!1)}),M.jsxs("div",{className:"main-area",children:[M.jsxs("div",{className:"header mobile-header",children:[M.jsxs("div",{className:"header-title",children:[M.jsx("button",{onClick:()=>A(!0),className:"menu-btn mobile-menu-btn",children:M.jsx(mx,{size:24})}),Z(p),(p.startsWith("dm_")||p==="ai")&&M.jsx(Uv,{channelId:p,userUid:r.uid})]}),p!=="notebook"&&p!=="user-search"&&M.jsx(Lv,{current:i,onChange:(F,nt)=>{s(F),c(nt)}})]}),p!=="user-search"&&p!=="notebook"&&M.jsxs("div",{className:"header desktop-header",children:[M.jsxs("div",{className:"header-title",children:[Z(p),(p.startsWith("dm_")||p==="ai")&&M.jsx(Uv,{channelId:p,userUid:r.uid})]}),p!=="notebook"&&M.jsx(Lv,{current:i,onChange:(F,nt)=>{s(F),c(nt)}})]}),p==="user-search"?M.jsx(qx,{user:r,onStartDM:x}):p==="notebook"?M.jsx(Hx,{user:r}):M.jsx(Gx,{user:r,channelId:p,targetLang:i,targetLangCode:l},p)]})]})}function Uv({channelId:r,userUid:t}){const i=r.replace("dm_","").split("_").find(l=>l!==t),{isOnline:s}=Px(i);return s?M.jsxs("span",{style:{fontSize:"0.8rem",color:"#059669",marginLeft:10,display:"flex",alignItems:"center",gap:4},children:[M.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:"#059669"}})," Online"]}):null}function Lv({current:r,onChange:t}){const[i,s]=dt.useState(!1),l=to.find(c=>c.name===r)||to[0];return M.jsxs("div",{className:"lang-container",children:[M.jsxs("button",{className:"lang-btn",onClick:()=>s(!i),children:[M.jsx("span",{style:{fontSize:"1.2rem"},children:l.flag})," ",l.name]}),i&&M.jsx("div",{className:"lang-menu",children:to.map(c=>M.jsxs("button",{className:`lang-option ${r===c.name?"active":""}`,onClick:()=>{t(c.name,c.code),s(!1)},children:[M.jsx("span",{children:c.flag})," ",c.name]},c.code))})]})}function qx({user:r,onStartDM:t}){const[i,s]=dt.useState(""),[l,c]=dt.useState([]),[d,g]=dt.useState(!1),[p,_]=dt.useState(!1),b=async A=>{if(A.preventDefault(),!i.trim()){c([]),_(!0);return}g(!0),_(!0),c([]);try{const x=i.trim(),G=Oh(wi(Qe,"artifacts",Ye,"public","data","users"),Sm("displayName",">=",x),Sm("displayName","<=",x+""),iT(20)),Z=(await wp(G)).docs.map(F=>({id:F.id,...F.data()})).filter(F=>F.id!==r.uid);c(Z)}catch(x){console.error("Error searching users:",x),c([])}finally{g(!1)}};return M.jsxs("div",{className:"lobby-view",style:{maxWidth:"700px",margin:"0 auto"},children:[M.jsxs("div",{style:{textAlign:"center",marginBottom:40,marginTop:20},children:[M.jsx("h2",{style:{fontSize:"1.75rem",marginBottom:8,letterSpacing:"-0.5px"},children:"Find a Language Partner"}),M.jsx("p",{style:{color:"#6b7280"},children:"Search by username to start a private chat."})]}),M.jsx("form",{onSubmit:b,style:{marginBottom:40},children:M.jsxs("div",{className:"input-wrapper",style:{padding:"0 16px",borderRadius:16,display:"flex",alignItems:"center"},children:[M.jsx("input",{className:"chat-input",value:i,onChange:A=>s(A.target.value),placeholder:"Enter username...",style:{width:"100%",border:"none",padding:"15px 0",fontSize:"1.1rem"},autoFocus:!0}),M.jsx("button",{type:"submit",className:"send-btn",disabled:d,children:d?M.jsx(Wr,{className:"spin",size:20,color:"white"}):M.jsx(Mv,{size:20,color:"white"})})]})}),l.length>0&&M.jsxs(M.Fragment,{children:[M.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:600,color:"#374151",margin:"30px 0 15px"},children:"Search Results"}),M.jsx("div",{className:"lobby-grid",style:{marginBottom:40},children:l.map(A=>M.jsxs("div",{className:"lobby-card",onClick:x=>{x.stopPropagation(),t(A.id,A.displayName)},children:[M.jsx("div",{className:"card-header",children:M.jsx(ch,{url:A.photoUrl,name:A.displayName,size:56})}),M.jsx("h3",{className:"card-title",children:A.displayName}),M.jsxs("div",{className:"card-meta",children:[M.jsxs("div",{className:"meta-row",children:[M.jsx("span",{className:"meta-label",children:"Learning"}),M.jsx("span",{className:"meta-value",children:A.targetLang})]}),M.jsxs("button",{className:"popup-btn",style:{marginTop:10,padding:10,borderRadius:10},children:[M.jsx(hT,{size:14})," Start Chat"]})]})]},A.id))})]}),p&&l.length===0&&!d&&M.jsxs("p",{style:{color:"#9ca3af",textAlign:"center",marginTop:30,marginBottom:40},children:['No users found matching "',i.trim(),'".']}),M.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:600,color:"#374151",margin:"30px 0 15px"},children:"Meet Poly"}),M.jsx("div",{className:"lobby-grid",children:M.jsxs("div",{className:"lobby-card",onClick:()=>t("ai","Poly"),style:{background:"#fff"},children:[M.jsx("div",{className:"card-header",children:M.jsx("div",{style:{width:56,height:56,borderRadius:"50%",background:"#ecfdf5",color:"#059669",display:"flex",alignItems:"center",justifyContent:"center"},children:M.jsx(kh,{style:{width:32,height:32}})})}),M.jsx("h3",{className:"card-title",children:"Poly"}),M.jsxs("p",{className:"card-subtitle",children:["Your AI language partner ",M.jsx(Mv,{size:14})]})]})})]})}function Hx({user:r}){const[t,i]=dt.useState([]);dt.useEffect(()=>{const l=Oh(wi(Qe,"artifacts",Ye,"users",r.uid,"vocab"),nT("timestamp","desc"));return Vh(l,c=>i(c.docs.map(d=>({id:d.id,...d.data()}))))},[r]);const s=async l=>{await wm(os(Qe,"artifacts",Ye,"users",r.uid,"vocab",l))};return M.jsxs("div",{className:"notebook-view",children:[M.jsx("h2",{style:{marginBottom:24,fontSize:"1.5rem",fontWeight:700},children:"My Vocabulary"}),M.jsx("div",{className:"notebook-grid",children:t.map(l=>M.jsxs("div",{className:"vocab-card",children:[M.jsx("div",{className:"vocab-word",children:l.word}),M.jsx("div",{className:"vocab-def",children:l.definition}),M.jsxs("div",{className:"vocab-meta",children:[M.jsxs("span",{children:["Saved ",l.timestamp?.toDate().toLocaleDateString()]}),M.jsx(Rm,{size:27,className:"vocab-delete",onClick:()=>s(l.id)})]})]},l.id))}),t.length===0&&M.jsx("p",{style:{color:"#9ca3af",textAlign:"center",marginTop:60},children:"No words saved yet. Look up words in chat to save them!"})]})}const dT=["General conversation","Ordering food at a restaurant","Discussing a movie","Talking about family","Planning a trip","Hobbies and interests"],mT=["None","Past Tense","Future Tense","Conditional Sentences","Subjunctive Mood","Formal vs. Informal"];function Fx({topic:r,setTopic:t,grammarFocus:i,setGrammarFocus:s,targetLang:l}){return M.jsxs("div",{style:{padding:"12px 24px",borderBottom:"1px solid #e5e7eb",background:"#f9fafb",display:"flex",flexWrap:"wrap",gap:20,alignItems:"center",fontSize:"0.9rem",color:"#4b5563"},children:[M.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[M.jsx("span",{style:{fontWeight:600,color:"#1f2937"},children:"Topic"}),M.jsx("select",{value:r,onChange:c=>t(c.target.value),style:{padding:"6px 10px",borderRadius:8,border:"1px solid #d1d5db",background:"white",color:"#111827"},children:dT.map(c=>M.jsx("option",{value:c,children:c},c))})]}),M.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[M.jsxs("span",{style:{fontWeight:600,color:"#1f2937"},children:["Focus (",l,")"]}),M.jsx("select",{value:i,onChange:c=>s(c.target.value),style:{padding:"6px 10px",borderRadius:8,border:"1px solid #d1d5db",background:"white",color:"#111827"},children:mT.map(c=>M.jsx("option",{value:c,children:c},c))})]})]})}function Gx({user:r,channelId:t,targetLang:i,targetLangCode:s}){const[l,c]=dt.useState([]),[d,g]=dt.useState(20),[p,_]=dt.useState(null),[b,A]=dt.useState(null),[x,G]=dt.useState(!1),[W,Z]=dt.useState(null),[F,nt]=dt.useState(dT[0]),[ut,ht]=dt.useState(mT[0]),Nt=dt.useRef(null),Bt=t.startsWith("dm_"),wt=Bt?t.replace("dm_","").split("_").find(S=>S!==r.uid):null,C=dt.useRef(!0),w=async(S,xt)=>{await Mc(wi(Qe,"artifacts",Ye,"users",r.uid,"vocab"),{word:S,definition:xt,timestamp:qs(),lang:i}),alert(`Saved "${S}" to Notebook!`)};dt.useEffect(()=>{let S;t==="ai"?S=wi(Qe,"artifacts",Ye,"users",r.uid,"ai_messages"):S=wi(Qe,"artifacts",Ye,"public","data",`chat_${t.replace(/[^a-z0-9-_]/g,"")}`);const xt=Oh(S,nT("timestamp","desc"),iT(d)),Qt=Vh(xt,q=>{const tt=q.docs.map(ct=>({id:ct.id,...ct.data()})).reverse();c(tt),G(!1),C.current&&tt.length>0&&(C.current=!1)});return()=>Qt()},[r,t,d]),dt.useEffect(()=>{d===20&&Nt.current&&(Nt.current.scrollTop=Nt.current.scrollHeight)},[l,d]);const R=()=>{G(!0),g(S=>S+20)},V=async(S,xt)=>{S.preventDefault(),S.stopPropagation(),Z(null);const Qt=window.getSelection().toString().trim(),q=Qt.length>0?Qt:xt,tt=S.currentTarget.getBoundingClientRect();_({x:tt.left,y:tt.bottom,text:q,loading:!0});const{result:ct,error:bt}=await Ox(q);bt&&Z(bt),_(Ct=>({...Ct,loading:!1,result:ct}))},N=async(S,xt,Qt)=>{Z(null);let q=null,tt=null;if(Qt||t==="ai"&&i!=="English"){const Ct=await Mx(S,i);Ct.error&&(tt=Ct.error),Ct.hasError&&(q={correction:Ct.correction||S,reason:Ct.reason||"Grammar check found a potential issue."})}if(tt){Z(tt);return}const ct={text:S,originalText:xt||"",userId:r.uid,displayName:r.displayName,timestamp:qs(),lang:i,langCode:s,isPractice:Qt,correction:q};let bt;t==="ai"?bt=wi(Qe,"artifacts",Ye,"users",r.uid,"ai_messages"):bt=wi(Qe,"artifacts",Ye,"public","data",`chat_${t.replace(/[^a-z0-9-_]/g,"")}`);try{await Mc(bt,ct),Bt&&wt&&await Ux(r.uid,wt)}catch{Z("Failed to send message to database.");return}if(t==="ai"){const Ct=`Topic: ${F}. Grammar Focus: ${ut}.`,{response:O,error:K}=await Vx(S,r.displayName,i,Ct);if(K){Z(K),await Mc(bt,{text:"Poly is temporarily unavailable.",originalText:"Poly is temporarily unavailable.",userId:"ai-companion-bot",displayName:"Poly",timestamp:qs(),lang:i,isBot:!0});return}O&&await Mc(bt,{text:O.target||"Poly had trouble translating the response.",originalText:O.english||"Poly had trouble generating the response.",userId:"ai-companion-bot",displayName:"Poly",timestamp:qs(),lang:i,isBot:!0})}},U=async(S,xt,Qt)=>{await kx(S,xt)};return M.jsxs("div",{className:"chat-view",onClick:()=>{_(null),A(null)},children:[t==="ai"&&M.jsx(Fx,{topic:F,setTopic:nt,grammarFocus:ut,setGrammarFocus:ht,targetLang:i}),W&&M.jsxs("div",{style:{padding:"10px 24px",background:"#fee2e2",color:"#dc2626",fontWeight:600,borderBottom:"1px solid #fca5a5",display:"flex",alignItems:"center",gap:8},children:[M.jsx(cT,{size:16})," ",W]}),p&&M.jsxs("div",{className:"popup",style:{position:"fixed",top:Math.min(p.y,window.innerHeight-200),left:Math.min(p.x,window.innerWidth-300)},onClick:S=>S.stopPropagation(),children:[M.jsxs("div",{className:"popup-header",children:[M.jsxs("span",{className:"popup-title",children:[M.jsx(uT,{size:14})," Definition"]}),M.jsx(Vv,{className:"popup-close",size:16,onClick:()=>_(null)})]}),p.loading?M.jsx(Wr,{className:"spin",style:{color:"#059669"}}):M.jsxs(M.Fragment,{children:[M.jsx("p",{style:{marginBottom:12,lineHeight:1.5},children:p.result}),M.jsxs("button",{className:"popup-btn",onClick:()=>{w(p.text,p.result),_(null)},children:[M.jsx(Tx,{size:12})," Save to Notebook"]})]})]}),M.jsxs("div",{className:"chat-messages",ref:Nt,children:[l.length>=d&&M.jsxs("button",{onClick:R,className:"load-more-btn",children:[x?M.jsx(Wr,{className:"spin",size:14}):M.jsx(gx,{size:14})," Load previous messages"]}),l.map(S=>{const xt=S.userId===r.uid;if(S.isTutor)return null;const Qt=to.find(q=>q.name===S.lang)?.flag;return M.jsxs("div",{className:`msg-row ${xt?"me":"them"}`,children:[!xt&&M.jsx("div",{className:"msg-avatar",style:S.isBot?{background:"#f4f4f5"}:{background:"transparent",border:"none",padding:0},children:S.isBot?M.jsx(kh,{style:{width:16,height:16}}):M.jsx(ch,{name:S.displayName,size:32})}),M.jsxs("div",{className:`msg-bubble ${xt?"me":"them"}`,children:[S.correction&&M.jsx("div",{className:"correction-btn",onClick:q=>{q.stopPropagation(),A(b===S.id?null:S.id)},children:M.jsx(hx,{size:14})}),b===S.id&&M.jsxs("div",{className:"popup",style:{bottom:"100%",right:0,marginBottom:8,width:240,color:"black"},onClick:q=>q.stopPropagation(),children:[M.jsxs("div",{className:"popup-header",children:[M.jsxs("span",{className:"popup-title",style:{color:"#d97706"},children:[M.jsx(vx,{size:12})," Correction"]}),M.jsx(Vv,{className:"popup-close",size:14,onClick:()=>A(null)})]}),M.jsxs("p",{style:{fontStyle:"italic",marginBottom:8,fontSize:"0.8rem"},children:['"',S.correction.reason,'"']}),M.jsx("div",{style:{background:"#ecfdf5",padding:8,borderRadius:8,border:"1px solid #d1fae5",color:"#047857",fontWeight:"bold"},onContextMenu:q=>V(q,S.correction.correction),children:S.correction.correction})]}),M.jsx("p",{style:{margin:0,lineHeight:1.5,whiteSpace:"pre-wrap",cursor:"text"},onContextMenu:q=>V(q,S.text),children:S.text}),M.jsxs("div",{className:"msg-meta",children:[M.jsxs("div",{className:"lang-meta-wrapper",style:{alignItems:xt?"flex-end":"flex-start"},children:[S.originalText&&S.originalText!==S.text&&M.jsxs("span",{style:{fontStyle:"italic",fontSize:"0.75rem",opacity:.8},children:['"',S.originalText,'"']}),S.lang&&M.jsxs("span",{style:{fontWeight:"bold",fontSize:"0.65rem",textTransform:"uppercase"},children:[Qt," ",S.lang]})]}),M.jsxs("div",{className:"time-audio-wrapper",children:[M.jsx("span",{className:"timestamp-meta",children:xx(S.timestamp)}),M.jsx("div",{className:"msg-btn",onClick:()=>U(S.text,S.langCode,S.id),children:M.jsx(Rx,{size:14})})]})]})]})]},S.id)})]}),M.jsx(Qx,{onSend:N,targetLang:i},t)]})}function Qx({onSend:r,targetLang:t}){const[i,s]=dt.useState(""),[l,c]=dt.useState("english"),[d,g]=dt.useState(!1),[p,_]=dt.useState(!1),b=dt.useRef(null),A=dt.useRef(null);dt.useEffect(()=>{A.current&&A.current.focus()},[]);const x=Z=>{const F=Z.target.value;s(F),A.current&&(A.current.style.height="auto",A.current.style.height=`${Math.min(A.current.scrollHeight,120)}px`),b.current&&clearTimeout(b.current),_(!1),F.trim()&&l==="english"&&t!=="English"&&(_(!0),b.current=setTimeout(()=>_(!1),800))},G=async Z=>{if(Z&&Z.preventDefault&&Z.preventDefault(),!i.trim()||d)return;g(!0);let F=i;const nt=l==="target";if(l==="english"&&t!=="English"){const{translated:ut,error:ht}=await Dx(i,t);if(ht){g(!1),await r("","",!1);return}F=ut}await r(F,i,nt),s(""),g(!1),A.current&&(A.current.style.height="auto")},W=Z=>{Z.key==="Enter"&&!Z.shiftKey&&(Z.preventDefault(),G(Z))};return M.jsxs("div",{className:"input-area",children:[t!=="English"&&M.jsxs("div",{className:"input-toggles",children:[M.jsx("button",{className:`toggle-btn ${l==="english"?"active":""}`,onClick:()=>{c("english"),s("")},children:"Type in English"}),M.jsxs("button",{className:`toggle-btn ${l==="target"?"active":""}`,onClick:()=>{c("target"),s("")},children:[M.jsx(ux,{size:12,style:{marginRight:4}})," Practice ",t]})]}),l==="target"&&i.length>3&&M.jsxs("div",{className:"checking-bubble",children:[M.jsx(Wr,{className:"spin",size:12})," Poly is checking your sentence..."]}),M.jsxs("form",{className:"input-wrapper",onSubmit:G,children:[M.jsxs("div",{style:{flex:1,position:"relative"},children:[M.jsx("textarea",{ref:A,rows:1,className:"chat-input",value:i,onChange:x,onKeyDown:W,placeholder:l==="english"?"Type in English...":`Practice in ${t}...`,autoFocus:!0}),(p||d)&&l==="english"&&t!=="English"&&M.jsxs("div",{className:"status-indicator",children:[M.jsx(Wr,{className:"spin",size:12,style:{marginRight:6}})," Translating..."]})]}),M.jsx("button",{type:"submit",className:"send-btn",disabled:d||!i.trim(),children:d?M.jsx(Wr,{className:"spin"}):M.jsx(hT,{size:20})})]})]})}nA.createRoot(document.getElementById("root")).render(M.jsx(Xb.StrictMode,{children:M.jsx(zx,{})}));
